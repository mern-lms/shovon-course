var v_=t=>{throw TypeError(t)};var tm=(t,e,n)=>e.has(t)||v_("Cannot "+n);var H=(t,e,n)=>(tm(t,e,"read from private field"),n?n.call(t):e.get(t)),Ne=(t,e,n)=>e.has(t)?v_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ge=(t,e,n,r)=>(tm(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Lt=(t,e,n)=>(tm(t,e,"access private method"),n);var ud=(t,e,n,r)=>({set _(s){ge(t,e,s,n)},get _(){return H(t,e,r)}});function Ij(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function TS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var SS={exports:{}},Nf={},CS={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _u=Symbol.for("react.element"),Pj=Symbol.for("react.portal"),Rj=Symbol.for("react.fragment"),Nj=Symbol.for("react.strict_mode"),kj=Symbol.for("react.profiler"),Dj=Symbol.for("react.provider"),jj=Symbol.for("react.context"),Mj=Symbol.for("react.forward_ref"),Oj=Symbol.for("react.suspense"),Vj=Symbol.for("react.memo"),Lj=Symbol.for("react.lazy"),w_=Symbol.iterator;function Fj(t){return t===null||typeof t!="object"?null:(t=w_&&t[w_]||t["@@iterator"],typeof t=="function"?t:null)}var AS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},IS=Object.assign,PS={};function tl(t,e,n){this.props=t,this.context=e,this.refs=PS,this.updater=n||AS}tl.prototype.isReactComponent={};tl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};tl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function RS(){}RS.prototype=tl.prototype;function Sv(t,e,n){this.props=t,this.context=e,this.refs=PS,this.updater=n||AS}var Cv=Sv.prototype=new RS;Cv.constructor=Sv;IS(Cv,tl.prototype);Cv.isPureReactComponent=!0;var x_=Array.isArray,NS=Object.prototype.hasOwnProperty,Av={current:null},kS={key:!0,ref:!0,__self:!0,__source:!0};function DS(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)NS.call(e,r)&&!kS.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:_u,type:t,key:i,ref:o,props:s,_owner:Av.current}}function Uj(t,e){return{$$typeof:_u,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Iv(t){return typeof t=="object"&&t!==null&&t.$$typeof===_u}function Bj(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var __=/\/+/g;function nm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Bj(""+t.key):e.toString(36)}function Gd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case _u:case Pj:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+nm(o,0):r,x_(s)?(n="",t!=null&&(n=t.replace(__,"$&/")+"/"),Gd(s,e,n,"",function(c){return c})):s!=null&&(Iv(s)&&(s=Uj(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(__,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",x_(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+nm(i,a);o+=Gd(i,e,n,l,s)}else if(l=Fj(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+nm(i,a++),o+=Gd(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function dd(t,e,n){if(t==null)return t;var r=[],s=0;return Gd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function $j(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sn={current:null},Qd={transition:null},zj={ReactCurrentDispatcher:sn,ReactCurrentBatchConfig:Qd,ReactCurrentOwner:Av};function jS(){throw Error("act(...) is not supported in production builds of React.")}xe.Children={map:dd,forEach:function(t,e,n){dd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return dd(t,function(){e++}),e},toArray:function(t){return dd(t,function(e){return e})||[]},only:function(t){if(!Iv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xe.Component=tl;xe.Fragment=Rj;xe.Profiler=kj;xe.PureComponent=Sv;xe.StrictMode=Nj;xe.Suspense=Oj;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zj;xe.act=jS;xe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=IS({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Av.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)NS.call(e,l)&&!kS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:_u,type:t.type,key:s,ref:i,props:r,_owner:o}};xe.createContext=function(t){return t={$$typeof:jj,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Dj,_context:t},t.Consumer=t};xe.createElement=DS;xe.createFactory=function(t){var e=DS.bind(null,t);return e.type=t,e};xe.createRef=function(){return{current:null}};xe.forwardRef=function(t){return{$$typeof:Mj,render:t}};xe.isValidElement=Iv;xe.lazy=function(t){return{$$typeof:Lj,_payload:{_status:-1,_result:t},_init:$j}};xe.memo=function(t,e){return{$$typeof:Vj,type:t,compare:e===void 0?null:e}};xe.startTransition=function(t){var e=Qd.transition;Qd.transition={};try{t()}finally{Qd.transition=e}};xe.unstable_act=jS;xe.useCallback=function(t,e){return sn.current.useCallback(t,e)};xe.useContext=function(t){return sn.current.useContext(t)};xe.useDebugValue=function(){};xe.useDeferredValue=function(t){return sn.current.useDeferredValue(t)};xe.useEffect=function(t,e){return sn.current.useEffect(t,e)};xe.useId=function(){return sn.current.useId()};xe.useImperativeHandle=function(t,e,n){return sn.current.useImperativeHandle(t,e,n)};xe.useInsertionEffect=function(t,e){return sn.current.useInsertionEffect(t,e)};xe.useLayoutEffect=function(t,e){return sn.current.useLayoutEffect(t,e)};xe.useMemo=function(t,e){return sn.current.useMemo(t,e)};xe.useReducer=function(t,e,n){return sn.current.useReducer(t,e,n)};xe.useRef=function(t){return sn.current.useRef(t)};xe.useState=function(t){return sn.current.useState(t)};xe.useSyncExternalStore=function(t,e,n){return sn.current.useSyncExternalStore(t,e,n)};xe.useTransition=function(){return sn.current.useTransition()};xe.version="18.3.1";CS.exports=xe;var v=CS.exports;const X=TS(v),MS=Ij({__proto__:null,default:X},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wj=v,Hj=Symbol.for("react.element"),qj=Symbol.for("react.fragment"),Kj=Object.prototype.hasOwnProperty,Gj=Wj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qj={key:!0,ref:!0,__self:!0,__source:!0};function OS(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Kj.call(e,r)&&!Qj.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Hj,type:t,key:i,ref:o,props:s,_owner:Gj.current}}Nf.Fragment=qj;Nf.jsx=OS;Nf.jsxs=OS;SS.exports=Nf;var d=SS.exports,VS={exports:{}},Dn={},LS={exports:{}},FS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,z){var K=O.length;O.push(z);e:for(;0<K;){var Z=K-1>>>1,ne=O[Z];if(0<s(ne,z))O[Z]=z,O[K]=ne,K=Z;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var z=O[0],K=O.pop();if(K!==z){O[0]=K;e:for(var Z=0,ne=O.length,se=ne>>>1;Z<se;){var Ie=2*(Z+1)-1,Ye=O[Ie],_e=Ie+1,ft=O[_e];if(0>s(Ye,K))_e<ne&&0>s(ft,Ye)?(O[Z]=ft,O[_e]=K,Z=_e):(O[Z]=Ye,O[Ie]=K,Z=Ie);else if(_e<ne&&0>s(ft,K))O[Z]=ft,O[_e]=K,Z=_e;else break e}}return z}function s(O,z){var K=O.sortIndex-z.sortIndex;return K!==0?K:O.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,p=null,f=3,m=!1,w=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(O){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=O)r(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(c)}}function I(O){if(y=!1,T(O),!w)if(n(l)!==null)w=!0,G(D);else{var z=n(c);z!==null&&$(I,z.startTime-O)}}function D(O,z){w=!1,y&&(y=!1,x(S),S=-1),m=!0;var K=f;try{for(T(z),p=n(l);p!==null&&(!(p.expirationTime>z)||O&&!R());){var Z=p.callback;if(typeof Z=="function"){p.callback=null,f=p.priorityLevel;var ne=Z(p.expirationTime<=z);z=t.unstable_now(),typeof ne=="function"?p.callback=ne:p===n(l)&&r(l),T(z)}else r(l);p=n(l)}if(p!==null)var se=!0;else{var Ie=n(c);Ie!==null&&$(I,Ie.startTime-z),se=!1}return se}finally{p=null,f=K,m=!1}}var M=!1,C=null,S=-1,A=5,k=-1;function R(){return!(t.unstable_now()-k<A)}function j(){if(C!==null){var O=t.unstable_now();k=O;var z=!0;try{z=C(!0,O)}finally{z?N():(M=!1,C=null)}}else M=!1}var N;if(typeof E=="function")N=function(){E(j)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,U=q.port2;q.port1.onmessage=j,N=function(){U.postMessage(null)}}else N=function(){_(j,0)};function G(O){C=O,M||(M=!0,N())}function $(O,z){S=_(function(){O(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){w||m||(w=!0,G(D))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var K=f;f=z;try{return O()}finally{f=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,z){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var K=f;f=O;try{return z()}finally{f=K}},t.unstable_scheduleCallback=function(O,z,K){var Z=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?Z+K:Z):K=Z,O){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=K+ne,O={id:h++,callback:z,priorityLevel:O,startTime:K,expirationTime:ne,sortIndex:-1},K>Z?(O.sortIndex=K,e(c,O),n(l)===null&&O===n(c)&&(y?(x(S),S=-1):y=!0,$(I,K-Z))):(O.sortIndex=ne,e(l,O),w||m||(w=!0,G(D))),O},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(O){var z=f;return function(){var K=f;f=z;try{return O.apply(this,arguments)}finally{f=K}}}})(FS);LS.exports=FS;var Yj=LS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xj=v,Nn=Yj;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var US=new Set,Pc={};function So(t,e){ja(t,e),ja(t+"Capture",e)}function ja(t,e){for(Pc[t]=e,t=0;t<e.length;t++)US.add(e[t])}var ss=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gg=Object.prototype.hasOwnProperty,Jj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E_={},b_={};function Zj(t){return gg.call(b_,t)?!0:gg.call(E_,t)?!1:Jj.test(t)?b_[t]=!0:(E_[t]=!0,!1)}function eM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function tM(t,e,n,r){if(e===null||typeof e>"u"||eM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function on(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dt[t]=new on(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dt[e]=new on(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dt[t]=new on(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dt[t]=new on(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dt[t]=new on(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dt[t]=new on(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dt[t]=new on(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dt[t]=new on(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dt[t]=new on(t,5,!1,t.toLowerCase(),null,!1,!1)});var Pv=/[\-:]([a-z])/g;function Rv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Pv,Rv);Dt[e]=new on(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Pv,Rv);Dt[e]=new on(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Pv,Rv);Dt[e]=new on(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dt[t]=new on(t,1,!1,t.toLowerCase(),null,!1,!1)});Dt.xlinkHref=new on("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dt[t]=new on(t,1,!1,t.toLowerCase(),null,!0,!0)});function Nv(t,e,n,r){var s=Dt.hasOwnProperty(e)?Dt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(tM(e,n,s,r)&&(n=null),r||s===null?Zj(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ys=Xj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hd=Symbol.for("react.element"),Wo=Symbol.for("react.portal"),Ho=Symbol.for("react.fragment"),kv=Symbol.for("react.strict_mode"),yg=Symbol.for("react.profiler"),BS=Symbol.for("react.provider"),$S=Symbol.for("react.context"),Dv=Symbol.for("react.forward_ref"),vg=Symbol.for("react.suspense"),wg=Symbol.for("react.suspense_list"),jv=Symbol.for("react.memo"),js=Symbol.for("react.lazy"),zS=Symbol.for("react.offscreen"),T_=Symbol.iterator;function Vl(t){return t===null||typeof t!="object"?null:(t=T_&&t[T_]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Object.assign,rm;function Gl(t){if(rm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);rm=e&&e[1]||""}return`
`+rm+t}var sm=!1;function im(t,e){if(!t||sm)return"";sm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{sm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Gl(t):""}function nM(t){switch(t.tag){case 5:return Gl(t.type);case 16:return Gl("Lazy");case 13:return Gl("Suspense");case 19:return Gl("SuspenseList");case 0:case 2:case 15:return t=im(t.type,!1),t;case 11:return t=im(t.type.render,!1),t;case 1:return t=im(t.type,!0),t;default:return""}}function xg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ho:return"Fragment";case Wo:return"Portal";case yg:return"Profiler";case kv:return"StrictMode";case vg:return"Suspense";case wg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $S:return(t.displayName||"Context")+".Consumer";case BS:return(t._context.displayName||"Context")+".Provider";case Dv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jv:return e=t.displayName||null,e!==null?e:xg(t.type)||"Memo";case js:e=t._payload,t=t._init;try{return xg(t(e))}catch{}}return null}function rM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xg(e);case 8:return e===kv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function hi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function WS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function sM(t){var e=WS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fd(t){t._valueTracker||(t._valueTracker=sM(t))}function HS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=WS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ch(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _g(t,e){var n=e.checked;return tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function S_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=hi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function qS(t,e){e=e.checked,e!=null&&Nv(t,"checked",e,!1)}function Eg(t,e){qS(t,e);var n=hi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bg(t,e.type,n):e.hasOwnProperty("defaultValue")&&bg(t,e.type,hi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function C_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function bg(t,e,n){(e!=="number"||Ch(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ql=Array.isArray;function da(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+hi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Tg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function A_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(Ql(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:hi(n)}}function KS(t,e){var n=hi(e.value),r=hi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function I_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function GS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?GS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var pd,QS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(pd=pd||document.createElement("div"),pd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Rc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ac={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iM=["Webkit","ms","Moz","O"];Object.keys(ac).forEach(function(t){iM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ac[e]=ac[t]})});function YS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ac.hasOwnProperty(t)&&ac[t]?(""+e).trim():e+"px"}function XS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=YS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var oM=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cg(t,e){if(e){if(oM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function Ag(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ig=null;function Mv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pg=null,ha=null,fa=null;function P_(t){if(t=Tu(t)){if(typeof Pg!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=Of(e),Pg(t.stateNode,t.type,e))}}function JS(t){ha?fa?fa.push(t):fa=[t]:ha=t}function ZS(){if(ha){var t=ha,e=fa;if(fa=ha=null,P_(t),e)for(t=0;t<e.length;t++)P_(e[t])}}function eC(t,e){return t(e)}function tC(){}var om=!1;function nC(t,e,n){if(om)return t(e,n);om=!0;try{return eC(t,e,n)}finally{om=!1,(ha!==null||fa!==null)&&(tC(),ZS())}}function Nc(t,e){var n=t.stateNode;if(n===null)return null;var r=Of(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var Rg=!1;if(ss)try{var Ll={};Object.defineProperty(Ll,"passive",{get:function(){Rg=!0}}),window.addEventListener("test",Ll,Ll),window.removeEventListener("test",Ll,Ll)}catch{Rg=!1}function aM(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var lc=!1,Ah=null,Ih=!1,Ng=null,lM={onError:function(t){lc=!0,Ah=t}};function cM(t,e,n,r,s,i,o,a,l){lc=!1,Ah=null,aM.apply(lM,arguments)}function uM(t,e,n,r,s,i,o,a,l){if(cM.apply(this,arguments),lc){if(lc){var c=Ah;lc=!1,Ah=null}else throw Error(Q(198));Ih||(Ih=!0,Ng=c)}}function Co(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function rC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function R_(t){if(Co(t)!==t)throw Error(Q(188))}function dM(t){var e=t.alternate;if(!e){if(e=Co(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return R_(s),t;if(i===r)return R_(s),e;i=i.sibling}throw Error(Q(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function sC(t){return t=dM(t),t!==null?iC(t):null}function iC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=iC(t);if(e!==null)return e;t=t.sibling}return null}var oC=Nn.unstable_scheduleCallback,N_=Nn.unstable_cancelCallback,hM=Nn.unstable_shouldYield,fM=Nn.unstable_requestPaint,dt=Nn.unstable_now,pM=Nn.unstable_getCurrentPriorityLevel,Ov=Nn.unstable_ImmediatePriority,aC=Nn.unstable_UserBlockingPriority,Ph=Nn.unstable_NormalPriority,mM=Nn.unstable_LowPriority,lC=Nn.unstable_IdlePriority,kf=null,Cr=null;function gM(t){if(Cr&&typeof Cr.onCommitFiberRoot=="function")try{Cr.onCommitFiberRoot(kf,t,void 0,(t.current.flags&128)===128)}catch{}}var ar=Math.clz32?Math.clz32:wM,yM=Math.log,vM=Math.LN2;function wM(t){return t>>>=0,t===0?32:31-(yM(t)/vM|0)|0}var md=64,gd=4194304;function Yl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Rh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Yl(a):(i&=o,i!==0&&(r=Yl(i)))}else o=n&~s,o!==0?r=Yl(o):i!==0&&(r=Yl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ar(e),s=1<<n,r|=t[n],e&=~s;return r}function xM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _M(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ar(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=xM(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function kg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function cC(){var t=md;return md<<=1,!(md&4194240)&&(md=64),t}function am(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Eu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ar(e),t[e]=n}function EM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ar(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Vv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ar(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var je=0;function uC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var dC,Lv,hC,fC,pC,Dg=!1,yd=[],Xs=null,Js=null,Zs=null,kc=new Map,Dc=new Map,Os=[],bM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function k_(t,e){switch(t){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":kc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dc.delete(e.pointerId)}}function Fl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Tu(e),e!==null&&Lv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function TM(t,e,n,r,s){switch(e){case"focusin":return Xs=Fl(Xs,t,e,n,r,s),!0;case"dragenter":return Js=Fl(Js,t,e,n,r,s),!0;case"mouseover":return Zs=Fl(Zs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return kc.set(i,Fl(kc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Dc.set(i,Fl(Dc.get(i)||null,t,e,n,r,s)),!0}return!1}function mC(t){var e=Qi(t.target);if(e!==null){var n=Co(e);if(n!==null){if(e=n.tag,e===13){if(e=rC(n),e!==null){t.blockedOn=e,pC(t.priority,function(){hC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=jg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ig=r,n.target.dispatchEvent(r),Ig=null}else return e=Tu(n),e!==null&&Lv(e),t.blockedOn=n,!1;e.shift()}return!0}function D_(t,e,n){Yd(t)&&n.delete(e)}function SM(){Dg=!1,Xs!==null&&Yd(Xs)&&(Xs=null),Js!==null&&Yd(Js)&&(Js=null),Zs!==null&&Yd(Zs)&&(Zs=null),kc.forEach(D_),Dc.forEach(D_)}function Ul(t,e){t.blockedOn===e&&(t.blockedOn=null,Dg||(Dg=!0,Nn.unstable_scheduleCallback(Nn.unstable_NormalPriority,SM)))}function jc(t){function e(s){return Ul(s,t)}if(0<yd.length){Ul(yd[0],t);for(var n=1;n<yd.length;n++){var r=yd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Xs!==null&&Ul(Xs,t),Js!==null&&Ul(Js,t),Zs!==null&&Ul(Zs,t),kc.forEach(e),Dc.forEach(e),n=0;n<Os.length;n++)r=Os[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Os.length&&(n=Os[0],n.blockedOn===null);)mC(n),n.blockedOn===null&&Os.shift()}var pa=ys.ReactCurrentBatchConfig,Nh=!0;function CM(t,e,n,r){var s=je,i=pa.transition;pa.transition=null;try{je=1,Fv(t,e,n,r)}finally{je=s,pa.transition=i}}function AM(t,e,n,r){var s=je,i=pa.transition;pa.transition=null;try{je=4,Fv(t,e,n,r)}finally{je=s,pa.transition=i}}function Fv(t,e,n,r){if(Nh){var s=jg(t,e,n,r);if(s===null)ym(t,e,r,kh,n),k_(t,r);else if(TM(s,t,e,n,r))r.stopPropagation();else if(k_(t,r),e&4&&-1<bM.indexOf(t)){for(;s!==null;){var i=Tu(s);if(i!==null&&dC(i),i=jg(t,e,n,r),i===null&&ym(t,e,r,kh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ym(t,e,r,null,n)}}var kh=null;function jg(t,e,n,r){if(kh=null,t=Mv(r),t=Qi(t),t!==null)if(e=Co(t),e===null)t=null;else if(n=e.tag,n===13){if(t=rC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return kh=t,null}function gC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pM()){case Ov:return 1;case aC:return 4;case Ph:case mM:return 16;case lC:return 536870912;default:return 16}default:return 16}}var Ks=null,Uv=null,Xd=null;function yC(){if(Xd)return Xd;var t,e=Uv,n=e.length,r,s="value"in Ks?Ks.value:Ks.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Xd=s.slice(t,1<r?1-r:void 0)}function Jd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vd(){return!0}function j_(){return!1}function jn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?vd:j_,this.isPropagationStopped=j_,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vd)},persist:function(){},isPersistent:vd}),e}var nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bv=jn(nl),bu=tt({},nl,{view:0,detail:0}),IM=jn(bu),lm,cm,Bl,Df=tt({},bu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$v,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bl&&(Bl&&t.type==="mousemove"?(lm=t.screenX-Bl.screenX,cm=t.screenY-Bl.screenY):cm=lm=0,Bl=t),lm)},movementY:function(t){return"movementY"in t?t.movementY:cm}}),M_=jn(Df),PM=tt({},Df,{dataTransfer:0}),RM=jn(PM),NM=tt({},bu,{relatedTarget:0}),um=jn(NM),kM=tt({},nl,{animationName:0,elapsedTime:0,pseudoElement:0}),DM=jn(kM),jM=tt({},nl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),MM=jn(jM),OM=tt({},nl,{data:0}),O_=jn(OM),VM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=FM[t])?!!e[t]:!1}function $v(){return UM}var BM=tt({},bu,{key:function(t){if(t.key){var e=VM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$v,charCode:function(t){return t.type==="keypress"?Jd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$M=jn(BM),zM=tt({},Df,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),V_=jn(zM),WM=tt({},bu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$v}),HM=jn(WM),qM=tt({},nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),KM=jn(qM),GM=tt({},Df,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),QM=jn(GM),YM=[9,13,27,32],zv=ss&&"CompositionEvent"in window,cc=null;ss&&"documentMode"in document&&(cc=document.documentMode);var XM=ss&&"TextEvent"in window&&!cc,vC=ss&&(!zv||cc&&8<cc&&11>=cc),L_=" ",F_=!1;function wC(t,e){switch(t){case"keyup":return YM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qo=!1;function JM(t,e){switch(t){case"compositionend":return xC(e);case"keypress":return e.which!==32?null:(F_=!0,L_);case"textInput":return t=e.data,t===L_&&F_?null:t;default:return null}}function ZM(t,e){if(qo)return t==="compositionend"||!zv&&wC(t,e)?(t=yC(),Xd=Uv=Ks=null,qo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return vC&&e.locale!=="ko"?null:e.data;default:return null}}var eO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function U_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!eO[t.type]:e==="textarea"}function _C(t,e,n,r){JS(r),e=Dh(e,"onChange"),0<e.length&&(n=new Bv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var uc=null,Mc=null;function tO(t){kC(t,0)}function jf(t){var e=Qo(t);if(HS(e))return t}function nO(t,e){if(t==="change")return e}var EC=!1;if(ss){var dm;if(ss){var hm="oninput"in document;if(!hm){var B_=document.createElement("div");B_.setAttribute("oninput","return;"),hm=typeof B_.oninput=="function"}dm=hm}else dm=!1;EC=dm&&(!document.documentMode||9<document.documentMode)}function $_(){uc&&(uc.detachEvent("onpropertychange",bC),Mc=uc=null)}function bC(t){if(t.propertyName==="value"&&jf(Mc)){var e=[];_C(e,Mc,t,Mv(t)),nC(tO,e)}}function rO(t,e,n){t==="focusin"?($_(),uc=e,Mc=n,uc.attachEvent("onpropertychange",bC)):t==="focusout"&&$_()}function sO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jf(Mc)}function iO(t,e){if(t==="click")return jf(e)}function oO(t,e){if(t==="input"||t==="change")return jf(e)}function aO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cr=typeof Object.is=="function"?Object.is:aO;function Oc(t,e){if(cr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!gg.call(e,s)||!cr(t[s],e[s]))return!1}return!0}function z_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function W_(t,e){var n=z_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=z_(n)}}function TC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?TC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function SC(){for(var t=window,e=Ch();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ch(t.document)}return e}function Wv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function lO(t){var e=SC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&TC(n.ownerDocument.documentElement,n)){if(r!==null&&Wv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=W_(n,i);var o=W_(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var cO=ss&&"documentMode"in document&&11>=document.documentMode,Ko=null,Mg=null,dc=null,Og=!1;function H_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Og||Ko==null||Ko!==Ch(r)||(r=Ko,"selectionStart"in r&&Wv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),dc&&Oc(dc,r)||(dc=r,r=Dh(Mg,"onSelect"),0<r.length&&(e=new Bv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ko)))}function wd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Go={animationend:wd("Animation","AnimationEnd"),animationiteration:wd("Animation","AnimationIteration"),animationstart:wd("Animation","AnimationStart"),transitionend:wd("Transition","TransitionEnd")},fm={},CC={};ss&&(CC=document.createElement("div").style,"AnimationEvent"in window||(delete Go.animationend.animation,delete Go.animationiteration.animation,delete Go.animationstart.animation),"TransitionEvent"in window||delete Go.transitionend.transition);function Mf(t){if(fm[t])return fm[t];if(!Go[t])return t;var e=Go[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in CC)return fm[t]=e[n];return t}var AC=Mf("animationend"),IC=Mf("animationiteration"),PC=Mf("animationstart"),RC=Mf("transitionend"),NC=new Map,q_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ii(t,e){NC.set(t,e),So(e,[t])}for(var pm=0;pm<q_.length;pm++){var mm=q_[pm],uO=mm.toLowerCase(),dO=mm[0].toUpperCase()+mm.slice(1);Ii(uO,"on"+dO)}Ii(AC,"onAnimationEnd");Ii(IC,"onAnimationIteration");Ii(PC,"onAnimationStart");Ii("dblclick","onDoubleClick");Ii("focusin","onFocus");Ii("focusout","onBlur");Ii(RC,"onTransitionEnd");ja("onMouseEnter",["mouseout","mouseover"]);ja("onMouseLeave",["mouseout","mouseover"]);ja("onPointerEnter",["pointerout","pointerover"]);ja("onPointerLeave",["pointerout","pointerover"]);So("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));So("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));So("onBeforeInput",["compositionend","keypress","textInput","paste"]);So("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));So("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));So("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xl));function K_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,uM(r,e,void 0,t),t.currentTarget=null}function kC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;K_(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;K_(s,a,c),i=l}}}if(Ih)throw t=Ng,Ih=!1,Ng=null,t}function We(t,e){var n=e[Bg];n===void 0&&(n=e[Bg]=new Set);var r=t+"__bubble";n.has(r)||(DC(e,t,2,!1),n.add(r))}function gm(t,e,n){var r=0;e&&(r|=4),DC(n,t,r,e)}var xd="_reactListening"+Math.random().toString(36).slice(2);function Vc(t){if(!t[xd]){t[xd]=!0,US.forEach(function(n){n!=="selectionchange"&&(hO.has(n)||gm(n,!1,t),gm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xd]||(e[xd]=!0,gm("selectionchange",!1,e))}}function DC(t,e,n,r){switch(gC(e)){case 1:var s=CM;break;case 4:s=AM;break;default:s=Fv}n=s.bind(null,e,n,t),s=void 0,!Rg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ym(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Qi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}nC(function(){var c=i,h=Mv(n),p=[];e:{var f=NC.get(t);if(f!==void 0){var m=Bv,w=t;switch(t){case"keypress":if(Jd(n)===0)break e;case"keydown":case"keyup":m=$M;break;case"focusin":w="focus",m=um;break;case"focusout":w="blur",m=um;break;case"beforeblur":case"afterblur":m=um;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=M_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=RM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=HM;break;case AC:case IC:case PC:m=DM;break;case RC:m=KM;break;case"scroll":m=IM;break;case"wheel":m=QM;break;case"copy":case"cut":case"paste":m=MM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=V_}var y=(e&4)!==0,_=!y&&t==="scroll",x=y?f!==null?f+"Capture":null:f;y=[];for(var E=c,T;E!==null;){T=E;var I=T.stateNode;if(T.tag===5&&I!==null&&(T=I,x!==null&&(I=Nc(E,x),I!=null&&y.push(Lc(E,I,T)))),_)break;E=E.return}0<y.length&&(f=new m(f,w,null,n,h),p.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Ig&&(w=n.relatedTarget||n.fromElement)&&(Qi(w)||w[is]))break e;if((m||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=c,w=w?Qi(w):null,w!==null&&(_=Co(w),w!==_||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=c),m!==w)){if(y=M_,I="onMouseLeave",x="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(y=V_,I="onPointerLeave",x="onPointerEnter",E="pointer"),_=m==null?f:Qo(m),T=w==null?f:Qo(w),f=new y(I,E+"leave",m,n,h),f.target=_,f.relatedTarget=T,I=null,Qi(h)===c&&(y=new y(x,E+"enter",w,n,h),y.target=T,y.relatedTarget=_,I=y),_=I,m&&w)t:{for(y=m,x=w,E=0,T=y;T;T=Oo(T))E++;for(T=0,I=x;I;I=Oo(I))T++;for(;0<E-T;)y=Oo(y),E--;for(;0<T-E;)x=Oo(x),T--;for(;E--;){if(y===x||x!==null&&y===x.alternate)break t;y=Oo(y),x=Oo(x)}y=null}else y=null;m!==null&&G_(p,f,m,y,!1),w!==null&&_!==null&&G_(p,_,w,y,!0)}}e:{if(f=c?Qo(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var D=nO;else if(U_(f))if(EC)D=oO;else{D=sO;var M=rO}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(D=iO);if(D&&(D=D(t,c))){_C(p,D,n,h);break e}M&&M(t,f,c),t==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&bg(f,"number",f.value)}switch(M=c?Qo(c):window,t){case"focusin":(U_(M)||M.contentEditable==="true")&&(Ko=M,Mg=c,dc=null);break;case"focusout":dc=Mg=Ko=null;break;case"mousedown":Og=!0;break;case"contextmenu":case"mouseup":case"dragend":Og=!1,H_(p,n,h);break;case"selectionchange":if(cO)break;case"keydown":case"keyup":H_(p,n,h)}var C;if(zv)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else qo?wC(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(vC&&n.locale!=="ko"&&(qo||S!=="onCompositionStart"?S==="onCompositionEnd"&&qo&&(C=yC()):(Ks=h,Uv="value"in Ks?Ks.value:Ks.textContent,qo=!0)),M=Dh(c,S),0<M.length&&(S=new O_(S,t,null,n,h),p.push({event:S,listeners:M}),C?S.data=C:(C=xC(n),C!==null&&(S.data=C)))),(C=XM?JM(t,n):ZM(t,n))&&(c=Dh(c,"onBeforeInput"),0<c.length&&(h=new O_("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:c}),h.data=C))}kC(p,e)})}function Lc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Dh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Nc(t,n),i!=null&&r.unshift(Lc(t,i,s)),i=Nc(t,e),i!=null&&r.push(Lc(t,i,s))),t=t.return}return r}function Oo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function G_(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Nc(n,i),l!=null&&o.unshift(Lc(n,l,a))):s||(l=Nc(n,i),l!=null&&o.push(Lc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var fO=/\r\n?/g,pO=/\u0000|\uFFFD/g;function Q_(t){return(typeof t=="string"?t:""+t).replace(fO,`
`).replace(pO,"")}function _d(t,e,n){if(e=Q_(e),Q_(t)!==e&&n)throw Error(Q(425))}function jh(){}var Vg=null,Lg=null;function Fg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ug=typeof setTimeout=="function"?setTimeout:void 0,mO=typeof clearTimeout=="function"?clearTimeout:void 0,Y_=typeof Promise=="function"?Promise:void 0,gO=typeof queueMicrotask=="function"?queueMicrotask:typeof Y_<"u"?function(t){return Y_.resolve(null).then(t).catch(yO)}:Ug;function yO(t){setTimeout(function(){throw t})}function vm(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),jc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);jc(e)}function ei(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function X_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var rl=Math.random().toString(36).slice(2),br="__reactFiber$"+rl,Fc="__reactProps$"+rl,is="__reactContainer$"+rl,Bg="__reactEvents$"+rl,vO="__reactListeners$"+rl,wO="__reactHandles$"+rl;function Qi(t){var e=t[br];if(e)return e;for(var n=t.parentNode;n;){if(e=n[is]||n[br]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=X_(t);t!==null;){if(n=t[br])return n;t=X_(t)}return e}t=n,n=t.parentNode}return null}function Tu(t){return t=t[br]||t[is],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function Of(t){return t[Fc]||null}var $g=[],Yo=-1;function Pi(t){return{current:t}}function qe(t){0>Yo||(t.current=$g[Yo],$g[Yo]=null,Yo--)}function Be(t,e){Yo++,$g[Yo]=t.current,t.current=e}var fi={},Kt=Pi(fi),mn=Pi(!1),ho=fi;function Ma(t,e){var n=t.type.contextTypes;if(!n)return fi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function gn(t){return t=t.childContextTypes,t!=null}function Mh(){qe(mn),qe(Kt)}function J_(t,e,n){if(Kt.current!==fi)throw Error(Q(168));Be(Kt,e),Be(mn,n)}function jC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Q(108,rM(t)||"Unknown",s));return tt({},n,r)}function Oh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fi,ho=Kt.current,Be(Kt,t),Be(mn,mn.current),!0}function Z_(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=jC(t,e,ho),r.__reactInternalMemoizedMergedChildContext=t,qe(mn),qe(Kt),Be(Kt,t)):qe(mn),Be(mn,n)}var Gr=null,Vf=!1,wm=!1;function MC(t){Gr===null?Gr=[t]:Gr.push(t)}function xO(t){Vf=!0,MC(t)}function Ri(){if(!wm&&Gr!==null){wm=!0;var t=0,e=je;try{var n=Gr;for(je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Gr=null,Vf=!1}catch(s){throw Gr!==null&&(Gr=Gr.slice(t+1)),oC(Ov,Ri),s}finally{je=e,wm=!1}}return null}var Xo=[],Jo=0,Vh=null,Lh=0,Un=[],Bn=0,fo=null,Yr=1,Xr="";function Hi(t,e){Xo[Jo++]=Lh,Xo[Jo++]=Vh,Vh=t,Lh=e}function OC(t,e,n){Un[Bn++]=Yr,Un[Bn++]=Xr,Un[Bn++]=fo,fo=t;var r=Yr;t=Xr;var s=32-ar(r)-1;r&=~(1<<s),n+=1;var i=32-ar(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Yr=1<<32-ar(e)+s|n<<s|r,Xr=i+t}else Yr=1<<i|n<<s|r,Xr=t}function Hv(t){t.return!==null&&(Hi(t,1),OC(t,1,0))}function qv(t){for(;t===Vh;)Vh=Xo[--Jo],Xo[Jo]=null,Lh=Xo[--Jo],Xo[Jo]=null;for(;t===fo;)fo=Un[--Bn],Un[Bn]=null,Xr=Un[--Bn],Un[Bn]=null,Yr=Un[--Bn],Un[Bn]=null}var Pn=null,An=null,Ge=!1,ir=null;function VC(t,e){var n=Wn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function e1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pn=t,An=ei(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pn=t,An=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fo!==null?{id:Yr,overflow:Xr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Wn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Pn=t,An=null,!0):!1;default:return!1}}function zg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Wg(t){if(Ge){var e=An;if(e){var n=e;if(!e1(t,e)){if(zg(t))throw Error(Q(418));e=ei(n.nextSibling);var r=Pn;e&&e1(t,e)?VC(r,n):(t.flags=t.flags&-4097|2,Ge=!1,Pn=t)}}else{if(zg(t))throw Error(Q(418));t.flags=t.flags&-4097|2,Ge=!1,Pn=t}}}function t1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pn=t}function Ed(t){if(t!==Pn)return!1;if(!Ge)return t1(t),Ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Fg(t.type,t.memoizedProps)),e&&(e=An)){if(zg(t))throw LC(),Error(Q(418));for(;e;)VC(t,e),e=ei(e.nextSibling)}if(t1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){An=ei(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}An=null}}else An=Pn?ei(t.stateNode.nextSibling):null;return!0}function LC(){for(var t=An;t;)t=ei(t.nextSibling)}function Oa(){An=Pn=null,Ge=!1}function Kv(t){ir===null?ir=[t]:ir.push(t)}var _O=ys.ReactCurrentBatchConfig;function $l(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function bd(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function n1(t){var e=t._init;return e(t._payload)}function FC(t){function e(x,E){if(t){var T=x.deletions;T===null?(x.deletions=[E],x.flags|=16):T.push(E)}}function n(x,E){if(!t)return null;for(;E!==null;)e(x,E),E=E.sibling;return null}function r(x,E){for(x=new Map;E!==null;)E.key!==null?x.set(E.key,E):x.set(E.index,E),E=E.sibling;return x}function s(x,E){return x=si(x,E),x.index=0,x.sibling=null,x}function i(x,E,T){return x.index=T,t?(T=x.alternate,T!==null?(T=T.index,T<E?(x.flags|=2,E):T):(x.flags|=2,E)):(x.flags|=1048576,E)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,E,T,I){return E===null||E.tag!==6?(E=Cm(T,x.mode,I),E.return=x,E):(E=s(E,T),E.return=x,E)}function l(x,E,T,I){var D=T.type;return D===Ho?h(x,E,T.props.children,I,T.key):E!==null&&(E.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===js&&n1(D)===E.type)?(I=s(E,T.props),I.ref=$l(x,E,T),I.return=x,I):(I=ih(T.type,T.key,T.props,null,x.mode,I),I.ref=$l(x,E,T),I.return=x,I)}function c(x,E,T,I){return E===null||E.tag!==4||E.stateNode.containerInfo!==T.containerInfo||E.stateNode.implementation!==T.implementation?(E=Am(T,x.mode,I),E.return=x,E):(E=s(E,T.children||[]),E.return=x,E)}function h(x,E,T,I,D){return E===null||E.tag!==7?(E=oo(T,x.mode,I,D),E.return=x,E):(E=s(E,T),E.return=x,E)}function p(x,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Cm(""+E,x.mode,T),E.return=x,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case hd:return T=ih(E.type,E.key,E.props,null,x.mode,T),T.ref=$l(x,null,E),T.return=x,T;case Wo:return E=Am(E,x.mode,T),E.return=x,E;case js:var I=E._init;return p(x,I(E._payload),T)}if(Ql(E)||Vl(E))return E=oo(E,x.mode,T,null),E.return=x,E;bd(x,E)}return null}function f(x,E,T,I){var D=E!==null?E.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return D!==null?null:a(x,E,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case hd:return T.key===D?l(x,E,T,I):null;case Wo:return T.key===D?c(x,E,T,I):null;case js:return D=T._init,f(x,E,D(T._payload),I)}if(Ql(T)||Vl(T))return D!==null?null:h(x,E,T,I,null);bd(x,T)}return null}function m(x,E,T,I,D){if(typeof I=="string"&&I!==""||typeof I=="number")return x=x.get(T)||null,a(E,x,""+I,D);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case hd:return x=x.get(I.key===null?T:I.key)||null,l(E,x,I,D);case Wo:return x=x.get(I.key===null?T:I.key)||null,c(E,x,I,D);case js:var M=I._init;return m(x,E,T,M(I._payload),D)}if(Ql(I)||Vl(I))return x=x.get(T)||null,h(E,x,I,D,null);bd(E,I)}return null}function w(x,E,T,I){for(var D=null,M=null,C=E,S=E=0,A=null;C!==null&&S<T.length;S++){C.index>S?(A=C,C=null):A=C.sibling;var k=f(x,C,T[S],I);if(k===null){C===null&&(C=A);break}t&&C&&k.alternate===null&&e(x,C),E=i(k,E,S),M===null?D=k:M.sibling=k,M=k,C=A}if(S===T.length)return n(x,C),Ge&&Hi(x,S),D;if(C===null){for(;S<T.length;S++)C=p(x,T[S],I),C!==null&&(E=i(C,E,S),M===null?D=C:M.sibling=C,M=C);return Ge&&Hi(x,S),D}for(C=r(x,C);S<T.length;S++)A=m(C,x,S,T[S],I),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?S:A.key),E=i(A,E,S),M===null?D=A:M.sibling=A,M=A);return t&&C.forEach(function(R){return e(x,R)}),Ge&&Hi(x,S),D}function y(x,E,T,I){var D=Vl(T);if(typeof D!="function")throw Error(Q(150));if(T=D.call(T),T==null)throw Error(Q(151));for(var M=D=null,C=E,S=E=0,A=null,k=T.next();C!==null&&!k.done;S++,k=T.next()){C.index>S?(A=C,C=null):A=C.sibling;var R=f(x,C,k.value,I);if(R===null){C===null&&(C=A);break}t&&C&&R.alternate===null&&e(x,C),E=i(R,E,S),M===null?D=R:M.sibling=R,M=R,C=A}if(k.done)return n(x,C),Ge&&Hi(x,S),D;if(C===null){for(;!k.done;S++,k=T.next())k=p(x,k.value,I),k!==null&&(E=i(k,E,S),M===null?D=k:M.sibling=k,M=k);return Ge&&Hi(x,S),D}for(C=r(x,C);!k.done;S++,k=T.next())k=m(C,x,S,k.value,I),k!==null&&(t&&k.alternate!==null&&C.delete(k.key===null?S:k.key),E=i(k,E,S),M===null?D=k:M.sibling=k,M=k);return t&&C.forEach(function(j){return e(x,j)}),Ge&&Hi(x,S),D}function _(x,E,T,I){if(typeof T=="object"&&T!==null&&T.type===Ho&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case hd:e:{for(var D=T.key,M=E;M!==null;){if(M.key===D){if(D=T.type,D===Ho){if(M.tag===7){n(x,M.sibling),E=s(M,T.props.children),E.return=x,x=E;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===js&&n1(D)===M.type){n(x,M.sibling),E=s(M,T.props),E.ref=$l(x,M,T),E.return=x,x=E;break e}n(x,M);break}else e(x,M);M=M.sibling}T.type===Ho?(E=oo(T.props.children,x.mode,I,T.key),E.return=x,x=E):(I=ih(T.type,T.key,T.props,null,x.mode,I),I.ref=$l(x,E,T),I.return=x,x=I)}return o(x);case Wo:e:{for(M=T.key;E!==null;){if(E.key===M)if(E.tag===4&&E.stateNode.containerInfo===T.containerInfo&&E.stateNode.implementation===T.implementation){n(x,E.sibling),E=s(E,T.children||[]),E.return=x,x=E;break e}else{n(x,E);break}else e(x,E);E=E.sibling}E=Am(T,x.mode,I),E.return=x,x=E}return o(x);case js:return M=T._init,_(x,E,M(T._payload),I)}if(Ql(T))return w(x,E,T,I);if(Vl(T))return y(x,E,T,I);bd(x,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,E!==null&&E.tag===6?(n(x,E.sibling),E=s(E,T),E.return=x,x=E):(n(x,E),E=Cm(T,x.mode,I),E.return=x,x=E),o(x)):n(x,E)}return _}var Va=FC(!0),UC=FC(!1),Fh=Pi(null),Uh=null,Zo=null,Gv=null;function Qv(){Gv=Zo=Uh=null}function Yv(t){var e=Fh.current;qe(Fh),t._currentValue=e}function Hg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ma(t,e){Uh=t,Gv=Zo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(fn=!0),t.firstContext=null)}function Gn(t){var e=t._currentValue;if(Gv!==t)if(t={context:t,memoizedValue:e,next:null},Zo===null){if(Uh===null)throw Error(Q(308));Zo=t,Uh.dependencies={lanes:0,firstContext:t}}else Zo=Zo.next=t;return e}var Yi=null;function Xv(t){Yi===null?Yi=[t]:Yi.push(t)}function BC(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Xv(e)):(n.next=s.next,s.next=n),e.interleaved=n,os(t,r)}function os(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ms=!1;function Jv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $C(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function es(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ti(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,os(t,n)}return s=r.interleaved,s===null?(e.next=e,Xv(r)):(e.next=s.next,s.next=e),r.interleaved=e,os(t,n)}function Zd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vv(t,n)}}function r1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Bh(t,e,n,r){var s=t.updateQueue;Ms=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(i!==null){var p=s.baseState;o=0,h=c=l=null,a=i;do{var f=a.lane,m=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,y=a;switch(f=e,m=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){p=w.call(m,p,f);break e}p=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,f=typeof w=="function"?w.call(m,p,f):w,f==null)break e;p=tt({},p,f);break e;case 2:Ms=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=m,l=p):h=h.next=m,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(l=p),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);mo|=o,t.lanes=o,t.memoizedState=p}}function s1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Q(191,s));s.call(r)}}}var Su={},Ar=Pi(Su),Uc=Pi(Su),Bc=Pi(Su);function Xi(t){if(t===Su)throw Error(Q(174));return t}function Zv(t,e){switch(Be(Bc,e),Be(Uc,t),Be(Ar,Su),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Sg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Sg(e,t)}qe(Ar),Be(Ar,e)}function La(){qe(Ar),qe(Uc),qe(Bc)}function zC(t){Xi(Bc.current);var e=Xi(Ar.current),n=Sg(e,t.type);e!==n&&(Be(Uc,t),Be(Ar,n))}function e0(t){Uc.current===t&&(qe(Ar),qe(Uc))}var Je=Pi(0);function $h(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xm=[];function t0(){for(var t=0;t<xm.length;t++)xm[t]._workInProgressVersionPrimary=null;xm.length=0}var eh=ys.ReactCurrentDispatcher,_m=ys.ReactCurrentBatchConfig,po=0,et=null,_t=null,St=null,zh=!1,hc=!1,$c=0,EO=0;function Ft(){throw Error(Q(321))}function n0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!cr(t[n],e[n]))return!1;return!0}function r0(t,e,n,r,s,i){if(po=i,et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,eh.current=t===null||t.memoizedState===null?CO:AO,t=n(r,s),hc){i=0;do{if(hc=!1,$c=0,25<=i)throw Error(Q(301));i+=1,St=_t=null,e.updateQueue=null,eh.current=IO,t=n(r,s)}while(hc)}if(eh.current=Wh,e=_t!==null&&_t.next!==null,po=0,St=_t=et=null,zh=!1,e)throw Error(Q(300));return t}function s0(){var t=$c!==0;return $c=0,t}function vr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?et.memoizedState=St=t:St=St.next=t,St}function Qn(){if(_t===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=_t.next;var e=St===null?et.memoizedState:St.next;if(e!==null)St=e,_t=t;else{if(t===null)throw Error(Q(310));_t=t,t={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},St===null?et.memoizedState=St=t:St=St.next=t}return St}function zc(t,e){return typeof e=="function"?e(t):e}function Em(t){var e=Qn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=_t,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var h=c.lane;if((po&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,et.lanes|=h,mo|=h}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,cr(r,e.memoizedState)||(fn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,et.lanes|=i,mo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function bm(t){var e=Qn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);cr(i,e.memoizedState)||(fn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function WC(){}function HC(t,e){var n=et,r=Qn(),s=e(),i=!cr(r.memoizedState,s);if(i&&(r.memoizedState=s,fn=!0),r=r.queue,i0(GC.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||St!==null&&St.memoizedState.tag&1){if(n.flags|=2048,Wc(9,KC.bind(null,n,r,s,e),void 0,null),Ct===null)throw Error(Q(349));po&30||qC(n,e,s)}return s}function qC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function KC(t,e,n,r){e.value=n,e.getSnapshot=r,QC(e)&&YC(t)}function GC(t,e,n){return n(function(){QC(e)&&YC(t)})}function QC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!cr(t,n)}catch{return!0}}function YC(t){var e=os(t,1);e!==null&&lr(e,t,1,-1)}function i1(t){var e=vr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zc,lastRenderedState:t},e.queue=t,t=t.dispatch=SO.bind(null,et,t),[e.memoizedState,t]}function Wc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function XC(){return Qn().memoizedState}function th(t,e,n,r){var s=vr();et.flags|=t,s.memoizedState=Wc(1|e,n,void 0,r===void 0?null:r)}function Lf(t,e,n,r){var s=Qn();r=r===void 0?null:r;var i=void 0;if(_t!==null){var o=_t.memoizedState;if(i=o.destroy,r!==null&&n0(r,o.deps)){s.memoizedState=Wc(e,n,i,r);return}}et.flags|=t,s.memoizedState=Wc(1|e,n,i,r)}function o1(t,e){return th(8390656,8,t,e)}function i0(t,e){return Lf(2048,8,t,e)}function JC(t,e){return Lf(4,2,t,e)}function ZC(t,e){return Lf(4,4,t,e)}function eA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function tA(t,e,n){return n=n!=null?n.concat([t]):null,Lf(4,4,eA.bind(null,e,t),n)}function o0(){}function nA(t,e){var n=Qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&n0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function rA(t,e){var n=Qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&n0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function sA(t,e,n){return po&21?(cr(n,e)||(n=cC(),et.lanes|=n,mo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,fn=!0),t.memoizedState=n)}function bO(t,e){var n=je;je=n!==0&&4>n?n:4,t(!0);var r=_m.transition;_m.transition={};try{t(!1),e()}finally{je=n,_m.transition=r}}function iA(){return Qn().memoizedState}function TO(t,e,n){var r=ri(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},oA(t))aA(e,n);else if(n=BC(t,e,n,r),n!==null){var s=rn();lr(n,t,r,s),lA(n,e,r)}}function SO(t,e,n){var r=ri(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(oA(t))aA(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,cr(a,o)){var l=e.interleaved;l===null?(s.next=s,Xv(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=BC(t,e,s,r),n!==null&&(s=rn(),lr(n,t,r,s),lA(n,e,r))}}function oA(t){var e=t.alternate;return t===et||e!==null&&e===et}function aA(t,e){hc=zh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function lA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vv(t,n)}}var Wh={readContext:Gn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},CO={readContext:Gn,useCallback:function(t,e){return vr().memoizedState=[t,e===void 0?null:e],t},useContext:Gn,useEffect:o1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,th(4194308,4,eA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return th(4194308,4,t,e)},useInsertionEffect:function(t,e){return th(4,2,t,e)},useMemo:function(t,e){var n=vr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=vr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=TO.bind(null,et,t),[r.memoizedState,t]},useRef:function(t){var e=vr();return t={current:t},e.memoizedState=t},useState:i1,useDebugValue:o0,useDeferredValue:function(t){return vr().memoizedState=t},useTransition:function(){var t=i1(!1),e=t[0];return t=bO.bind(null,t[1]),vr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=et,s=vr();if(Ge){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),Ct===null)throw Error(Q(349));po&30||qC(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,o1(GC.bind(null,r,i,t),[t]),r.flags|=2048,Wc(9,KC.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=vr(),e=Ct.identifierPrefix;if(Ge){var n=Xr,r=Yr;n=(r&~(1<<32-ar(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=$c++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=EO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},AO={readContext:Gn,useCallback:nA,useContext:Gn,useEffect:i0,useImperativeHandle:tA,useInsertionEffect:JC,useLayoutEffect:ZC,useMemo:rA,useReducer:Em,useRef:XC,useState:function(){return Em(zc)},useDebugValue:o0,useDeferredValue:function(t){var e=Qn();return sA(e,_t.memoizedState,t)},useTransition:function(){var t=Em(zc)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:WC,useSyncExternalStore:HC,useId:iA,unstable_isNewReconciler:!1},IO={readContext:Gn,useCallback:nA,useContext:Gn,useEffect:i0,useImperativeHandle:tA,useInsertionEffect:JC,useLayoutEffect:ZC,useMemo:rA,useReducer:bm,useRef:XC,useState:function(){return bm(zc)},useDebugValue:o0,useDeferredValue:function(t){var e=Qn();return _t===null?e.memoizedState=t:sA(e,_t.memoizedState,t)},useTransition:function(){var t=bm(zc)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:WC,useSyncExternalStore:HC,useId:iA,unstable_isNewReconciler:!1};function tr(t,e){if(t&&t.defaultProps){e=tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function qg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ff={isMounted:function(t){return(t=t._reactInternals)?Co(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=rn(),s=ri(t),i=es(r,s);i.payload=e,n!=null&&(i.callback=n),e=ti(t,i,s),e!==null&&(lr(e,t,s,r),Zd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=rn(),s=ri(t),i=es(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ti(t,i,s),e!==null&&(lr(e,t,s,r),Zd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rn(),r=ri(t),s=es(n,r);s.tag=2,e!=null&&(s.callback=e),e=ti(t,s,r),e!==null&&(lr(e,t,r,n),Zd(e,t,r))}};function a1(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Oc(n,r)||!Oc(s,i):!0}function cA(t,e,n){var r=!1,s=fi,i=e.contextType;return typeof i=="object"&&i!==null?i=Gn(i):(s=gn(e)?ho:Kt.current,r=e.contextTypes,i=(r=r!=null)?Ma(t,s):fi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ff,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function l1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ff.enqueueReplaceState(e,e.state,null)}function Kg(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Jv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Gn(i):(i=gn(e)?ho:Kt.current,s.context=Ma(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(qg(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ff.enqueueReplaceState(s,s.state,null),Bh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Fa(t,e){try{var n="",r=e;do n+=nM(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Tm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Gg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var PO=typeof WeakMap=="function"?WeakMap:Map;function uA(t,e,n){n=es(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){qh||(qh=!0,sy=r),Gg(t,e)},n}function dA(t,e,n){n=es(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Gg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Gg(t,e),typeof r!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function c1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new PO;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=zO.bind(null,t,e,n),e.then(t,t))}function u1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function d1(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=es(-1,1),e.tag=2,ti(n,e,1))),n.lanes|=1),t)}var RO=ys.ReactCurrentOwner,fn=!1;function Zt(t,e,n,r){e.child=t===null?UC(e,null,n,r):Va(e,t.child,n,r)}function h1(t,e,n,r,s){n=n.render;var i=e.ref;return ma(e,s),r=r0(t,e,n,r,i,s),n=s0(),t!==null&&!fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,as(t,e,s)):(Ge&&n&&Hv(e),e.flags|=1,Zt(t,e,r,s),e.child)}function f1(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!p0(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,hA(t,e,i,r,s)):(t=ih(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Oc,n(o,r)&&t.ref===e.ref)return as(t,e,s)}return e.flags|=1,t=si(i,r),t.ref=e.ref,t.return=e,e.child=t}function hA(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Oc(i,r)&&t.ref===e.ref)if(fn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(fn=!0);else return e.lanes=t.lanes,as(t,e,s)}return Qg(t,e,n,r,s)}function fA(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(ta,Tn),Tn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(ta,Tn),Tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Be(ta,Tn),Tn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Be(ta,Tn),Tn|=r;return Zt(t,e,s,n),e.child}function pA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Qg(t,e,n,r,s){var i=gn(n)?ho:Kt.current;return i=Ma(e,i),ma(e,s),n=r0(t,e,n,r,i,s),r=s0(),t!==null&&!fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,as(t,e,s)):(Ge&&r&&Hv(e),e.flags|=1,Zt(t,e,n,s),e.child)}function p1(t,e,n,r,s){if(gn(n)){var i=!0;Oh(e)}else i=!1;if(ma(e,s),e.stateNode===null)nh(t,e),cA(e,n,r),Kg(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Gn(c):(c=gn(n)?ho:Kt.current,c=Ma(e,c));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&l1(e,o,r,c),Ms=!1;var f=e.memoizedState;o.state=f,Bh(e,r,o,s),l=e.memoizedState,a!==r||f!==l||mn.current||Ms?(typeof h=="function"&&(qg(e,n,h,r),l=e.memoizedState),(a=Ms||a1(e,n,a,r,f,l,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,$C(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:tr(e.type,a),o.props=c,p=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Gn(l):(l=gn(n)?ho:Kt.current,l=Ma(e,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||f!==l)&&l1(e,o,r,l),Ms=!1,f=e.memoizedState,o.state=f,Bh(e,r,o,s);var w=e.memoizedState;a!==p||f!==w||mn.current||Ms?(typeof m=="function"&&(qg(e,n,m,r),w=e.memoizedState),(c=Ms||a1(e,n,c,r,f,w,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Yg(t,e,n,r,i,s)}function Yg(t,e,n,r,s,i){pA(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Z_(e,n,!1),as(t,e,i);r=e.stateNode,RO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Va(e,t.child,null,i),e.child=Va(e,null,a,i)):Zt(t,e,a,i),e.memoizedState=r.state,s&&Z_(e,n,!0),e.child}function mA(t){var e=t.stateNode;e.pendingContext?J_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&J_(t,e.context,!1),Zv(t,e.containerInfo)}function m1(t,e,n,r,s){return Oa(),Kv(s),e.flags|=256,Zt(t,e,n,r),e.child}var Xg={dehydrated:null,treeContext:null,retryLane:0};function Jg(t){return{baseLanes:t,cachePool:null,transitions:null}}function gA(t,e,n){var r=e.pendingProps,s=Je.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Be(Je,s&1),t===null)return Wg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=$f(o,r,0,null),t=oo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Jg(n),e.memoizedState=Xg,t):a0(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return NO(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=si(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=si(a,i):(i=oo(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Jg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Xg,r}return i=t.child,t=i.sibling,r=si(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function a0(t,e){return e=$f({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Td(t,e,n,r){return r!==null&&Kv(r),Va(e,t.child,null,n),t=a0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function NO(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Tm(Error(Q(422))),Td(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=$f({mode:"visible",children:r.children},s,0,null),i=oo(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Va(e,t.child,null,o),e.child.memoizedState=Jg(o),e.memoizedState=Xg,i);if(!(e.mode&1))return Td(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Q(419)),r=Tm(i,r,void 0),Td(t,e,o,r)}if(a=(o&t.childLanes)!==0,fn||a){if(r=Ct,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,os(t,s),lr(r,t,s,-1))}return f0(),r=Tm(Error(Q(421))),Td(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=WO.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,An=ei(s.nextSibling),Pn=e,Ge=!0,ir=null,t!==null&&(Un[Bn++]=Yr,Un[Bn++]=Xr,Un[Bn++]=fo,Yr=t.id,Xr=t.overflow,fo=e),e=a0(e,r.children),e.flags|=4096,e)}function g1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Hg(t.return,e,n)}function Sm(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function yA(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Zt(t,e,r.children,n),r=Je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&g1(t,n,e);else if(t.tag===19)g1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Be(Je,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&$h(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Sm(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&$h(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Sm(e,!0,n,null,i);break;case"together":Sm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function nh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function as(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),mo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=si(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=si(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function kO(t,e,n){switch(e.tag){case 3:mA(e),Oa();break;case 5:zC(e);break;case 1:gn(e.type)&&Oh(e);break;case 4:Zv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Be(Fh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Be(Je,Je.current&1),e.flags|=128,null):n&e.child.childLanes?gA(t,e,n):(Be(Je,Je.current&1),t=as(t,e,n),t!==null?t.sibling:null);Be(Je,Je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return yA(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Be(Je,Je.current),r)break;return null;case 22:case 23:return e.lanes=0,fA(t,e,n)}return as(t,e,n)}var vA,Zg,wA,xA;vA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zg=function(){};wA=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Xi(Ar.current);var i=null;switch(n){case"input":s=_g(t,s),r=_g(t,r),i=[];break;case"select":s=tt({},s,{value:void 0}),r=tt({},r,{value:void 0}),i=[];break;case"textarea":s=Tg(t,s),r=Tg(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=jh)}Cg(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Pc.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Pc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&We("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};xA=function(t,e,n,r){n!==r&&(e.flags|=4)};function zl(t,e){if(!Ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ut(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function DO(t,e,n){var r=e.pendingProps;switch(qv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(e),null;case 1:return gn(e.type)&&Mh(),Ut(e),null;case 3:return r=e.stateNode,La(),qe(mn),qe(Kt),t0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ed(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ir!==null&&(ay(ir),ir=null))),Zg(t,e),Ut(e),null;case 5:e0(e);var s=Xi(Bc.current);if(n=e.type,t!==null&&e.stateNode!=null)wA(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return Ut(e),null}if(t=Xi(Ar.current),Ed(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[br]=e,r[Fc]=i,t=(e.mode&1)!==0,n){case"dialog":We("cancel",r),We("close",r);break;case"iframe":case"object":case"embed":We("load",r);break;case"video":case"audio":for(s=0;s<Xl.length;s++)We(Xl[s],r);break;case"source":We("error",r);break;case"img":case"image":case"link":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"input":S_(r,i),We("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},We("invalid",r);break;case"textarea":A_(r,i),We("invalid",r)}Cg(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&_d(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&_d(r.textContent,a,t),s=["children",""+a]):Pc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&We("scroll",r)}switch(n){case"input":fd(r),C_(r,i,!0);break;case"textarea":fd(r),I_(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=jh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=GS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[br]=e,t[Fc]=r,vA(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ag(n,r),n){case"dialog":We("cancel",t),We("close",t),s=r;break;case"iframe":case"object":case"embed":We("load",t),s=r;break;case"video":case"audio":for(s=0;s<Xl.length;s++)We(Xl[s],t);s=r;break;case"source":We("error",t),s=r;break;case"img":case"image":case"link":We("error",t),We("load",t),s=r;break;case"details":We("toggle",t),s=r;break;case"input":S_(t,r),s=_g(t,r),We("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=tt({},r,{value:void 0}),We("invalid",t);break;case"textarea":A_(t,r),s=Tg(t,r),We("invalid",t);break;default:s=r}Cg(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?XS(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&QS(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Rc(t,l):typeof l=="number"&&Rc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Pc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&We("scroll",t):l!=null&&Nv(t,i,l,o))}switch(n){case"input":fd(t),C_(t,r,!1);break;case"textarea":fd(t),I_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+hi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?da(t,!!r.multiple,i,!1):r.defaultValue!=null&&da(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=jh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ut(e),null;case 6:if(t&&e.stateNode!=null)xA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=Xi(Bc.current),Xi(Ar.current),Ed(e)){if(r=e.stateNode,n=e.memoizedProps,r[br]=e,(i=r.nodeValue!==n)&&(t=Pn,t!==null))switch(t.tag){case 3:_d(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_d(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[br]=e,e.stateNode=r}return Ut(e),null;case 13:if(qe(Je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&An!==null&&e.mode&1&&!(e.flags&128))LC(),Oa(),e.flags|=98560,i=!1;else if(i=Ed(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Q(317));i[br]=e}else Oa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ut(e),i=!1}else ir!==null&&(ay(ir),ir=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Je.current&1?Et===0&&(Et=3):f0())),e.updateQueue!==null&&(e.flags|=4),Ut(e),null);case 4:return La(),Zg(t,e),t===null&&Vc(e.stateNode.containerInfo),Ut(e),null;case 10:return Yv(e.type._context),Ut(e),null;case 17:return gn(e.type)&&Mh(),Ut(e),null;case 19:if(qe(Je),i=e.memoizedState,i===null)return Ut(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)zl(i,!1);else{if(Et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=$h(t),o!==null){for(e.flags|=128,zl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(Je,Je.current&1|2),e.child}t=t.sibling}i.tail!==null&&dt()>Ua&&(e.flags|=128,r=!0,zl(i,!1),e.lanes=4194304)}else{if(!r)if(t=$h(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),zl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ge)return Ut(e),null}else 2*dt()-i.renderingStartTime>Ua&&n!==1073741824&&(e.flags|=128,r=!0,zl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=dt(),e.sibling=null,n=Je.current,Be(Je,r?n&1|2:n&1),e):(Ut(e),null);case 22:case 23:return h0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Tn&1073741824&&(Ut(e),e.subtreeFlags&6&&(e.flags|=8192)):Ut(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function jO(t,e){switch(qv(e),e.tag){case 1:return gn(e.type)&&Mh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return La(),qe(mn),qe(Kt),t0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return e0(e),null;case 13:if(qe(Je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));Oa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qe(Je),null;case 4:return La(),null;case 10:return Yv(e.type._context),null;case 22:case 23:return h0(),null;case 24:return null;default:return null}}var Sd=!1,Wt=!1,MO=typeof WeakSet=="function"?WeakSet:Set,re=null;function ea(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ot(t,e,r)}else n.current=null}function ey(t,e,n){try{n()}catch(r){ot(t,e,r)}}var y1=!1;function OO(t,e){if(Vg=Nh,t=SC(),Wv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,p=t,f=null;t:for(;;){for(var m;p!==n||s!==0&&p.nodeType!==3||(a=o+s),p!==i||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(m=p.firstChild)!==null;)f=p,p=m;for(;;){if(p===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++h===r&&(l=o),(m=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lg={focusedElem:t,selectionRange:n},Nh=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,_=w.memoizedState,x=e.stateNode,E=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:tr(e.type,y),_);x.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(I){ot(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return w=y1,y1=!1,w}function fc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ey(e,n,i)}s=s.next}while(s!==r)}}function Uf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ty(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function _A(t){var e=t.alternate;e!==null&&(t.alternate=null,_A(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[br],delete e[Fc],delete e[Bg],delete e[vO],delete e[wO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function EA(t){return t.tag===5||t.tag===3||t.tag===4}function v1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||EA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ny(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=jh));else if(r!==4&&(t=t.child,t!==null))for(ny(t,e,n),t=t.sibling;t!==null;)ny(t,e,n),t=t.sibling}function ry(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ry(t,e,n),t=t.sibling;t!==null;)ry(t,e,n),t=t.sibling}var It=null,sr=!1;function As(t,e,n){for(n=n.child;n!==null;)bA(t,e,n),n=n.sibling}function bA(t,e,n){if(Cr&&typeof Cr.onCommitFiberUnmount=="function")try{Cr.onCommitFiberUnmount(kf,n)}catch{}switch(n.tag){case 5:Wt||ea(n,e);case 6:var r=It,s=sr;It=null,As(t,e,n),It=r,sr=s,It!==null&&(sr?(t=It,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):It.removeChild(n.stateNode));break;case 18:It!==null&&(sr?(t=It,n=n.stateNode,t.nodeType===8?vm(t.parentNode,n):t.nodeType===1&&vm(t,n),jc(t)):vm(It,n.stateNode));break;case 4:r=It,s=sr,It=n.stateNode.containerInfo,sr=!0,As(t,e,n),It=r,sr=s;break;case 0:case 11:case 14:case 15:if(!Wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ey(n,e,o),s=s.next}while(s!==r)}As(t,e,n);break;case 1:if(!Wt&&(ea(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ot(n,e,a)}As(t,e,n);break;case 21:As(t,e,n);break;case 22:n.mode&1?(Wt=(r=Wt)||n.memoizedState!==null,As(t,e,n),Wt=r):As(t,e,n);break;default:As(t,e,n)}}function w1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new MO),e.forEach(function(r){var s=HO.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Zn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:It=a.stateNode,sr=!1;break e;case 3:It=a.stateNode.containerInfo,sr=!0;break e;case 4:It=a.stateNode.containerInfo,sr=!0;break e}a=a.return}if(It===null)throw Error(Q(160));bA(i,o,s),It=null,sr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ot(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)TA(e,t),e=e.sibling}function TA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zn(e,t),yr(t),r&4){try{fc(3,t,t.return),Uf(3,t)}catch(y){ot(t,t.return,y)}try{fc(5,t,t.return)}catch(y){ot(t,t.return,y)}}break;case 1:Zn(e,t),yr(t),r&512&&n!==null&&ea(n,n.return);break;case 5:if(Zn(e,t),yr(t),r&512&&n!==null&&ea(n,n.return),t.flags&32){var s=t.stateNode;try{Rc(s,"")}catch(y){ot(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&qS(s,i),Ag(a,o);var c=Ag(a,i);for(o=0;o<l.length;o+=2){var h=l[o],p=l[o+1];h==="style"?XS(s,p):h==="dangerouslySetInnerHTML"?QS(s,p):h==="children"?Rc(s,p):Nv(s,h,p,c)}switch(a){case"input":Eg(s,i);break;case"textarea":KS(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?da(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?da(s,!!i.multiple,i.defaultValue,!0):da(s,!!i.multiple,i.multiple?[]:"",!1))}s[Fc]=i}catch(y){ot(t,t.return,y)}}break;case 6:if(Zn(e,t),yr(t),r&4){if(t.stateNode===null)throw Error(Q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){ot(t,t.return,y)}}break;case 3:if(Zn(e,t),yr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{jc(e.containerInfo)}catch(y){ot(t,t.return,y)}break;case 4:Zn(e,t),yr(t);break;case 13:Zn(e,t),yr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(u0=dt())),r&4&&w1(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Wt=(c=Wt)||h,Zn(e,t),Wt=c):Zn(e,t),yr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(re=t,h=t.child;h!==null;){for(p=re=h;re!==null;){switch(f=re,m=f.child,f.tag){case 0:case 11:case 14:case 15:fc(4,f,f.return);break;case 1:ea(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(y){ot(r,n,y)}}break;case 5:ea(f,f.return);break;case 22:if(f.memoizedState!==null){_1(p);continue}}m!==null?(m.return=f,re=m):_1(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{s=p.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=YS("display",o))}catch(y){ot(t,t.return,y)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(y){ot(t,t.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Zn(e,t),yr(t),r&4&&w1(t);break;case 21:break;default:Zn(e,t),yr(t)}}function yr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(EA(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Rc(s,""),r.flags&=-33);var i=v1(t);ry(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=v1(t);ny(t,a,o);break;default:throw Error(Q(161))}}catch(l){ot(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function VO(t,e,n){re=t,SA(t)}function SA(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var s=re,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Sd;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Wt;a=Sd;var c=Wt;if(Sd=o,(Wt=l)&&!c)for(re=s;re!==null;)o=re,l=o.child,o.tag===22&&o.memoizedState!==null?E1(s):l!==null?(l.return=o,re=l):E1(s);for(;i!==null;)re=i,SA(i),i=i.sibling;re=s,Sd=a,Wt=c}x1(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,re=i):x1(t)}}function x1(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wt||Uf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:tr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&s1(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}s1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&jc(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}Wt||e.flags&512&&ty(e)}catch(f){ot(e,e.return,f)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function _1(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function E1(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Uf(4,e)}catch(l){ot(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ot(e,s,l)}}var i=e.return;try{ty(e)}catch(l){ot(e,i,l)}break;case 5:var o=e.return;try{ty(e)}catch(l){ot(e,o,l)}}}catch(l){ot(e,e.return,l)}if(e===t){re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,re=a;break}re=e.return}}var LO=Math.ceil,Hh=ys.ReactCurrentDispatcher,l0=ys.ReactCurrentOwner,Hn=ys.ReactCurrentBatchConfig,Ae=0,Ct=null,gt=null,kt=0,Tn=0,ta=Pi(0),Et=0,Hc=null,mo=0,Bf=0,c0=0,pc=null,dn=null,u0=0,Ua=1/0,Kr=null,qh=!1,sy=null,ni=null,Cd=!1,Gs=null,Kh=0,mc=0,iy=null,rh=-1,sh=0;function rn(){return Ae&6?dt():rh!==-1?rh:rh=dt()}function ri(t){return t.mode&1?Ae&2&&kt!==0?kt&-kt:_O.transition!==null?(sh===0&&(sh=cC()),sh):(t=je,t!==0||(t=window.event,t=t===void 0?16:gC(t.type)),t):1}function lr(t,e,n,r){if(50<mc)throw mc=0,iy=null,Error(Q(185));Eu(t,n,r),(!(Ae&2)||t!==Ct)&&(t===Ct&&(!(Ae&2)&&(Bf|=n),Et===4&&Vs(t,kt)),yn(t,r),n===1&&Ae===0&&!(e.mode&1)&&(Ua=dt()+500,Vf&&Ri()))}function yn(t,e){var n=t.callbackNode;_M(t,e);var r=Rh(t,t===Ct?kt:0);if(r===0)n!==null&&N_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&N_(n),e===1)t.tag===0?xO(b1.bind(null,t)):MC(b1.bind(null,t)),gO(function(){!(Ae&6)&&Ri()}),n=null;else{switch(uC(r)){case 1:n=Ov;break;case 4:n=aC;break;case 16:n=Ph;break;case 536870912:n=lC;break;default:n=Ph}n=DA(n,CA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function CA(t,e){if(rh=-1,sh=0,Ae&6)throw Error(Q(327));var n=t.callbackNode;if(ga()&&t.callbackNode!==n)return null;var r=Rh(t,t===Ct?kt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Gh(t,r);else{e=r;var s=Ae;Ae|=2;var i=IA();(Ct!==t||kt!==e)&&(Kr=null,Ua=dt()+500,io(t,e));do try{BO();break}catch(a){AA(t,a)}while(!0);Qv(),Hh.current=i,Ae=s,gt!==null?e=0:(Ct=null,kt=0,e=Et)}if(e!==0){if(e===2&&(s=kg(t),s!==0&&(r=s,e=oy(t,s))),e===1)throw n=Hc,io(t,0),Vs(t,r),yn(t,dt()),n;if(e===6)Vs(t,r);else{if(s=t.current.alternate,!(r&30)&&!FO(s)&&(e=Gh(t,r),e===2&&(i=kg(t),i!==0&&(r=i,e=oy(t,i))),e===1))throw n=Hc,io(t,0),Vs(t,r),yn(t,dt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:qi(t,dn,Kr);break;case 3:if(Vs(t,r),(r&130023424)===r&&(e=u0+500-dt(),10<e)){if(Rh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){rn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ug(qi.bind(null,t,dn,Kr),e);break}qi(t,dn,Kr);break;case 4:if(Vs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-ar(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LO(r/1960))-r,10<r){t.timeoutHandle=Ug(qi.bind(null,t,dn,Kr),r);break}qi(t,dn,Kr);break;case 5:qi(t,dn,Kr);break;default:throw Error(Q(329))}}}return yn(t,dt()),t.callbackNode===n?CA.bind(null,t):null}function oy(t,e){var n=pc;return t.current.memoizedState.isDehydrated&&(io(t,e).flags|=256),t=Gh(t,e),t!==2&&(e=dn,dn=n,e!==null&&ay(e)),t}function ay(t){dn===null?dn=t:dn.push.apply(dn,t)}function FO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!cr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vs(t,e){for(e&=~c0,e&=~Bf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ar(e),r=1<<n;t[n]=-1,e&=~r}}function b1(t){if(Ae&6)throw Error(Q(327));ga();var e=Rh(t,0);if(!(e&1))return yn(t,dt()),null;var n=Gh(t,e);if(t.tag!==0&&n===2){var r=kg(t);r!==0&&(e=r,n=oy(t,r))}if(n===1)throw n=Hc,io(t,0),Vs(t,e),yn(t,dt()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qi(t,dn,Kr),yn(t,dt()),null}function d0(t,e){var n=Ae;Ae|=1;try{return t(e)}finally{Ae=n,Ae===0&&(Ua=dt()+500,Vf&&Ri())}}function go(t){Gs!==null&&Gs.tag===0&&!(Ae&6)&&ga();var e=Ae;Ae|=1;var n=Hn.transition,r=je;try{if(Hn.transition=null,je=1,t)return t()}finally{je=r,Hn.transition=n,Ae=e,!(Ae&6)&&Ri()}}function h0(){Tn=ta.current,qe(ta)}function io(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,mO(n)),gt!==null)for(n=gt.return;n!==null;){var r=n;switch(qv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Mh();break;case 3:La(),qe(mn),qe(Kt),t0();break;case 5:e0(r);break;case 4:La();break;case 13:qe(Je);break;case 19:qe(Je);break;case 10:Yv(r.type._context);break;case 22:case 23:h0()}n=n.return}if(Ct=t,gt=t=si(t.current,null),kt=Tn=e,Et=0,Hc=null,c0=Bf=mo=0,dn=pc=null,Yi!==null){for(e=0;e<Yi.length;e++)if(n=Yi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Yi=null}return t}function AA(t,e){do{var n=gt;try{if(Qv(),eh.current=Wh,zh){for(var r=et.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}zh=!1}if(po=0,St=_t=et=null,hc=!1,$c=0,l0.current=null,n===null||n.return===null){Et=1,Hc=e,gt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=kt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=u1(o);if(m!==null){m.flags&=-257,d1(m,o,a,i,e),m.mode&1&&c1(i,c,e),e=m,l=c;var w=e.updateQueue;if(w===null){var y=new Set;y.add(l),e.updateQueue=y}else w.add(l);break e}else{if(!(e&1)){c1(i,c,e),f0();break e}l=Error(Q(426))}}else if(Ge&&a.mode&1){var _=u1(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),d1(_,o,a,i,e),Kv(Fa(l,a));break e}}i=l=Fa(l,a),Et!==4&&(Et=2),pc===null?pc=[i]:pc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=uA(i,l,e);r1(i,x);break e;case 1:a=l;var E=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof E.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ni===null||!ni.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var I=dA(i,a,e);r1(i,I);break e}}i=i.return}while(i!==null)}RA(n)}catch(D){e=D,gt===n&&n!==null&&(gt=n=n.return);continue}break}while(!0)}function IA(){var t=Hh.current;return Hh.current=Wh,t===null?Wh:t}function f0(){(Et===0||Et===3||Et===2)&&(Et=4),Ct===null||!(mo&268435455)&&!(Bf&268435455)||Vs(Ct,kt)}function Gh(t,e){var n=Ae;Ae|=2;var r=IA();(Ct!==t||kt!==e)&&(Kr=null,io(t,e));do try{UO();break}catch(s){AA(t,s)}while(!0);if(Qv(),Ae=n,Hh.current=r,gt!==null)throw Error(Q(261));return Ct=null,kt=0,Et}function UO(){for(;gt!==null;)PA(gt)}function BO(){for(;gt!==null&&!hM();)PA(gt)}function PA(t){var e=kA(t.alternate,t,Tn);t.memoizedProps=t.pendingProps,e===null?RA(t):gt=e,l0.current=null}function RA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=jO(n,e),n!==null){n.flags&=32767,gt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Et=6,gt=null;return}}else if(n=DO(n,e,Tn),n!==null){gt=n;return}if(e=e.sibling,e!==null){gt=e;return}gt=e=t}while(e!==null);Et===0&&(Et=5)}function qi(t,e,n){var r=je,s=Hn.transition;try{Hn.transition=null,je=1,$O(t,e,n,r)}finally{Hn.transition=s,je=r}return null}function $O(t,e,n,r){do ga();while(Gs!==null);if(Ae&6)throw Error(Q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(EM(t,i),t===Ct&&(gt=Ct=null,kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cd||(Cd=!0,DA(Ph,function(){return ga(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Hn.transition,Hn.transition=null;var o=je;je=1;var a=Ae;Ae|=4,l0.current=null,OO(t,n),TA(n,t),lO(Lg),Nh=!!Vg,Lg=Vg=null,t.current=n,VO(n),fM(),Ae=a,je=o,Hn.transition=i}else t.current=n;if(Cd&&(Cd=!1,Gs=t,Kh=s),i=t.pendingLanes,i===0&&(ni=null),gM(n.stateNode),yn(t,dt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(qh)throw qh=!1,t=sy,sy=null,t;return Kh&1&&t.tag!==0&&ga(),i=t.pendingLanes,i&1?t===iy?mc++:(mc=0,iy=t):mc=0,Ri(),null}function ga(){if(Gs!==null){var t=uC(Kh),e=Hn.transition,n=je;try{if(Hn.transition=null,je=16>t?16:t,Gs===null)var r=!1;else{if(t=Gs,Gs=null,Kh=0,Ae&6)throw Error(Q(331));var s=Ae;for(Ae|=4,re=t.current;re!==null;){var i=re,o=i.child;if(re.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(re=c;re!==null;){var h=re;switch(h.tag){case 0:case 11:case 15:fc(8,h,i)}var p=h.child;if(p!==null)p.return=h,re=p;else for(;re!==null;){h=re;var f=h.sibling,m=h.return;if(_A(h),h===c){re=null;break}if(f!==null){f.return=m,re=f;break}re=m}}}var w=i.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}re=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,re=o;else e:for(;re!==null;){if(i=re,i.flags&2048)switch(i.tag){case 0:case 11:case 15:fc(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,re=x;break e}re=i.return}}var E=t.current;for(re=E;re!==null;){o=re;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,re=T;else e:for(o=E;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Uf(9,a)}}catch(D){ot(a,a.return,D)}if(a===o){re=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,re=I;break e}re=a.return}}if(Ae=s,Ri(),Cr&&typeof Cr.onPostCommitFiberRoot=="function")try{Cr.onPostCommitFiberRoot(kf,t)}catch{}r=!0}return r}finally{je=n,Hn.transition=e}}return!1}function T1(t,e,n){e=Fa(n,e),e=uA(t,e,1),t=ti(t,e,1),e=rn(),t!==null&&(Eu(t,1,e),yn(t,e))}function ot(t,e,n){if(t.tag===3)T1(t,t,n);else for(;e!==null;){if(e.tag===3){T1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ni===null||!ni.has(r))){t=Fa(n,t),t=dA(e,t,1),e=ti(e,t,1),t=rn(),e!==null&&(Eu(e,1,t),yn(e,t));break}}e=e.return}}function zO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=rn(),t.pingedLanes|=t.suspendedLanes&n,Ct===t&&(kt&n)===n&&(Et===4||Et===3&&(kt&130023424)===kt&&500>dt()-u0?io(t,0):c0|=n),yn(t,e)}function NA(t,e){e===0&&(t.mode&1?(e=gd,gd<<=1,!(gd&130023424)&&(gd=4194304)):e=1);var n=rn();t=os(t,e),t!==null&&(Eu(t,e,n),yn(t,n))}function WO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),NA(t,n)}function HO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),NA(t,n)}var kA;kA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||mn.current)fn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return fn=!1,kO(t,e,n);fn=!!(t.flags&131072)}else fn=!1,Ge&&e.flags&1048576&&OC(e,Lh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;nh(t,e),t=e.pendingProps;var s=Ma(e,Kt.current);ma(e,n),s=r0(null,e,r,t,s,n);var i=s0();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gn(r)?(i=!0,Oh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Jv(e),s.updater=Ff,e.stateNode=s,s._reactInternals=e,Kg(e,r,t,n),e=Yg(null,e,r,!0,i,n)):(e.tag=0,Ge&&i&&Hv(e),Zt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(nh(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=KO(r),t=tr(r,t),s){case 0:e=Qg(null,e,r,t,n);break e;case 1:e=p1(null,e,r,t,n);break e;case 11:e=h1(null,e,r,t,n);break e;case 14:e=f1(null,e,r,tr(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tr(r,s),Qg(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tr(r,s),p1(t,e,r,s,n);case 3:e:{if(mA(e),t===null)throw Error(Q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,$C(t,e),Bh(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Fa(Error(Q(423)),e),e=m1(t,e,r,n,s);break e}else if(r!==s){s=Fa(Error(Q(424)),e),e=m1(t,e,r,n,s);break e}else for(An=ei(e.stateNode.containerInfo.firstChild),Pn=e,Ge=!0,ir=null,n=UC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Oa(),r===s){e=as(t,e,n);break e}Zt(t,e,r,n)}e=e.child}return e;case 5:return zC(e),t===null&&Wg(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Fg(r,s)?o=null:i!==null&&Fg(r,i)&&(e.flags|=32),pA(t,e),Zt(t,e,o,n),e.child;case 6:return t===null&&Wg(e),null;case 13:return gA(t,e,n);case 4:return Zv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Va(e,null,r,n):Zt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tr(r,s),h1(t,e,r,s,n);case 7:return Zt(t,e,e.pendingProps,n),e.child;case 8:return Zt(t,e,e.pendingProps.children,n),e.child;case 12:return Zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Be(Fh,r._currentValue),r._currentValue=o,i!==null)if(cr(i.value,o)){if(i.children===s.children&&!mn.current){e=as(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=es(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Hg(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Hg(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Zt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ma(e,n),s=Gn(s),r=r(s),e.flags|=1,Zt(t,e,r,n),e.child;case 14:return r=e.type,s=tr(r,e.pendingProps),s=tr(r.type,s),f1(t,e,r,s,n);case 15:return hA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tr(r,s),nh(t,e),e.tag=1,gn(r)?(t=!0,Oh(e)):t=!1,ma(e,n),cA(e,r,s),Kg(e,r,s,n),Yg(null,e,r,!0,t,n);case 19:return yA(t,e,n);case 22:return fA(t,e,n)}throw Error(Q(156,e.tag))};function DA(t,e){return oC(t,e)}function qO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(t,e,n,r){return new qO(t,e,n,r)}function p0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function KO(t){if(typeof t=="function")return p0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Dv)return 11;if(t===jv)return 14}return 2}function si(t,e){var n=t.alternate;return n===null?(n=Wn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ih(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")p0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ho:return oo(n.children,s,i,e);case kv:o=8,s|=8;break;case yg:return t=Wn(12,n,e,s|2),t.elementType=yg,t.lanes=i,t;case vg:return t=Wn(13,n,e,s),t.elementType=vg,t.lanes=i,t;case wg:return t=Wn(19,n,e,s),t.elementType=wg,t.lanes=i,t;case zS:return $f(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case BS:o=10;break e;case $S:o=9;break e;case Dv:o=11;break e;case jv:o=14;break e;case js:o=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=Wn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function oo(t,e,n,r){return t=Wn(7,t,r,e),t.lanes=n,t}function $f(t,e,n,r){return t=Wn(22,t,r,e),t.elementType=zS,t.lanes=n,t.stateNode={isHidden:!1},t}function Cm(t,e,n){return t=Wn(6,t,null,e),t.lanes=n,t}function Am(t,e,n){return e=Wn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function GO(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=am(0),this.expirationTimes=am(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=am(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function m0(t,e,n,r,s,i,o,a,l){return t=new GO(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Wn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jv(i),t}function QO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function jA(t){if(!t)return fi;t=t._reactInternals;e:{if(Co(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(gn(n))return jC(t,n,e)}return e}function MA(t,e,n,r,s,i,o,a,l){return t=m0(n,r,!0,t,s,i,o,a,l),t.context=jA(null),n=t.current,r=rn(),s=ri(n),i=es(r,s),i.callback=e??null,ti(n,i,s),t.current.lanes=s,Eu(t,s,r),yn(t,r),t}function zf(t,e,n,r){var s=e.current,i=rn(),o=ri(s);return n=jA(n),e.context===null?e.context=n:e.pendingContext=n,e=es(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ti(s,e,o),t!==null&&(lr(t,s,o,i),Zd(t,s,o)),o}function Qh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function S1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function g0(t,e){S1(t,e),(t=t.alternate)&&S1(t,e)}function YO(){return null}var OA=typeof reportError=="function"?reportError:function(t){console.error(t)};function y0(t){this._internalRoot=t}Wf.prototype.render=y0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));zf(t,e,null,null)};Wf.prototype.unmount=y0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;go(function(){zf(null,t,null,null)}),e[is]=null}};function Wf(t){this._internalRoot=t}Wf.prototype.unstable_scheduleHydration=function(t){if(t){var e=fC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Os.length&&e!==0&&e<Os[n].priority;n++);Os.splice(n,0,t),n===0&&mC(t)}};function v0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function C1(){}function XO(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Qh(o);i.call(c)}}var o=MA(e,r,t,0,null,!1,!1,"",C1);return t._reactRootContainer=o,t[is]=o.current,Vc(t.nodeType===8?t.parentNode:t),go(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Qh(l);a.call(c)}}var l=m0(t,0,!1,null,null,!1,!1,"",C1);return t._reactRootContainer=l,t[is]=l.current,Vc(t.nodeType===8?t.parentNode:t),go(function(){zf(e,l,n,r)}),l}function qf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Qh(o);a.call(l)}}zf(e,o,t,s)}else o=XO(n,e,t,s,r);return Qh(o)}dC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Yl(e.pendingLanes);n!==0&&(Vv(e,n|1),yn(e,dt()),!(Ae&6)&&(Ua=dt()+500,Ri()))}break;case 13:go(function(){var r=os(t,1);if(r!==null){var s=rn();lr(r,t,1,s)}}),g0(t,1)}};Lv=function(t){if(t.tag===13){var e=os(t,134217728);if(e!==null){var n=rn();lr(e,t,134217728,n)}g0(t,134217728)}};hC=function(t){if(t.tag===13){var e=ri(t),n=os(t,e);if(n!==null){var r=rn();lr(n,t,e,r)}g0(t,e)}};fC=function(){return je};pC=function(t,e){var n=je;try{return je=t,e()}finally{je=n}};Pg=function(t,e,n){switch(e){case"input":if(Eg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Of(r);if(!s)throw Error(Q(90));HS(r),Eg(r,s)}}}break;case"textarea":KS(t,n);break;case"select":e=n.value,e!=null&&da(t,!!n.multiple,e,!1)}};eC=d0;tC=go;var JO={usingClientEntryPoint:!1,Events:[Tu,Qo,Of,JS,ZS,d0]},Wl={findFiberByHostInstance:Qi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZO={bundleType:Wl.bundleType,version:Wl.version,rendererPackageName:Wl.rendererPackageName,rendererConfig:Wl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ys.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=sC(t),t===null?null:t.stateNode},findFiberByHostInstance:Wl.findFiberByHostInstance||YO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ad.isDisabled&&Ad.supportsFiber)try{kf=Ad.inject(ZO),Cr=Ad}catch{}}Dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JO;Dn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v0(e))throw Error(Q(200));return QO(t,e,null,n)};Dn.createRoot=function(t,e){if(!v0(t))throw Error(Q(299));var n=!1,r="",s=OA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=m0(t,1,!1,null,null,n,!1,r,s),t[is]=e.current,Vc(t.nodeType===8?t.parentNode:t),new y0(e)};Dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=sC(e),t=t===null?null:t.stateNode,t};Dn.flushSync=function(t){return go(t)};Dn.hydrate=function(t,e,n){if(!Hf(e))throw Error(Q(200));return qf(null,t,e,!0,n)};Dn.hydrateRoot=function(t,e,n){if(!v0(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=OA;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=MA(e,null,t,1,n??null,s,!1,i,o),t[is]=e.current,Vc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Wf(e)};Dn.render=function(t,e,n){if(!Hf(e))throw Error(Q(200));return qf(null,t,e,!1,n)};Dn.unmountComponentAtNode=function(t){if(!Hf(t))throw Error(Q(40));return t._reactRootContainer?(go(function(){qf(null,null,t,!1,function(){t._reactRootContainer=null,t[is]=null})}),!0):!1};Dn.unstable_batchedUpdates=d0;Dn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Hf(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return qf(t,e,n,!1,r)};Dn.version="18.3.1-next-f1338f8080-20240426";function VA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(VA)}catch(t){console.error(t)}}VA(),VS.exports=Dn;var Cu=VS.exports;const LA=TS(Cu);var FA,A1=Cu;FA=A1.createRoot,A1.hydrateRoot;const eV=1,tV=1e6;let Im=0;function nV(){return Im=(Im+1)%Number.MAX_SAFE_INTEGER,Im.toString()}const Pm=new Map,I1=t=>{if(Pm.has(t))return;const e=setTimeout(()=>{Pm.delete(t),gc({type:"REMOVE_TOAST",toastId:t})},tV);Pm.set(t,e)},rV=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,eV)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?I1(n):t.toasts.forEach(r=>{I1(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},oh=[];let ah={toasts:[]};function gc(t){ah=rV(ah,t),oh.forEach(e=>{e(ah)})}function Fn({...t}){const e=nV(),n=s=>gc({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>gc({type:"DISMISS_TOAST",toastId:e});return gc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function sV(){const[t,e]=v.useState(ah);return v.useEffect(()=>(oh.push(e),()=>{const n=oh.indexOf(e);n>-1&&oh.splice(n,1)}),[t]),{...t,toast:Fn,dismiss:n=>gc({type:"DISMISS_TOAST",toastId:n})}}function Re(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function iV(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function UA(...t){return e=>t.forEach(n=>iV(n,e))}function lt(...t){return v.useCallback(UA(...t),t)}function oV(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];function c(p){const{scope:f,children:m,...w}=p,y=(f==null?void 0:f[t][l])||a,_=v.useMemo(()=>w,Object.values(w));return d.jsx(y.Provider,{value:_,children:m})}function h(p,f){const m=(f==null?void 0:f[t][l])||a,w=v.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,h]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,aV(s,...e)]}function aV(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const p=l(i)[`__scope${c}`];return{...a,...p}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Ba=v.forwardRef((t,e)=>{const{children:n,...r}=t,s=v.Children.toArray(n),i=s.find(lV);if(i){const o=i.props.children,a=s.map(l=>l===i?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:l);return d.jsx(ly,{...r,ref:e,children:v.isValidElement(o)?v.cloneElement(o,void 0,a):null})}return d.jsx(ly,{...r,ref:e,children:n})});Ba.displayName="Slot";var ly=v.forwardRef((t,e)=>{const{children:n,...r}=t;if(v.isValidElement(n)){const s=uV(n);return v.cloneElement(n,{...cV(r,n.props),ref:e?UA(e,s):s})}return v.Children.count(n)>1?v.Children.only(null):null});ly.displayName="SlotClone";var w0=({children:t})=>d.jsx(d.Fragment,{children:t});function lV(t){return v.isValidElement(t)&&t.type===w0}function cV(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function uV(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function BA(t){const e=t+"CollectionProvider",[n,r]=oV(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:w,children:y}=m,_=X.useRef(null),x=X.useRef(new Map).current;return d.jsx(s,{scope:w,itemMap:x,collectionRef:_,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=X.forwardRef((m,w)=>{const{scope:y,children:_}=m,x=i(a,y),E=lt(w,x.collectionRef);return d.jsx(Ba,{ref:E,children:_})});l.displayName=a;const c=t+"CollectionItemSlot",h="data-radix-collection-item",p=X.forwardRef((m,w)=>{const{scope:y,children:_,...x}=m,E=X.useRef(null),T=lt(w,E),I=i(c,y);return X.useEffect(()=>(I.itemMap.set(E,{ref:E,...x}),()=>void I.itemMap.delete(E))),d.jsx(Ba,{[h]:"",ref:T,children:_})});p.displayName=c;function f(m){const w=i(t+"CollectionConsumer",m);return X.useCallback(()=>{const _=w.collectionRef.current;if(!_)return[];const x=Array.from(_.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((I,D)=>x.indexOf(I.ref.current)-x.indexOf(D.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:l,ItemSlot:p},f,r]}function dV(t,e){const n=v.createContext(e),r=i=>{const{children:o,...a}=i,l=v.useMemo(()=>a,Object.values(a));return d.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=v.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function sl(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];const c=p=>{var x;const{scope:f,children:m,...w}=p,y=((x=f==null?void 0:f[t])==null?void 0:x[l])||a,_=v.useMemo(()=>w,Object.values(w));return d.jsx(y.Provider,{value:_,children:m})};c.displayName=i+"Provider";function h(p,f){var y;const m=((y=f==null?void 0:f[t])==null?void 0:y[l])||a,w=v.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[c,h]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,hV(s,...e)]}function hV(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const p=l(i)[`__scope${c}`];return{...a,...p}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var fV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Fe=fV.reduce((t,e)=>{const n=v.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Ba:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function $A(t,e){t&&Cu.flushSync(()=>t.dispatchEvent(e))}function kn(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function pV(t,e=globalThis==null?void 0:globalThis.document){const n=kn(t);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var mV="DismissableLayer",cy="dismissableLayer.update",gV="dismissableLayer.pointerDownOutside",yV="dismissableLayer.focusOutside",P1,zA=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Kf=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=v.useContext(zA),[h,p]=v.useState(null),f=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=v.useState({}),w=lt(e,C=>p(C)),y=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=y.indexOf(_),E=h?y.indexOf(h):-1,T=c.layersWithOutsidePointerEventsDisabled.size>0,I=E>=x,D=wV(C=>{const S=C.target,A=[...c.branches].some(k=>k.contains(S));!I||A||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},f),M=xV(C=>{const S=C.target;[...c.branches].some(k=>k.contains(S))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},f);return pV(C=>{E===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},f),v.useEffect(()=>{if(h)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(P1=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),R1(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=P1)}},[h,f,n,c]),v.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),R1())},[h,c]),v.useEffect(()=>{const C=()=>m({});return document.addEventListener(cy,C),()=>document.removeEventListener(cy,C)},[]),d.jsx(Fe.div,{...l,ref:w,style:{pointerEvents:T?I?"auto":"none":void 0,...t.style},onFocusCapture:Re(t.onFocusCapture,M.onFocusCapture),onBlurCapture:Re(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Re(t.onPointerDownCapture,D.onPointerDownCapture)})});Kf.displayName=mV;var vV="DismissableLayerBranch",WA=v.forwardRef((t,e)=>{const n=v.useContext(zA),r=v.useRef(null),s=lt(e,r);return v.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(Fe.div,{...t,ref:s})});WA.displayName=vV;function wV(t,e=globalThis==null?void 0:globalThis.document){const n=kn(t),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){HA(gV,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function xV(t,e=globalThis==null?void 0:globalThis.document){const n=kn(t),r=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!r.current&&HA(yV,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function R1(){const t=new CustomEvent(cy);document.dispatchEvent(t)}function HA(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?$A(s,i):s.dispatchEvent(i)}var _V=Kf,EV=WA,Vr=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},bV="Portal",x0=v.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=v.useState(!1);Vr(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?LA.createPortal(d.jsx(Fe.div,{...r,ref:e}),o):null});x0.displayName=bV;function TV(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var il=t=>{const{present:e,children:n}=t,r=SV(e),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),i=lt(r.ref,CV(s));return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:i}):null};il.displayName="Presence";function SV(t){const[e,n]=v.useState(),r=v.useRef({}),s=v.useRef(t),i=v.useRef("none"),o=t?"mounted":"unmounted",[a,l]=TV(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const c=Id(r.current);i.current=a==="mounted"?c:"none"},[a]),Vr(()=>{const c=r.current,h=s.current;if(h!==t){const f=i.current,m=Id(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(h&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Vr(()=>{if(e){let c;const h=e.ownerDocument.defaultView??window,p=m=>{const y=Id(r.current).includes(m.animationName);if(m.target===e&&y&&(l("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",c=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},f=m=>{m.target===e&&(i.current=Id(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{h.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Id(t){return(t==null?void 0:t.animationName)||"none"}function CV(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function _0({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=AV({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=kn(n),l=v.useCallback(c=>{if(i){const p=typeof c=="function"?c(t):c;p!==t&&a(p)}else s(c)},[i,t,s,a]);return[o,l]}function AV({defaultProp:t,onChange:e}){const n=v.useState(t),[r]=n,s=v.useRef(r),i=kn(e);return v.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var IV="VisuallyHidden",Gf=v.forwardRef((t,e)=>d.jsx(Fe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Gf.displayName=IV;var PV=Gf,E0="ToastProvider",[b0,RV,NV]=BA("Toast"),[qA,LQ]=sl("Toast",[NV]),[kV,Qf]=qA(E0),KA=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=v.useState(null),[c,h]=v.useState(0),p=v.useRef(!1),f=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${E0}\`. Expected non-empty \`string\`.`),d.jsx(b0.Provider,{scope:e,children:d.jsx(kV,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:v.useCallback(()=>h(m=>m+1),[]),onToastRemove:v.useCallback(()=>h(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:f,children:o})})};KA.displayName=E0;var GA="ToastViewport",DV=["F8"],uy="toast.viewportPause",dy="toast.viewportResume",QA=v.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=DV,label:s="Notifications ({hotkey})",...i}=t,o=Qf(GA,n),a=RV(n),l=v.useRef(null),c=v.useRef(null),h=v.useRef(null),p=v.useRef(null),f=lt(e,p,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;v.useEffect(()=>{const _=x=>{var T;r.length!==0&&r.every(I=>x[I]||x.code===I)&&((T=p.current)==null||T.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),v.useEffect(()=>{const _=l.current,x=p.current;if(w&&_&&x){const E=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(uy);x.dispatchEvent(M),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(dy);x.dispatchEvent(M),o.isClosePausedRef.current=!1}},I=M=>{!_.contains(M.relatedTarget)&&T()},D=()=>{_.contains(document.activeElement)||T()};return _.addEventListener("focusin",E),_.addEventListener("focusout",I),_.addEventListener("pointermove",E),_.addEventListener("pointerleave",D),window.addEventListener("blur",E),window.addEventListener("focus",T),()=>{_.removeEventListener("focusin",E),_.removeEventListener("focusout",I),_.removeEventListener("pointermove",E),_.removeEventListener("pointerleave",D),window.removeEventListener("blur",E),window.removeEventListener("focus",T)}}},[w,o.isClosePausedRef]);const y=v.useCallback(({tabbingDirection:_})=>{const E=a().map(T=>{const I=T.ref.current,D=[I,...qV(I)];return _==="forwards"?D:D.reverse()});return(_==="forwards"?E.reverse():E).flat()},[a]);return v.useEffect(()=>{const _=p.current;if(_){const x=E=>{var D,M,C;const T=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!T){const S=document.activeElement,A=E.shiftKey;if(E.target===_&&A){(D=c.current)==null||D.focus();return}const j=y({tabbingDirection:A?"backwards":"forwards"}),N=j.findIndex(q=>q===S);Rm(j.slice(N+1))?E.preventDefault():A?(M=c.current)==null||M.focus():(C=h.current)==null||C.focus()}};return _.addEventListener("keydown",x),()=>_.removeEventListener("keydown",x)}},[a,y]),d.jsxs(EV,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&d.jsx(hy,{ref:c,onFocusFromOutsideViewport:()=>{const _=y({tabbingDirection:"forwards"});Rm(_)}}),d.jsx(b0.Slot,{scope:n,children:d.jsx(Fe.ol,{tabIndex:-1,...i,ref:f})}),w&&d.jsx(hy,{ref:h,onFocusFromOutsideViewport:()=>{const _=y({tabbingDirection:"backwards"});Rm(_)}})]})});QA.displayName=GA;var YA="ToastFocusProxy",hy=v.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Qf(YA,n);return d.jsx(Gf,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});hy.displayName=YA;var Yf="Toast",jV="toast.swipeStart",MV="toast.swipeMove",OV="toast.swipeCancel",VV="toast.swipeEnd",XA=v.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=_0({prop:r,defaultProp:s,onChange:i});return d.jsx(il,{present:n||a,children:d.jsx(UV,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:kn(t.onPause),onResume:kn(t.onResume),onSwipeStart:Re(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Re(t.onSwipeMove,c=>{const{x:h,y:p}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:Re(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Re(t.onSwipeEnd,c=>{const{x:h,y:p}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),l(!1)})})})});XA.displayName=Yf;var[LV,FV]=qA(Yf,{onClose(){}}),UV=v.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:h,onSwipeMove:p,onSwipeCancel:f,onSwipeEnd:m,...w}=t,y=Qf(Yf,n),[_,x]=v.useState(null),E=lt(e,q=>x(q)),T=v.useRef(null),I=v.useRef(null),D=s||y.duration,M=v.useRef(0),C=v.useRef(D),S=v.useRef(0),{onToastAdd:A,onToastRemove:k}=y,R=kn(()=>{var U;(_==null?void 0:_.contains(document.activeElement))&&((U=y.viewport)==null||U.focus()),o()}),j=v.useCallback(q=>{!q||q===1/0||(window.clearTimeout(S.current),M.current=new Date().getTime(),S.current=window.setTimeout(R,q))},[R]);v.useEffect(()=>{const q=y.viewport;if(q){const U=()=>{j(C.current),c==null||c()},G=()=>{const $=new Date().getTime()-M.current;C.current=C.current-$,window.clearTimeout(S.current),l==null||l()};return q.addEventListener(uy,G),q.addEventListener(dy,U),()=>{q.removeEventListener(uy,G),q.removeEventListener(dy,U)}}},[y.viewport,D,l,c,j]),v.useEffect(()=>{i&&!y.isClosePausedRef.current&&j(D)},[i,D,y.isClosePausedRef,j]),v.useEffect(()=>(A(),()=>k()),[A,k]);const N=v.useMemo(()=>_?sI(_):null,[_]);return y.viewport?d.jsxs(d.Fragment,{children:[N&&d.jsx(BV,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),d.jsx(LV,{scope:n,onClose:R,children:Cu.createPortal(d.jsx(b0.ItemSlot,{scope:n,children:d.jsx(_V,{asChild:!0,onEscapeKeyDown:Re(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||R(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(Fe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...w,ref:E,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Re(t.onKeyDown,q=>{q.key==="Escape"&&(a==null||a(q.nativeEvent),q.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:Re(t.onPointerDown,q=>{q.button===0&&(T.current={x:q.clientX,y:q.clientY})}),onPointerMove:Re(t.onPointerMove,q=>{if(!T.current)return;const U=q.clientX-T.current.x,G=q.clientY-T.current.y,$=!!I.current,O=["left","right"].includes(y.swipeDirection),z=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,K=O?z(0,U):0,Z=O?0:z(0,G),ne=q.pointerType==="touch"?10:2,se={x:K,y:Z},Ie={originalEvent:q,delta:se};$?(I.current=se,Pd(MV,p,Ie,{discrete:!1})):N1(se,y.swipeDirection,ne)?(I.current=se,Pd(jV,h,Ie,{discrete:!1}),q.target.setPointerCapture(q.pointerId)):(Math.abs(U)>ne||Math.abs(G)>ne)&&(T.current=null)}),onPointerUp:Re(t.onPointerUp,q=>{const U=I.current,G=q.target;if(G.hasPointerCapture(q.pointerId)&&G.releasePointerCapture(q.pointerId),I.current=null,T.current=null,U){const $=q.currentTarget,O={originalEvent:q,delta:U};N1(U,y.swipeDirection,y.swipeThreshold)?Pd(VV,m,O,{discrete:!0}):Pd(OV,f,O,{discrete:!0}),$.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),BV=t=>{const{__scopeToast:e,children:n,...r}=t,s=Qf(Yf,e),[i,o]=v.useState(!1),[a,l]=v.useState(!1);return WV(()=>o(!0)),v.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:d.jsx(x0,{asChild:!0,children:d.jsx(Gf,{...r,children:i&&d.jsxs(d.Fragment,{children:[s.label," ",n]})})})},$V="ToastTitle",JA=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Fe.div,{...r,ref:e})});JA.displayName=$V;var zV="ToastDescription",ZA=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Fe.div,{...r,ref:e})});ZA.displayName=zV;var eI="ToastAction",tI=v.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?d.jsx(rI,{altText:n,asChild:!0,children:d.jsx(T0,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${eI}\`. Expected non-empty \`string\`.`),null)});tI.displayName=eI;var nI="ToastClose",T0=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=FV(nI,n);return d.jsx(rI,{asChild:!0,children:d.jsx(Fe.button,{type:"button",...r,ref:e,onClick:Re(t.onClick,s.onClose)})})});T0.displayName=nI;var rI=v.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return d.jsx(Fe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function sI(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),HV(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...sI(r))}}),e}function Pd(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?$A(s,i):s.dispatchEvent(i)}var N1=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function WV(t=()=>{}){const e=kn(t);Vr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function HV(t){return t.nodeType===t.ELEMENT_NODE}function qV(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Rm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var KV=KA,iI=QA,oI=XA,aI=JA,lI=ZA,cI=tI,uI=T0;function dI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=dI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function hI(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=dI(t))&&(r&&(r+=" "),r+=e);return r}const k1=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,D1=hI,S0=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return D1(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const h=n==null?void 0:n[c],p=i==null?void 0:i[c];if(h===null)return null;const f=k1(h)||k1(p);return s[c][f]}),a=n&&Object.entries(n).reduce((c,h)=>{let[p,f]=h;return f===void 0||(c[p]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,h)=>{let{class:p,className:f,...m}=h;return Object.entries(m).every(w=>{let[y,_]=w;return Array.isArray(_)?_.includes({...i,...a}[y]):{...i,...a}[y]===_})?[...c,p,f]:c},[]);return D1(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>v.createElement("svg",{ref:l,...QV,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:fI("lucide",s),...a},[...o.map(([c,h])=>v.createElement(c,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=(t,e)=>{const n=v.forwardRef(({className:r,...s},i)=>v.createElement(YV,{ref:i,iconNode:e,className:fI(`lucide-${GV(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=ve("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=ve("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=ve("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=ve("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=ve("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=ve("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=ve("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=ve("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=ve("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=ve("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=ve("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=ve("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=ve("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=ve("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=ve("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=ve("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=ve("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=ve("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=ve("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=ve("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=ve("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=ve("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=ve("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=ve("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=ve("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=ve("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=ve("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=ve("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=ve("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=ve("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=ve("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=ve("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=ve("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),C0="-",v4=t=>{const e=x4(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(C0);return a[0]===""&&a.length!==1&&a.shift(),yI(a,e)||w4(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},yI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?yI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(C0);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},V1=/^\[(.+)\]$/,w4=t=>{if(V1.test(t)){const e=V1.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},x4=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return E4(Object.entries(t.classGroups),n).forEach(([i,o])=>{py(o,r,i,e)}),r},py=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:L1(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(_4(s)){py(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{py(o,L1(e,i),n,r)})})},L1=(t,e)=>{let n=t;return e.split(C0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},_4=t=>t.isThemeGetter,E4=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,b4=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},vI="!",T4=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,h=0,p;for(let _=0;_<a.length;_++){let x=a[_];if(c===0){if(x===s&&(r||a.slice(_,_+i)===e)){l.push(a.slice(h,_)),h=_+i;continue}if(x==="/"){p=_;continue}}x==="["?c++:x==="]"&&c--}const f=l.length===0?a:a.substring(h),m=f.startsWith(vI),w=m?f.substring(1):f,y=p&&p>h?p-h:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:w,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},S4=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},C4=t=>({cache:b4(t.cacheSize),parseClassName:T4(t),...v4(t)}),A4=/\s+/,I4=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(A4);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:h,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:m}=n(c);let w=!!m,y=r(w?f.substring(0,m):f);if(!y){if(!w){a=c+(a.length>0?" "+a:a);continue}if(y=r(f),!y){a=c+(a.length>0?" "+a:a);continue}w=!1}const _=S4(h).join(":"),x=p?_+vI:_,E=x+y;if(i.includes(E))continue;i.push(E);const T=s(y,w);for(let I=0;I<T.length;++I){const D=T[I];i.push(x+D)}a=c+(a.length>0?" "+a:a)}return a};function P4(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=wI(e))&&(r&&(r+=" "),r+=n);return r}const wI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=wI(t[r]))&&(n&&(n+=" "),n+=e);return n};function R4(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((h,p)=>p(h),t());return n=C4(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const h=I4(l,n);return s(l,h),h}return function(){return i(P4.apply(null,arguments))}}const ze=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},xI=/^\[(?:([a-z-]+):)?(.+)\]$/i,N4=/^\d+\/\d+$/,k4=new Set(["px","full","screen"]),D4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,j4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,M4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,O4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,V4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wr=t=>ya(t)||k4.has(t)||N4.test(t),Is=t=>ol(t,"length",H4),ya=t=>!!t&&!Number.isNaN(Number(t)),Dm=t=>ol(t,"number",ya),Hl=t=>!!t&&Number.isInteger(Number(t)),L4=t=>t.endsWith("%")&&ya(t.slice(0,-1)),me=t=>xI.test(t),Ps=t=>D4.test(t),F4=new Set(["length","size","percentage"]),U4=t=>ol(t,F4,_I),B4=t=>ol(t,"position",_I),$4=new Set(["image","url"]),z4=t=>ol(t,$4,K4),W4=t=>ol(t,"",q4),ql=()=>!0,ol=(t,e,n)=>{const r=xI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},H4=t=>j4.test(t)&&!M4.test(t),_I=()=>!1,q4=t=>O4.test(t),K4=t=>V4.test(t),G4=()=>{const t=ze("colors"),e=ze("spacing"),n=ze("blur"),r=ze("brightness"),s=ze("borderColor"),i=ze("borderRadius"),o=ze("borderSpacing"),a=ze("borderWidth"),l=ze("contrast"),c=ze("grayscale"),h=ze("hueRotate"),p=ze("invert"),f=ze("gap"),m=ze("gradientColorStops"),w=ze("gradientColorStopPositions"),y=ze("inset"),_=ze("margin"),x=ze("opacity"),E=ze("padding"),T=ze("saturate"),I=ze("scale"),D=ze("sepia"),M=ze("skew"),C=ze("space"),S=ze("translate"),A=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",me,e],j=()=>[me,e],N=()=>["",Wr,Is],q=()=>["auto",ya,me],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",me],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[ya,me];return{cacheSize:500,separator:":",theme:{colors:[ql],spacing:[Wr,Is],blur:["none","",Ps,me],brightness:Z(),borderColor:[t],borderRadius:["none","","full",Ps,me],borderSpacing:j(),borderWidth:N(),contrast:Z(),grayscale:z(),hueRotate:Z(),invert:z(),gap:j(),gradientColorStops:[t],gradientColorStopPositions:[L4,Is],inset:R(),margin:R(),opacity:Z(),padding:j(),saturate:Z(),scale:Z(),sepia:z(),skew:Z(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",me]}],container:["container"],columns:[{columns:[Ps]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),me]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Hl,me]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",me]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",Hl,me]}],"grid-cols":[{"grid-cols":[ql]}],"col-start-end":[{col:["auto",{span:["full",Hl,me]},me]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[ql]}],"row-start-end":[{row:["auto",{span:[Hl,me]},me]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",me]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",me,e]}],"min-w":[{"min-w":[me,e,"min","max","fit"]}],"max-w":[{"max-w":[me,e,"none","full","min","max","fit","prose",{screen:[Ps]},Ps]}],h:[{h:[me,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[me,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[me,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[me,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ps,Is]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Dm]}],"font-family":[{font:[ql]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",me]}],"line-clamp":[{"line-clamp":["none",ya,Dm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Wr,me]}],"list-image":[{"list-image":["none",me]}],"list-style-type":[{list:["none","disc","decimal",me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Wr,Is]}],"underline-offset":[{"underline-offset":["auto",Wr,me]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),B4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",U4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},z4]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:G()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[Wr,me]}],"outline-w":[{outline:[Wr,Is]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Wr,Is]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ps,W4]}],"shadow-color":[{shadow:[ql]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ps,me]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[T]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",me]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",me]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[Hl,me]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",me]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Wr,Is,Dm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Q4=R4(G4);function we(...t){return Q4(hI(t))}const Y4=KV,EI=v.forwardRef(({className:t,...e},n)=>d.jsx(iI,{ref:n,className:we("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));EI.displayName=iI.displayName;const X4=S0("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),bI=v.forwardRef(({className:t,variant:e,...n},r)=>d.jsx(oI,{ref:r,className:we(X4({variant:e}),t),...n}));bI.displayName=oI.displayName;const J4=v.forwardRef(({className:t,...e},n)=>d.jsx(cI,{ref:n,className:we("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));J4.displayName=cI.displayName;const TI=v.forwardRef(({className:t,...e},n)=>d.jsx(uI,{ref:n,className:we("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(Qr,{className:"h-4 w-4"})}));TI.displayName=uI.displayName;const SI=v.forwardRef(({className:t,...e},n)=>d.jsx(aI,{ref:n,className:we("text-sm font-semibold",t),...e}));SI.displayName=aI.displayName;const CI=v.forwardRef(({className:t,...e},n)=>d.jsx(lI,{ref:n,className:we("text-sm opacity-90",t),...e}));CI.displayName=lI.displayName;function Z4(){const{toasts:t}=sV();return d.jsxs(Y4,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return d.jsxs(bI,{...i,children:[d.jsxs("div",{className:"grid gap-1",children:[n&&d.jsx(SI,{children:n}),r&&d.jsx(CI,{children:r})]}),s,d.jsx(TI,{})]},e)}),d.jsx(EI,{})]})}var F1=["light","dark"],eL="(prefers-color-scheme: dark)",tL=v.createContext(void 0),nL={setTheme:t=>{},themes:[]},rL=()=>{var t;return(t=v.useContext(tL))!=null?t:nL};v.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,p=s?F1.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(w,y=!1,_=!0)=>{let x=o?o[w]:w,E=y?w+"|| ''":`'${x}'`,T="";return s&&_&&!y&&F1.includes(w)&&(T+=`d.style.colorScheme = '${w}';`),n==="class"?y||x?T+=`c.add(${E})`:T+="null":x&&(T+=`d[s](n,${E})`),T},m=t?`!function(){${h}${f(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${eL}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${c?"":"else{"+f(i,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${p}}catch(t){}}();`;return v.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var sL=t=>{switch(t){case"success":return aL;case"info":return cL;case"warning":return lL;case"error":return uL;default:return null}},iL=Array(12).fill(0),oL=({visible:t})=>X.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},X.createElement("div",{className:"sonner-spinner"},iL.map((e,n)=>X.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),aL=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),lL=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),cL=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),uL=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),dL=()=>{let[t,e]=X.useState(document.hidden);return X.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},my=1,hL=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:my++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0;return s.then(async o=>{if(pL(o)&&!o.ok){i=!1;let a=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,l=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:a,description:l})}else if(n.success!==void 0){i=!1;let a=typeof n.success=="function"?await n.success(o):n.success,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:a,description:l})}}).catch(async o=>{if(n.error!==void 0){i=!1;let a=typeof n.error=="function"?await n.error(o):n.error,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:a,description:l})}}).finally(()=>{var o;i&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||my++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},bn=new hL,fL=(t,e)=>{let n=(e==null?void 0:e.id)||my++;return bn.addToast({title:t,...e,id:n}),n},pL=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",mL=fL,gL=()=>bn.toasts;Object.assign(mL,{success:bn.success,info:bn.info,warning:bn.warning,error:bn.error,custom:bn.custom,message:bn.message,promise:bn.promise,dismiss:bn.dismiss,loading:bn.loading},{getHistory:gL});function yL(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}yL(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Nd(t){return t.label!==void 0}var vL=3,wL="32px",xL=4e3,_L=356,EL=14,bL=20,TL=200;function SL(...t){return t.filter(Boolean).join(" ")}var CL=t=>{var e,n,r,s,i,o,a,l,c,h;let{invert:p,toast:f,unstyled:m,interacting:w,setHeights:y,visibleToasts:_,heights:x,index:E,toasts:T,expanded:I,removeToast:D,defaultRichColors:M,closeButton:C,style:S,cancelButtonStyle:A,actionButtonStyle:k,className:R="",descriptionClassName:j="",duration:N,position:q,gap:U,loadingIcon:G,expandByDefault:$,classNames:O,icons:z,closeButtonAriaLabel:K="Close toast",pauseWhenPageIsHidden:Z,cn:ne}=t,[se,Ie]=X.useState(!1),[Ye,_e]=X.useState(!1),[ft,an]=X.useState(!1),[wn,Qt]=X.useState(!1),[Yn,xn]=X.useState(0),[Yt,Xn]=X.useState(0),mr=X.useRef(null),ln=X.useRef(null),Li=E===0,Fi=E+1<=_,Ke=f.type,Mn=f.dismissible!==!1,No=f.className||"",bl=f.descriptionClassName||"",F=X.useMemo(()=>x.findIndex(he=>he.toastId===f.id)||0,[x,f.id]),Y=X.useMemo(()=>{var he;return(he=f.closeButton)!=null?he:C},[f.closeButton,C]),ie=X.useMemo(()=>f.duration||N||xL,[f.duration,N]),ae=X.useRef(0),de=X.useRef(0),Ce=X.useRef(0),Xe=X.useRef(null),[xt,Tl]=q.split("-"),Es=X.useMemo(()=>x.reduce((he,Me,De)=>De>=F?he:he+Me.height,0),[x,F]),Sl=dL(),Gu=f.invert||p,Ui=Ke==="loading";de.current=X.useMemo(()=>F*U+Es,[F,Es]),X.useEffect(()=>{Ie(!0)},[]),X.useLayoutEffect(()=>{if(!se)return;let he=ln.current,Me=he.style.height;he.style.height="auto";let De=he.getBoundingClientRect().height;he.style.height=Me,Xn(De),y(Mt=>Mt.find(cn=>cn.toastId===f.id)?Mt.map(cn=>cn.toastId===f.id?{...cn,height:De}:cn):[{toastId:f.id,height:De,position:f.position},...Mt])},[se,f.title,f.description,y,f.id]);let gr=X.useCallback(()=>{_e(!0),xn(de.current),y(he=>he.filter(Me=>Me.toastId!==f.id)),setTimeout(()=>{D(f)},TL)},[f,D,y,de]);X.useEffect(()=>{if(f.promise&&Ke==="loading"||f.duration===1/0||f.type==="loading")return;let he,Me=ie;return I||w||Z&&Sl?(()=>{if(Ce.current<ae.current){let De=new Date().getTime()-ae.current;Me=Me-De}Ce.current=new Date().getTime()})():Me!==1/0&&(ae.current=new Date().getTime(),he=setTimeout(()=>{var De;(De=f.onAutoClose)==null||De.call(f,f),gr()},Me)),()=>clearTimeout(he)},[I,w,$,f,ie,gr,f.promise,Ke,Z,Sl]),X.useEffect(()=>{let he=ln.current;if(he){let Me=he.getBoundingClientRect().height;return Xn(Me),y(De=>[{toastId:f.id,height:Me,position:f.position},...De]),()=>y(De=>De.filter(Mt=>Mt.toastId!==f.id))}},[y,f.id]),X.useEffect(()=>{f.delete&&gr()},[gr,f.delete]);function $p(){return z!=null&&z.loading?X.createElement("div",{className:"sonner-loader","data-visible":Ke==="loading"},z.loading):G?X.createElement("div",{className:"sonner-loader","data-visible":Ke==="loading"},G):X.createElement(oL,{visible:Ke==="loading"})}return X.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:ln,className:ne(R,No,O==null?void 0:O.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,O==null?void 0:O.default,O==null?void 0:O[Ke],(n=f==null?void 0:f.classNames)==null?void 0:n[Ke]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:M,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":se,"data-promise":!!f.promise,"data-removed":Ye,"data-visible":Fi,"data-y-position":xt,"data-x-position":Tl,"data-index":E,"data-front":Li,"data-swiping":ft,"data-dismissible":Mn,"data-type":Ke,"data-invert":Gu,"data-swipe-out":wn,"data-expanded":!!(I||$&&se),style:{"--index":E,"--toasts-before":E,"--z-index":T.length-E,"--offset":`${Ye?Yn:de.current}px`,"--initial-height":$?"auto":`${Yt}px`,...S,...f.style},onPointerDown:he=>{Ui||!Mn||(mr.current=new Date,xn(de.current),he.target.setPointerCapture(he.pointerId),he.target.tagName!=="BUTTON"&&(an(!0),Xe.current={x:he.clientX,y:he.clientY}))},onPointerUp:()=>{var he,Me,De,Mt;if(wn||!Mn)return;Xe.current=null;let cn=Number(((he=ln.current)==null?void 0:he.style.getPropertyValue("--swipe-amount").replace("px",""))||0),bs=new Date().getTime()-((Me=mr.current)==null?void 0:Me.getTime()),Br=Math.abs(cn)/bs;if(Math.abs(cn)>=bL||Br>.11){xn(de.current),(De=f.onDismiss)==null||De.call(f,f),gr(),Qt(!0);return}(Mt=ln.current)==null||Mt.style.setProperty("--swipe-amount","0px"),an(!1)},onPointerMove:he=>{var Me;if(!Xe.current||!Mn)return;let De=he.clientY-Xe.current.y,Mt=he.clientX-Xe.current.x,cn=(xt==="top"?Math.min:Math.max)(0,De),bs=he.pointerType==="touch"?10:2;Math.abs(cn)>bs?(Me=ln.current)==null||Me.style.setProperty("--swipe-amount",`${De}px`):Math.abs(Mt)>bs&&(Xe.current=null)}},Y&&!f.jsx?X.createElement("button",{"aria-label":K,"data-disabled":Ui,"data-close-button":!0,onClick:Ui||!Mn?()=>{}:()=>{var he;gr(),(he=f.onDismiss)==null||he.call(f,f)},className:ne(O==null?void 0:O.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},X.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),X.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||X.isValidElement(f.title)?f.jsx||f.title:X.createElement(X.Fragment,null,Ke||f.icon||f.promise?X.createElement("div",{"data-icon":"",className:ne(O==null?void 0:O.icon,(i=f==null?void 0:f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||$p():null,f.type!=="loading"?f.icon||(z==null?void 0:z[Ke])||sL(Ke):null):null,X.createElement("div",{"data-content":"",className:ne(O==null?void 0:O.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},X.createElement("div",{"data-title":"",className:ne(O==null?void 0:O.title,(a=f==null?void 0:f.classNames)==null?void 0:a.title)},f.title),f.description?X.createElement("div",{"data-description":"",className:ne(j,bl,O==null?void 0:O.description,(l=f==null?void 0:f.classNames)==null?void 0:l.description)},f.description):null),X.isValidElement(f.cancel)?f.cancel:f.cancel&&Nd(f.cancel)?X.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||A,onClick:he=>{var Me,De;Nd(f.cancel)&&Mn&&((De=(Me=f.cancel).onClick)==null||De.call(Me,he),gr())},className:ne(O==null?void 0:O.cancelButton,(c=f==null?void 0:f.classNames)==null?void 0:c.cancelButton)},f.cancel.label):null,X.isValidElement(f.action)?f.action:f.action&&Nd(f.action)?X.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||k,onClick:he=>{var Me,De;Nd(f.action)&&(he.defaultPrevented||((De=(Me=f.action).onClick)==null||De.call(Me,he),gr()))},className:ne(O==null?void 0:O.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function U1(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var AL=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:l="light",richColors:c,duration:h,style:p,visibleToasts:f=vL,toastOptions:m,dir:w=U1(),gap:y=EL,loadingIcon:_,icons:x,containerAriaLabel:E="Notifications",pauseWhenPageIsHidden:T,cn:I=SL}=t,[D,M]=X.useState([]),C=X.useMemo(()=>Array.from(new Set([n].concat(D.filter(Z=>Z.position).map(Z=>Z.position)))),[D,n]),[S,A]=X.useState([]),[k,R]=X.useState(!1),[j,N]=X.useState(!1),[q,U]=X.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),G=X.useRef(null),$=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=X.useRef(null),z=X.useRef(!1),K=X.useCallback(Z=>{var ne;(ne=D.find(se=>se.id===Z.id))!=null&&ne.delete||bn.dismiss(Z.id),M(se=>se.filter(({id:Ie})=>Ie!==Z.id))},[D]);return X.useEffect(()=>bn.subscribe(Z=>{if(Z.dismiss){M(ne=>ne.map(se=>se.id===Z.id?{...se,delete:!0}:se));return}setTimeout(()=>{LA.flushSync(()=>{M(ne=>{let se=ne.findIndex(Ie=>Ie.id===Z.id);return se!==-1?[...ne.slice(0,se),{...ne[se],...Z},...ne.slice(se+1)]:[Z,...ne]})})})}),[]),X.useEffect(()=>{if(l!=="system"){U(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:Z})=>{U(Z?"dark":"light")})},[l]),X.useEffect(()=>{D.length<=1&&R(!1)},[D]),X.useEffect(()=>{let Z=ne=>{var se,Ie;r.every(Ye=>ne[Ye]||ne.code===Ye)&&(R(!0),(se=G.current)==null||se.focus()),ne.code==="Escape"&&(document.activeElement===G.current||(Ie=G.current)!=null&&Ie.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[r]),X.useEffect(()=>{if(G.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,z.current=!1)}},[G.current]),D.length?X.createElement("section",{"aria-label":`${E} ${$}`,tabIndex:-1},C.map((Z,ne)=>{var se;let[Ie,Ye]=Z.split("-");return X.createElement("ol",{key:Z,dir:w==="auto"?U1():w,tabIndex:-1,ref:G,className:o,"data-sonner-toaster":!0,"data-theme":q,"data-y-position":Ie,"data-x-position":Ye,style:{"--front-toast-height":`${((se=S[0])==null?void 0:se.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||wL,"--width":`${_L}px`,"--gap":`${y}px`,...p},onBlur:_e=>{z.current&&!_e.currentTarget.contains(_e.relatedTarget)&&(z.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:_e=>{_e.target instanceof HTMLElement&&_e.target.dataset.dismissible==="false"||z.current||(z.current=!0,O.current=_e.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{j||R(!1)},onPointerDown:_e=>{_e.target instanceof HTMLElement&&_e.target.dataset.dismissible==="false"||N(!0)},onPointerUp:()=>N(!1)},D.filter(_e=>!_e.position&&ne===0||_e.position===Z).map((_e,ft)=>{var an,wn;return X.createElement(CL,{key:_e.id,icons:x,index:ft,toast:_e,defaultRichColors:c,duration:(an=m==null?void 0:m.duration)!=null?an:h,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:e,visibleToasts:f,closeButton:(wn=m==null?void 0:m.closeButton)!=null?wn:i,interacting:j,position:Z,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:K,toasts:D.filter(Qt=>Qt.position==_e.position),heights:S.filter(Qt=>Qt.position==_e.position),setHeights:A,expandByDefault:s,gap:y,loadingIcon:_,expanded:k,pauseWhenPageIsHidden:T,cn:I})}))})):null};const IL=({...t})=>{const{theme:e="system"}=rL();return d.jsx(AL,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var PL=MS.useId||(()=>{}),RL=0;function jm(t){const[e,n]=v.useState(PL());return Vr(()=>{t||n(r=>r??String(RL++))},[t]),t||(e?`radix-${e}`:"")}const NL=["top","right","bottom","left"],mi=Math.min,Sn=Math.max,Yh=Math.round,kd=Math.floor,gi=t=>({x:t,y:t}),kL={left:"right",right:"left",bottom:"top",top:"bottom"},DL={start:"end",end:"start"};function gy(t,e,n){return Sn(t,mi(e,n))}function ls(t,e){return typeof t=="function"?t(e):t}function cs(t){return t.split("-")[0]}function al(t){return t.split("-")[1]}function A0(t){return t==="x"?"y":"x"}function I0(t){return t==="y"?"height":"width"}function yi(t){return["top","bottom"].includes(cs(t))?"y":"x"}function P0(t){return A0(yi(t))}function jL(t,e,n){n===void 0&&(n=!1);const r=al(t),s=P0(t),i=I0(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Xh(o)),[o,Xh(o)]}function ML(t){const e=Xh(t);return[yy(t),e,yy(e)]}function yy(t){return t.replace(/start|end/g,e=>DL[e])}function OL(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function VL(t,e,n,r){const s=al(t);let i=OL(cs(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(yy)))),i}function Xh(t){return t.replace(/left|right|bottom|top/g,e=>kL[e])}function LL(t){return{top:0,right:0,bottom:0,left:0,...t}}function AI(t){return typeof t!="number"?LL(t):{top:t,right:t,bottom:t,left:t}}function Jh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function B1(t,e,n){let{reference:r,floating:s}=t;const i=yi(e),o=P0(e),a=I0(o),l=cs(e),c=i==="y",h=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:h,y:r.y-s.height};break;case"bottom":m={x:h,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:p};break;case"left":m={x:r.x-s.width,y:p};break;default:m={x:r.x,y:r.y}}switch(al(e)){case"start":m[o]-=f*(n&&c?-1:1);break;case"end":m[o]+=f*(n&&c?-1:1);break}return m}const FL=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:p}=B1(c,r,l),f=r,m={},w=0;for(let y=0;y<a.length;y++){const{name:_,fn:x}=a[y],{x:E,y:T,data:I,reset:D}=await x({x:h,y:p,initialPlacement:r,placement:f,strategy:s,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});h=E??h,p=T??p,m={...m,[_]:{...m[_],...I}},D&&w<=50&&(w++,typeof D=="object"&&(D.placement&&(f=D.placement),D.rects&&(c=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:h,y:p}=B1(c,f,l)),y=-1)}return{x:h,y:p,placement:f,strategy:s,middlewareData:m}};async function Kc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:f=!1,padding:m=0}=ls(e,t),w=AI(m),_=a[f?p==="floating"?"reference":"floating":p],x=Jh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:h,strategy:l})),E=p==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),I=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},D=Jh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:T,strategy:l}):E);return{top:(x.top-D.top+w.top)/I.y,bottom:(D.bottom-x.bottom+w.bottom)/I.y,left:(x.left-D.left+w.left)/I.x,right:(D.right-x.right+w.right)/I.x}}const UL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:h=0}=ls(t,e)||{};if(c==null)return{};const p=AI(h),f={x:n,y:r},m=P0(s),w=I0(m),y=await o.getDimensions(c),_=m==="y",x=_?"top":"left",E=_?"bottom":"right",T=_?"clientHeight":"clientWidth",I=i.reference[w]+i.reference[m]-f[m]-i.floating[w],D=f[m]-i.reference[m],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=M?M[T]:0;(!C||!await(o.isElement==null?void 0:o.isElement(M)))&&(C=a.floating[T]||i.floating[w]);const S=I/2-D/2,A=C/2-y[w]/2-1,k=mi(p[x],A),R=mi(p[E],A),j=k,N=C-y[w]-R,q=C/2-y[w]/2+S,U=gy(j,q,N),G=!l.arrow&&al(s)!=null&&q!==U&&i.reference[w]/2-(q<j?k:R)-y[w]/2<0,$=G?q<j?q-j:q-N:0;return{[m]:f[m]+$,data:{[m]:U,centerOffset:q-U-$,...G&&{alignmentOffset:$}},reset:G}}}),BL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,..._}=ls(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=cs(s),E=yi(a),T=cs(a)===a,I=await(l.isRTL==null?void 0:l.isRTL(c.floating)),D=f||(T||!y?[Xh(a)]:ML(a)),M=w!=="none";!f&&M&&D.push(...VL(a,y,w,I));const C=[a,...D],S=await Kc(e,_),A=[];let k=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&A.push(S[x]),p){const q=jL(s,o,I);A.push(S[q[0]],S[q[1]])}if(k=[...k,{placement:s,overflows:A}],!A.every(q=>q<=0)){var R,j;const q=(((R=i.flip)==null?void 0:R.index)||0)+1,U=C[q];if(U)return{data:{index:q,overflows:k},reset:{placement:U}};let G=(j=k.filter($=>$.overflows[0]<=0).sort(($,O)=>$.overflows[1]-O.overflows[1])[0])==null?void 0:j.placement;if(!G)switch(m){case"bestFit":{var N;const $=(N=k.filter(O=>{if(M){const z=yi(O.placement);return z===E||z==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(z=>z>0).reduce((z,K)=>z+K,0)]).sort((O,z)=>O[1]-z[1])[0])==null?void 0:N[0];$&&(G=$);break}case"initialPlacement":G=a;break}if(s!==G)return{reset:{placement:G}}}return{}}}};function $1(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function z1(t){return NL.some(e=>t[e]>=0)}const $L=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ls(t,e);switch(r){case"referenceHidden":{const i=await Kc(e,{...s,elementContext:"reference"}),o=$1(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:z1(o)}}}case"escaped":{const i=await Kc(e,{...s,altBoundary:!0}),o=$1(i,n.floating);return{data:{escapedOffsets:o,escaped:z1(o)}}}default:return{}}}}};async function zL(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=cs(n),a=al(n),l=yi(n)==="y",c=["left","top"].includes(o)?-1:1,h=i&&l?-1:1,p=ls(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:w}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof w=="number"&&(m=a==="end"?w*-1:w),l?{x:m*h,y:f*c}:{x:f*c,y:m*h}}const WL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await zL(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},HL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x,y:E}=_;return{x,y:E}}},...l}=ls(t,e),c={x:n,y:r},h=await Kc(e,l),p=yi(cs(s)),f=A0(p);let m=c[f],w=c[p];if(i){const _=f==="y"?"top":"left",x=f==="y"?"bottom":"right",E=m+h[_],T=m-h[x];m=gy(E,m,T)}if(o){const _=p==="y"?"top":"left",x=p==="y"?"bottom":"right",E=w+h[_],T=w-h[x];w=gy(E,w,T)}const y=a.fn({...e,[f]:m,[p]:w});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[f]:i,[p]:o}}}}}},qL=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=ls(t,e),h={x:n,y:r},p=yi(s),f=A0(p);let m=h[f],w=h[p];const y=ls(a,e),_=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const T=f==="y"?"height":"width",I=i.reference[f]-i.floating[T]+_.mainAxis,D=i.reference[f]+i.reference[T]-_.mainAxis;m<I?m=I:m>D&&(m=D)}if(c){var x,E;const T=f==="y"?"width":"height",I=["top","left"].includes(cs(s)),D=i.reference[p]-i.floating[T]+(I&&((x=o.offset)==null?void 0:x[p])||0)+(I?0:_.crossAxis),M=i.reference[p]+i.reference[T]+(I?0:((E=o.offset)==null?void 0:E[p])||0)-(I?_.crossAxis:0);w<D?w=D:w>M&&(w=M)}return{[f]:m,[p]:w}}}},KL=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=ls(t,e),h=await Kc(e,c),p=cs(s),f=al(s),m=yi(s)==="y",{width:w,height:y}=i.floating;let _,x;p==="top"||p==="bottom"?(_=p,x=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=p,_=f==="end"?"top":"bottom");const E=y-h.top-h.bottom,T=w-h.left-h.right,I=mi(y-h[_],E),D=mi(w-h[x],T),M=!e.middlewareData.shift;let C=I,S=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=E),M&&!f){const k=Sn(h.left,0),R=Sn(h.right,0),j=Sn(h.top,0),N=Sn(h.bottom,0);m?S=w-2*(k!==0||R!==0?k+R:Sn(h.left,h.right)):C=y-2*(j!==0||N!==0?j+N:Sn(h.top,h.bottom))}await l({...e,availableWidth:S,availableHeight:C});const A=await o.getDimensions(a.floating);return w!==A.width||y!==A.height?{reset:{rects:!0}}:{}}}};function Xf(){return typeof window<"u"}function ll(t){return II(t)?(t.nodeName||"").toLowerCase():"#document"}function Rn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ur(t){var e;return(e=(II(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function II(t){return Xf()?t instanceof Node||t instanceof Rn(t).Node:!1}function ur(t){return Xf()?t instanceof Element||t instanceof Rn(t).Element:!1}function Lr(t){return Xf()?t instanceof HTMLElement||t instanceof Rn(t).HTMLElement:!1}function W1(t){return!Xf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Rn(t).ShadowRoot}function Au(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=dr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function GL(t){return["table","td","th"].includes(ll(t))}function Jf(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function R0(t){const e=N0(),n=ur(t)?dr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function QL(t){let e=vi(t);for(;Lr(e)&&!$a(e);){if(R0(e))return e;if(Jf(e))return null;e=vi(e)}return null}function N0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function $a(t){return["html","body","#document"].includes(ll(t))}function dr(t){return Rn(t).getComputedStyle(t)}function Zf(t){return ur(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function vi(t){if(ll(t)==="html")return t;const e=t.assignedSlot||t.parentNode||W1(t)&&t.host||Ur(t);return W1(e)?e.host:e}function PI(t){const e=vi(t);return $a(e)?t.ownerDocument?t.ownerDocument.body:t.body:Lr(e)&&Au(e)?e:PI(e)}function Gc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=PI(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Rn(s);if(i){const a=vy(o);return e.concat(o,o.visualViewport||[],Au(s)?s:[],a&&n?Gc(a):[])}return e.concat(s,Gc(s,[],n))}function vy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function RI(t){const e=dr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Lr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Yh(n)!==i||Yh(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function k0(t){return ur(t)?t:t.contextElement}function va(t){const e=k0(t);if(!Lr(e))return gi(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=RI(e);let o=(i?Yh(n.width):n.width)/r,a=(i?Yh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const YL=gi(0);function NI(t){const e=Rn(t);return!N0()||!e.visualViewport?YL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function XL(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Rn(t)?!1:e}function yo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=k0(t);let o=gi(1);e&&(r?ur(r)&&(o=va(r)):o=va(t));const a=XL(i,n,r)?NI(i):gi(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,h=s.width/o.x,p=s.height/o.y;if(i){const f=Rn(i),m=r&&ur(r)?Rn(r):r;let w=f,y=vy(w);for(;y&&r&&m!==w;){const _=va(y),x=y.getBoundingClientRect(),E=dr(y),T=x.left+(y.clientLeft+parseFloat(E.paddingLeft))*_.x,I=x.top+(y.clientTop+parseFloat(E.paddingTop))*_.y;l*=_.x,c*=_.y,h*=_.x,p*=_.y,l+=T,c+=I,w=Rn(y),y=vy(w)}}return Jh({width:h,height:p,x:l,y:c})}function JL(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Ur(r),a=e?Jf(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=gi(1);const h=gi(0),p=Lr(r);if((p||!p&&!i)&&((ll(r)!=="body"||Au(o))&&(l=Zf(r)),Lr(r))){const f=yo(r);c=va(r),h.x=f.x+r.clientLeft,h.y=f.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+h.x,y:n.y*c.y-l.scrollTop*c.y+h.y}}function ZL(t){return Array.from(t.getClientRects())}function wy(t,e){const n=Zf(t).scrollLeft;return e?e.left+n:yo(Ur(t)).left+n}function e5(t){const e=Ur(t),n=Zf(t),r=t.ownerDocument.body,s=Sn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Sn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+wy(t);const a=-n.scrollTop;return dr(r).direction==="rtl"&&(o+=Sn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function t5(t,e){const n=Rn(t),r=Ur(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=N0();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function n5(t,e){const n=yo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Lr(t)?va(t):gi(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function H1(t,e,n){let r;if(e==="viewport")r=t5(t,n);else if(e==="document")r=e5(Ur(t));else if(ur(e))r=n5(e,n);else{const s=NI(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return Jh(r)}function kI(t,e){const n=vi(t);return n===e||!ur(n)||$a(n)?!1:dr(n).position==="fixed"||kI(n,e)}function r5(t,e){const n=e.get(t);if(n)return n;let r=Gc(t,[],!1).filter(a=>ur(a)&&ll(a)!=="body"),s=null;const i=dr(t).position==="fixed";let o=i?vi(t):t;for(;ur(o)&&!$a(o);){const a=dr(o),l=R0(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Au(o)&&!l&&kI(t,o))?r=r.filter(h=>h!==o):s=a,o=vi(o)}return e.set(t,r),r}function s5(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Jf(e)?[]:r5(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,h)=>{const p=H1(e,h,s);return c.top=Sn(p.top,c.top),c.right=mi(p.right,c.right),c.bottom=mi(p.bottom,c.bottom),c.left=Sn(p.left,c.left),c},H1(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function i5(t){const{width:e,height:n}=RI(t);return{width:e,height:n}}function o5(t,e,n){const r=Lr(e),s=Ur(e),i=n==="fixed",o=yo(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=gi(0);if(r||!r&&!i)if((ll(e)!=="body"||Au(s))&&(a=Zf(e)),r){const m=yo(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&(l.x=wy(s));let c=0,h=0;if(s&&!r&&!i){const m=s.getBoundingClientRect();h=m.top+a.scrollTop,c=m.left+a.scrollLeft-wy(s,m)}const p=o.left+a.scrollLeft-l.x-c,f=o.top+a.scrollTop-l.y-h;return{x:p,y:f,width:o.width,height:o.height}}function Mm(t){return dr(t).position==="static"}function q1(t,e){if(!Lr(t)||dr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ur(t)===n&&(n=n.ownerDocument.body),n}function DI(t,e){const n=Rn(t);if(Jf(t))return n;if(!Lr(t)){let s=vi(t);for(;s&&!$a(s);){if(ur(s)&&!Mm(s))return s;s=vi(s)}return n}let r=q1(t,e);for(;r&&GL(r)&&Mm(r);)r=q1(r,e);return r&&$a(r)&&Mm(r)&&!R0(r)?n:r||QL(t)||n}const a5=async function(t){const e=this.getOffsetParent||DI,n=this.getDimensions,r=await n(t.floating);return{reference:o5(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function l5(t){return dr(t).direction==="rtl"}const c5={convertOffsetParentRelativeRectToViewportRelativeRect:JL,getDocumentElement:Ur,getClippingRect:s5,getOffsetParent:DI,getElementRects:a5,getClientRects:ZL,getDimensions:i5,getScale:va,isElement:ur,isRTL:l5};function u5(t,e){let n=null,r;const s=Ur(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:h,width:p,height:f}=t.getBoundingClientRect();if(a||e(),!p||!f)return;const m=kd(h),w=kd(s.clientWidth-(c+p)),y=kd(s.clientHeight-(h+f)),_=kd(c),E={rootMargin:-m+"px "+-w+"px "+-y+"px "+-_+"px",threshold:Sn(0,mi(1,l))||1};let T=!0;function I(D){const M=D[0].intersectionRatio;if(M!==l){if(!T)return o();M?o(!1,M):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T=!1}try{n=new IntersectionObserver(I,{...E,root:s.ownerDocument})}catch{n=new IntersectionObserver(I,E)}n.observe(t)}return o(!0),i}function d5(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=k0(t),h=s||i?[...c?Gc(c):[],...Gc(e)]:[];h.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const p=c&&a?u5(c,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(x=>{let[E]=x;E&&E.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var T;(T=m)==null||T.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let w,y=l?yo(t):null;l&&_();function _(){const x=yo(t);y&&(x.x!==y.x||x.y!==y.y||x.width!==y.width||x.height!==y.height)&&n(),y=x,w=requestAnimationFrame(_)}return n(),()=>{var x;h.forEach(E=>{s&&E.removeEventListener("scroll",n),i&&E.removeEventListener("resize",n)}),p==null||p(),(x=m)==null||x.disconnect(),m=null,l&&cancelAnimationFrame(w)}}const h5=WL,f5=HL,p5=BL,m5=KL,g5=$L,K1=UL,y5=qL,v5=(t,e,n)=>{const r=new Map,s={platform:c5,...n},i={...s.platform,_c:r};return FL(t,e,{...s,platform:i})};var lh=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Zh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Zh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Zh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function jI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function G1(t,e){const n=jI(t);return Math.round(e*n)/n}function Om(t){const e=v.useRef(t);return lh(()=>{e.current=t}),e}function w5(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[h,p]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=v.useState(r);Zh(f,r)||m(r);const[w,y]=v.useState(null),[_,x]=v.useState(null),E=v.useCallback(O=>{O!==M.current&&(M.current=O,y(O))},[]),T=v.useCallback(O=>{O!==C.current&&(C.current=O,x(O))},[]),I=i||w,D=o||_,M=v.useRef(null),C=v.useRef(null),S=v.useRef(h),A=l!=null,k=Om(l),R=Om(s),j=Om(c),N=v.useCallback(()=>{if(!M.current||!C.current)return;const O={placement:e,strategy:n,middleware:f};R.current&&(O.platform=R.current),v5(M.current,C.current,O).then(z=>{const K={...z,isPositioned:j.current!==!1};q.current&&!Zh(S.current,K)&&(S.current=K,Cu.flushSync(()=>{p(K)}))})},[f,e,n,R,j]);lh(()=>{c===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,p(O=>({...O,isPositioned:!1})))},[c]);const q=v.useRef(!1);lh(()=>(q.current=!0,()=>{q.current=!1}),[]),lh(()=>{if(I&&(M.current=I),D&&(C.current=D),I&&D){if(k.current)return k.current(I,D,N);N()}},[I,D,N,k,A]);const U=v.useMemo(()=>({reference:M,floating:C,setReference:E,setFloating:T}),[E,T]),G=v.useMemo(()=>({reference:I,floating:D}),[I,D]),$=v.useMemo(()=>{const O={position:n,left:0,top:0};if(!G.floating)return O;const z=G1(G.floating,h.x),K=G1(G.floating,h.y);return a?{...O,transform:"translate("+z+"px, "+K+"px)",...jI(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:K}},[n,a,G.floating,h.x,h.y]);return v.useMemo(()=>({...h,update:N,refs:U,elements:G,floatingStyles:$}),[h,N,U,G,$])}const x5=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?K1({element:r.current,padding:s}).fn(n):{}:r?K1({element:r,padding:s}).fn(n):{}}}},_5=(t,e)=>({...h5(t),options:[t,e]}),E5=(t,e)=>({...f5(t),options:[t,e]}),b5=(t,e)=>({...y5(t),options:[t,e]}),T5=(t,e)=>({...p5(t),options:[t,e]}),S5=(t,e)=>({...m5(t),options:[t,e]}),C5=(t,e)=>({...g5(t),options:[t,e]}),A5=(t,e)=>({...x5(t),options:[t,e]});var I5="Arrow",MI=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return d.jsx(Fe.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});MI.displayName=I5;var P5=MI;function R5(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];function c(p){const{scope:f,children:m,...w}=p,y=(f==null?void 0:f[t][l])||a,_=v.useMemo(()=>w,Object.values(w));return d.jsx(y.Provider,{value:_,children:m})}function h(p,f){const m=(f==null?void 0:f[t][l])||a,w=v.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,h]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,N5(s,...e)]}function N5(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const p=l(i)[`__scope${c}`];return{...a,...p}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function OI(t){const[e,n]=v.useState(void 0);return Vr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var VI="Popper",[LI,FI]=R5(VI),[UQ,UI]=LI(VI),BI="PopperAnchor",$I=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=UI(BI,n),o=v.useRef(null),a=lt(e,o);return v.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:d.jsx(Fe.div,{...s,ref:a})});$I.displayName=BI;var D0="PopperContent",[k5,D5]=LI(D0),zI=v.forwardRef((t,e)=>{var ft,an,wn,Qt,Yn,xn;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:w,...y}=t,_=UI(D0,n),[x,E]=v.useState(null),T=lt(e,Yt=>E(Yt)),[I,D]=v.useState(null),M=OI(I),C=(M==null?void 0:M.width)??0,S=(M==null?void 0:M.height)??0,A=r+(i!=="center"?"-"+i:""),k=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},R=Array.isArray(c)?c:[c],j=R.length>0,N={padding:k,boundary:R.filter(M5),altBoundary:j},{refs:q,floatingStyles:U,placement:G,isPositioned:$,middlewareData:O}=w5({strategy:"fixed",placement:A,whileElementsMounted:(...Yt)=>d5(...Yt,{animationFrame:m==="always"}),elements:{reference:_.anchor},middleware:[_5({mainAxis:s+S,alignmentAxis:o}),l&&E5({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?b5():void 0,...N}),l&&T5({...N}),S5({...N,apply:({elements:Yt,rects:Xn,availableWidth:mr,availableHeight:ln})=>{const{width:Li,height:Fi}=Xn.reference,Ke=Yt.floating.style;Ke.setProperty("--radix-popper-available-width",`${mr}px`),Ke.setProperty("--radix-popper-available-height",`${ln}px`),Ke.setProperty("--radix-popper-anchor-width",`${Li}px`),Ke.setProperty("--radix-popper-anchor-height",`${Fi}px`)}}),I&&A5({element:I,padding:a}),O5({arrowWidth:C,arrowHeight:S}),f&&C5({strategy:"referenceHidden",...N})]}),[z,K]=qI(G),Z=kn(w);Vr(()=>{$&&(Z==null||Z())},[$,Z]);const ne=(ft=O.arrow)==null?void 0:ft.x,se=(an=O.arrow)==null?void 0:an.y,Ie=((wn=O.arrow)==null?void 0:wn.centerOffset)!==0,[Ye,_e]=v.useState();return Vr(()=>{x&&_e(window.getComputedStyle(x).zIndex)},[x]),d.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:$?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ye,"--radix-popper-transform-origin":[(Qt=O.transformOrigin)==null?void 0:Qt.x,(Yn=O.transformOrigin)==null?void 0:Yn.y].join(" "),...((xn=O.hide)==null?void 0:xn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(k5,{scope:n,placedSide:z,onArrowChange:D,arrowX:ne,arrowY:se,shouldHideArrow:Ie,children:d.jsx(Fe.div,{"data-side":z,"data-align":K,...y,ref:T,style:{...y.style,animation:$?void 0:"none"}})})})});zI.displayName=D0;var WI="PopperArrow",j5={top:"bottom",right:"left",bottom:"top",left:"right"},HI=v.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=D5(WI,r),o=j5[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(P5,{...s,ref:n,style:{...s.style,display:"block"}})})});HI.displayName=WI;function M5(t){return t!==null}var O5=t=>({name:"transformOrigin",options:t,fn(e){var _,x,E;const{placement:n,rects:r,middlewareData:s}=e,o=((_=s.arrow)==null?void 0:_.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,h]=qI(n),p={start:"0%",center:"50%",end:"100%"}[h],f=(((x=s.arrow)==null?void 0:x.x)??0)+a/2,m=(((E=s.arrow)==null?void 0:E.y)??0)+l/2;let w="",y="";return c==="bottom"?(w=o?p:`${f}px`,y=`${-l}px`):c==="top"?(w=o?p:`${f}px`,y=`${r.floating.height+l}px`):c==="right"?(w=`${-l}px`,y=o?p:`${m}px`):c==="left"&&(w=`${r.floating.width+l}px`,y=o?p:`${m}px`),{data:{x:w,y}}}});function qI(t){const[e,n="center"]=t.split("-");return[e,n]}var V5=$I,L5=zI,F5=HI,[ep,BQ]=sl("Tooltip",[FI]),j0=FI(),KI="TooltipProvider",U5=700,Q1="tooltip.open",[B5,GI]=ep(KI),QI=t=>{const{__scopeTooltip:e,delayDuration:n=U5,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=v.useState(!0),l=v.useRef(!1),c=v.useRef(0);return v.useEffect(()=>{const h=c.current;return()=>window.clearTimeout(h)},[]),d.jsx(B5,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:v.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:v.useCallback(h=>{l.current=h},[]),disableHoverableContent:s,children:i})};QI.displayName=KI;var YI="Tooltip",[$Q,tp]=ep(YI),xy="TooltipTrigger",$5=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=tp(xy,n),i=GI(xy,n),o=j0(n),a=v.useRef(null),l=lt(e,a,s.onTriggerChange),c=v.useRef(!1),h=v.useRef(!1),p=v.useCallback(()=>c.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),d.jsx(V5,{asChild:!0,...o,children:d.jsx(Fe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:Re(t.onPointerMove,f=>{f.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:Re(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:Re(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Re(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:Re(t.onBlur,s.onClose),onClick:Re(t.onClick,s.onClose)})})});$5.displayName=xy;var z5="TooltipPortal",[zQ,W5]=ep(z5,{forceMount:void 0}),za="TooltipContent",XI=v.forwardRef((t,e)=>{const n=W5(za,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=tp(za,t.__scopeTooltip);return d.jsx(il,{present:r||o.open,children:o.disableHoverableContent?d.jsx(JI,{side:s,...i,ref:e}):d.jsx(H5,{side:s,...i,ref:e})})}),H5=v.forwardRef((t,e)=>{const n=tp(za,t.__scopeTooltip),r=GI(za,t.__scopeTooltip),s=v.useRef(null),i=lt(e,s),[o,a]=v.useState(null),{trigger:l,onClose:c}=n,h=s.current,{onPointerInTransitChange:p}=r,f=v.useCallback(()=>{a(null),p(!1)},[p]),m=v.useCallback((w,y)=>{const _=w.currentTarget,x={x:w.clientX,y:w.clientY},E=Q5(x,_.getBoundingClientRect()),T=Y5(x,E),I=X5(y.getBoundingClientRect()),D=Z5([...T,...I]);a(D),p(!0)},[p]);return v.useEffect(()=>()=>f(),[f]),v.useEffect(()=>{if(l&&h){const w=_=>m(_,h),y=_=>m(_,l);return l.addEventListener("pointerleave",w),h.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",w),h.removeEventListener("pointerleave",y)}}},[l,h,m,f]),v.useEffect(()=>{if(o){const w=y=>{const _=y.target,x={x:y.clientX,y:y.clientY},E=(l==null?void 0:l.contains(_))||(h==null?void 0:h.contains(_)),T=!J5(x,o);E?f():T&&(f(),c())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,h,o,c,f]),d.jsx(JI,{...t,ref:i})}),[q5,K5]=ep(YI,{isInside:!1}),JI=v.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=tp(za,n),c=j0(n),{onClose:h}=l;return v.useEffect(()=>(document.addEventListener(Q1,h),()=>document.removeEventListener(Q1,h)),[h]),v.useEffect(()=>{if(l.trigger){const p=f=>{const m=f.target;m!=null&&m.contains(l.trigger)&&h()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[l.trigger,h]),d.jsx(Kf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:h,children:d.jsxs(L5,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(w0,{children:r}),d.jsx(q5,{scope:n,isInside:!0,children:d.jsx(PV,{id:l.contentId,role:"tooltip",children:s||r})})]})})});XI.displayName=za;var ZI="TooltipArrow",G5=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=j0(n);return K5(ZI,n).isInside?null:d.jsx(F5,{...s,...r,ref:e})});G5.displayName=ZI;function Q5(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Y5(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function X5(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function J5(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,h=e[o].y;l>r!=h>r&&n<(c-a)*(r-l)/(h-l)+a&&(s=!s)}return s}function Z5(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),e3(e)}function e3(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var t3=QI,eP=XI;const n3=t3,r3=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx(eP,{ref:r,sideOffset:e,className:we("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));r3.displayName=eP.displayName;var np=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},rp=typeof window>"u"||"Deno"in globalThis;function nr(){}function s3(t,e){return typeof t=="function"?t(e):t}function i3(t){return typeof t=="number"&&t>=0&&t!==1/0}function o3(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Y1(t,e){return typeof t=="function"?t(e):t}function a3(t,e){return typeof t=="function"?t(e):t}function X1(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==M0(o,e.options))return!1}else if(!Yc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function J1(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Qc(e.options.mutationKey)!==Qc(i))return!1}else if(!Yc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function M0(t,e){return((e==null?void 0:e.queryKeyHashFn)||Qc)(t)}function Qc(t){return JSON.stringify(t,(e,n)=>_y(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Yc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Yc(t[n],e[n])):!1}function tP(t,e){if(t===e)return t;const n=Z1(t)&&Z1(e);if(n||_y(t)&&_y(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const h=n?c:i[c];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,l++):(a[h]=tP(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function Z1(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function _y(t){if(!eE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!eE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function eE(t){return Object.prototype.toString.call(t)==="[object Object]"}function l3(t){return new Promise(e=>{setTimeout(e,t)})}function c3(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?tP(t,e):e}function u3(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function d3(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var O0=Symbol();function nP(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===O0?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var to,$s,Sa,gS,h3=(gS=class extends np{constructor(){super();Ne(this,to);Ne(this,$s);Ne(this,Sa);ge(this,Sa,e=>{if(!rp&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){H(this,$s)||this.setEventListener(H(this,Sa))}onUnsubscribe(){var e;this.hasListeners()||((e=H(this,$s))==null||e.call(this),ge(this,$s,void 0))}setEventListener(e){var n;ge(this,Sa,e),(n=H(this,$s))==null||n.call(this),ge(this,$s,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){H(this,to)!==e&&(ge(this,to,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof H(this,to)=="boolean"?H(this,to):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},to=new WeakMap,$s=new WeakMap,Sa=new WeakMap,gS),rP=new h3,Ca,zs,Aa,yS,f3=(yS=class extends np{constructor(){super();Ne(this,Ca,!0);Ne(this,zs);Ne(this,Aa);ge(this,Aa,e=>{if(!rp&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){H(this,zs)||this.setEventListener(H(this,Aa))}onUnsubscribe(){var e;this.hasListeners()||((e=H(this,zs))==null||e.call(this),ge(this,zs,void 0))}setEventListener(e){var n;ge(this,Aa,e),(n=H(this,zs))==null||n.call(this),ge(this,zs,e(this.setOnline.bind(this)))}setOnline(e){H(this,Ca)!==e&&(ge(this,Ca,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return H(this,Ca)}},Ca=new WeakMap,zs=new WeakMap,Aa=new WeakMap,yS),ef=new f3;function p3(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function m3(t){return Math.min(1e3*2**t,3e4)}function sP(t){return(t??"online")==="online"?ef.isOnline():!0}var iP=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Vm(t){return t instanceof iP}function oP(t){let e=!1,n=0,r=!1,s;const i=p3(),o=y=>{var _;r||(f(new iP(y)),(_=t.abort)==null||_.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>rP.isFocused()&&(t.networkMode==="always"||ef.isOnline())&&t.canRun(),h=()=>sP(t.networkMode)&&t.canRun(),p=y=>{var _;r||(r=!0,(_=t.onSuccess)==null||_.call(t,y),s==null||s(),i.resolve(y))},f=y=>{var _;r||(r=!0,(_=t.onError)==null||_.call(t,y),s==null||s(),i.reject(y))},m=()=>new Promise(y=>{var _;s=x=>{(r||c())&&y(x)},(_=t.onPause)==null||_.call(t)}).then(()=>{var y;s=void 0,r||(y=t.onContinue)==null||y.call(t)}),w=()=>{if(r)return;let y;const _=n===0?t.initialPromise:void 0;try{y=_??t.fn()}catch(x){y=Promise.reject(x)}Promise.resolve(y).then(p).catch(x=>{var M;if(r)return;const E=t.retry??(rp?0:3),T=t.retryDelay??m3,I=typeof T=="function"?T(n,x):T,D=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,x);if(e||!D){f(x);return}n++,(M=t.onFail)==null||M.call(t,n,x),l3(I).then(()=>c()?void 0:m()).then(()=>{e?f(x):w()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:h,start:()=>(h()?w():m().then(w),i)}}function g3(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var tn=g3(),no,vS,aP=(vS=class{constructor(){Ne(this,no)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),i3(this.gcTime)&&ge(this,no,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(rp?1/0:5*60*1e3))}clearGcTimeout(){H(this,no)&&(clearTimeout(H(this,no)),ge(this,no,void 0))}},no=new WeakMap,vS),Ia,Pa,Ln,$t,wu,ro,rr,Hr,wS,y3=(wS=class extends aP{constructor(n){super();Ne(this,rr);Ne(this,Ia);Ne(this,Pa);Ne(this,Ln);Ne(this,$t);Ne(this,wu);Ne(this,ro);ge(this,ro,!1),ge(this,wu,n.defaultOptions),this.setOptions(n.options),this.observers=[],ge(this,Ln,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ge(this,Ia,w3(this.options)),this.state=n.state??H(this,Ia),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=H(this,$t))==null?void 0:n.promise}setOptions(n){this.options={...H(this,wu),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&H(this,Ln).remove(this)}setData(n,r){const s=c3(this.state.data,n,this.options);return Lt(this,rr,Hr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Lt(this,rr,Hr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=H(this,$t))==null?void 0:s.promise;return(i=H(this,$t))==null||i.cancel(n),r?r.then(nr).catch(nr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(H(this,Ia))}isActive(){return this.observers.some(n=>a3(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===O0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!o3(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=H(this,$t))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=H(this,$t))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),H(this,Ln).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(H(this,$t)&&(H(this,ro)?H(this,$t).cancel({revert:!0}):H(this,$t).cancelRetry()),this.scheduleGc()),H(this,Ln).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Lt(this,rr,Hr).call(this,{type:"invalidate"})}fetch(n,r){var c,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(H(this,$t))return H(this,$t).continueRetry(),H(this,$t).promise}if(n&&this.setOptions(n),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ge(this,ro,!0),s.signal)})},o=()=>{const f=nP(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return i(m),ge(this,ro,!1),this.options.persister?this.options.persister(f,m,this):f(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(c=this.options.behavior)==null||c.onFetch(a,this),ge(this,Pa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&Lt(this,rr,Hr).call(this,{type:"fetch",meta:(p=a.fetchOptions)==null?void 0:p.meta});const l=f=>{var m,w,y,_;Vm(f)&&f.silent||Lt(this,rr,Hr).call(this,{type:"error",error:f}),Vm(f)||((w=(m=H(this,Ln).config).onError)==null||w.call(m,f,this),(_=(y=H(this,Ln).config).onSettled)==null||_.call(y,this.state.data,f,this)),this.scheduleGc()};return ge(this,$t,oP({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:f=>{var m,w,y,_;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){l(x);return}(w=(m=H(this,Ln).config).onSuccess)==null||w.call(m,f,this),(_=(y=H(this,Ln).config).onSettled)==null||_.call(y,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,m)=>{Lt(this,rr,Hr).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{Lt(this,rr,Hr).call(this,{type:"pause"})},onContinue:()=>{Lt(this,rr,Hr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),H(this,$t).start()}},Ia=new WeakMap,Pa=new WeakMap,Ln=new WeakMap,$t=new WeakMap,wu=new WeakMap,ro=new WeakMap,rr=new WeakSet,Hr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...v3(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Vm(i)&&i.revert&&H(this,Pa)?{...H(this,Pa),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),tn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),H(this,Ln).notify({query:this,type:"updated",action:n})})},wS);function v3(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:sP(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function w3(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var xr,xS,x3=(xS=class extends np{constructor(e={}){super();Ne(this,xr);this.config=e,ge(this,xr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??M0(s,n);let o=this.get(i);return o||(o=new y3({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){H(this,xr).has(e.queryHash)||(H(this,xr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=H(this,xr).get(e.queryHash);n&&(e.destroy(),n===e&&H(this,xr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){tn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return H(this,xr).get(e)}getAll(){return[...H(this,xr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>X1(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>X1(e,r)):n}notify(e){tn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){tn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){tn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},xr=new WeakMap,xS),_r,Jt,so,Er,Ns,_S,_3=(_S=class extends aP{constructor(n){super();Ne(this,Er);Ne(this,_r);Ne(this,Jt);Ne(this,so);this.mutationId=n.mutationId,ge(this,Jt,n.mutationCache),ge(this,_r,[]),this.state=n.state||E3(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){H(this,_r).includes(n)||(H(this,_r).push(n),this.clearGcTimeout(),H(this,Jt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ge(this,_r,H(this,_r).filter(r=>r!==n)),this.scheduleGc(),H(this,Jt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){H(this,_r).length||(this.state.status==="pending"?this.scheduleGc():H(this,Jt).remove(this))}continue(){var n;return((n=H(this,so))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,l,c,h,p,f,m,w,y,_,x,E,T,I,D,M,C,S;ge(this,so,oP({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(A,k)=>{Lt(this,Er,Ns).call(this,{type:"failed",failureCount:A,error:k})},onPause:()=>{Lt(this,Er,Ns).call(this,{type:"pause"})},onContinue:()=>{Lt(this,Er,Ns).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>H(this,Jt).canRun(this)}));const r=this.state.status==="pending",s=!H(this,so).canStart();try{if(!r){Lt(this,Er,Ns).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=H(this,Jt).config).onMutate)==null?void 0:o.call(i,n,this));const k=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));k!==this.state.context&&Lt(this,Er,Ns).call(this,{type:"pending",context:k,variables:n,isPaused:s})}const A=await H(this,so).start();return await((h=(c=H(this,Jt).config).onSuccess)==null?void 0:h.call(c,A,n,this.state.context,this)),await((f=(p=this.options).onSuccess)==null?void 0:f.call(p,A,n,this.state.context)),await((w=(m=H(this,Jt).config).onSettled)==null?void 0:w.call(m,A,null,this.state.variables,this.state.context,this)),await((_=(y=this.options).onSettled)==null?void 0:_.call(y,A,null,n,this.state.context)),Lt(this,Er,Ns).call(this,{type:"success",data:A}),A}catch(A){try{throw await((E=(x=H(this,Jt).config).onError)==null?void 0:E.call(x,A,n,this.state.context,this)),await((I=(T=this.options).onError)==null?void 0:I.call(T,A,n,this.state.context)),await((M=(D=H(this,Jt).config).onSettled)==null?void 0:M.call(D,void 0,A,this.state.variables,this.state.context,this)),await((S=(C=this.options).onSettled)==null?void 0:S.call(C,void 0,A,n,this.state.context)),A}finally{Lt(this,Er,Ns).call(this,{type:"error",error:A})}}finally{H(this,Jt).runNext(this)}}},_r=new WeakMap,Jt=new WeakMap,so=new WeakMap,Er=new WeakSet,Ns=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),tn.batch(()=>{H(this,_r).forEach(s=>{s.onMutationUpdate(n)}),H(this,Jt).notify({mutation:this,type:"updated",action:n})})},_S);function E3(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var En,xu,ES,b3=(ES=class extends np{constructor(e={}){super();Ne(this,En);Ne(this,xu);this.config=e,ge(this,En,new Map),ge(this,xu,Date.now())}build(e,n,r){const s=new _3({mutationCache:this,mutationId:++ud(this,xu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Dd(e),r=H(this,En).get(n)??[];r.push(e),H(this,En).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Dd(e);if(H(this,En).has(n)){const s=(r=H(this,En).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?H(this,En).delete(n):H(this,En).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=H(this,En).get(Dd(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=H(this,En).get(Dd(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){tn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...H(this,En).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>J1(n,r))}findAll(e={}){return this.getAll().filter(n=>J1(e,n))}notify(e){tn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return tn.batch(()=>Promise.all(e.map(n=>n.continue().catch(nr))))}},En=new WeakMap,xu=new WeakMap,ES);function Dd(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function tE(t){return{onFetch:(e,n)=>{var h,p,f,m,w;const r=e.options,s=(f=(p=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:p.fetchMore)==null?void 0:f.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((w=e.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const _=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},x=nP(e.options,e.fetchOptions),E=async(T,I,D)=>{if(y)return Promise.reject();if(I==null&&T.pages.length)return Promise.resolve(T);const M={queryKey:e.queryKey,pageParam:I,direction:D?"backward":"forward",meta:e.options.meta};_(M);const C=await x(M),{maxPages:S}=e.options,A=D?d3:u3;return{pages:A(T.pages,C,S),pageParams:A(T.pageParams,I,S)}};if(s&&i.length){const T=s==="backward",I=T?T3:nE,D={pages:i,pageParams:o},M=I(r,D);a=await E(D,M,T)}else{const T=t??i.length;do{const I=l===0?o[0]??r.initialPageParam:nE(r,a);if(l>0&&I==null)break;a=await E(a,I),l++}while(l<T)}return a};e.options.persister?e.fetchFn=()=>{var y,_;return(_=(y=e.options).persister)==null?void 0:_.call(y,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function nE(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function T3(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var st,Ws,Hs,Ra,Na,qs,ka,Da,bS,S3=(bS=class{constructor(t={}){Ne(this,st);Ne(this,Ws);Ne(this,Hs);Ne(this,Ra);Ne(this,Na);Ne(this,qs);Ne(this,ka);Ne(this,Da);ge(this,st,t.queryCache||new x3),ge(this,Ws,t.mutationCache||new b3),ge(this,Hs,t.defaultOptions||{}),ge(this,Ra,new Map),ge(this,Na,new Map),ge(this,qs,0)}mount(){ud(this,qs)._++,H(this,qs)===1&&(ge(this,ka,rP.subscribe(async t=>{t&&(await this.resumePausedMutations(),H(this,st).onFocus())})),ge(this,Da,ef.subscribe(async t=>{t&&(await this.resumePausedMutations(),H(this,st).onOnline())})))}unmount(){var t,e;ud(this,qs)._--,H(this,qs)===0&&((t=H(this,ka))==null||t.call(this),ge(this,ka,void 0),(e=H(this,Da))==null||e.call(this),ge(this,Da,void 0))}isFetching(t){return H(this,st).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return H(this,Ws).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=H(this,st).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=H(this,st).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Y1(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return H(this,st).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=H(this,st).get(r.queryHash),i=s==null?void 0:s.state.data,o=s3(e,i);if(o!==void 0)return H(this,st).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return tn.batch(()=>H(this,st).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=H(this,st).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=H(this,st);tn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=H(this,st),r={type:"active",...t};return tn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=tn.batch(()=>H(this,st).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(nr).catch(nr)}invalidateQueries(t={},e={}){return tn.batch(()=>{if(H(this,st).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=tn.batch(()=>H(this,st).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(nr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(nr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=H(this,st).build(this,e);return n.isStaleByTime(Y1(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(nr).catch(nr)}fetchInfiniteQuery(t){return t.behavior=tE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(nr).catch(nr)}ensureInfiniteQueryData(t){return t.behavior=tE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ef.isOnline()?H(this,Ws).resumePausedMutations():Promise.resolve()}getQueryCache(){return H(this,st)}getMutationCache(){return H(this,Ws)}getDefaultOptions(){return H(this,Hs)}setDefaultOptions(t){ge(this,Hs,t)}setQueryDefaults(t,e){H(this,Ra).set(Qc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...H(this,Ra).values()];let n={};return e.forEach(r=>{Yc(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){H(this,Na).set(Qc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...H(this,Na).values()];let n={};return e.forEach(r=>{Yc(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...H(this,Hs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=M0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===O0&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...H(this,Hs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){H(this,st).clear(),H(this,Ws).clear()}},st=new WeakMap,Ws=new WeakMap,Hs=new WeakMap,Ra=new WeakMap,Na=new WeakMap,qs=new WeakMap,ka=new WeakMap,Da=new WeakMap,bS),C3=v.createContext(void 0),A3=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(C3.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xc(){return Xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xc.apply(this,arguments)}var Qs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qs||(Qs={}));const rE="popstate";function I3(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Ey("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:tf(s)}return R3(e,n,null,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lP(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function P3(){return Math.random().toString(36).substr(2,8)}function sE(t,e){return{usr:t.state,key:t.key,idx:e}}function Ey(t,e,n,r){return n===void 0&&(n=null),Xc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?cl(e):e,{state:n,key:e&&e.key||r||P3()})}function tf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function cl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function R3(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Qs.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(Xc({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function p(){a=Qs.Pop;let _=h(),x=_==null?null:_-c;c=_,l&&l({action:a,location:y.location,delta:x})}function f(_,x){a=Qs.Push;let E=Ey(y.location,_,x);c=h()+1;let T=sE(E,c),I=y.createHref(E);try{o.pushState(T,"",I)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(I)}i&&l&&l({action:a,location:y.location,delta:1})}function m(_,x){a=Qs.Replace;let E=Ey(y.location,_,x);c=h();let T=sE(E,c),I=y.createHref(E);o.replaceState(T,"",I),i&&l&&l({action:a,location:y.location,delta:0})}function w(_){let x=s.location.origin!=="null"?s.location.origin:s.location.href,E=typeof _=="string"?_:tf(_);return E=E.replace(/ $/,"%20"),ht(x,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,x)}let y={get action(){return a},get location(){return t(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(rE,p),l=_,()=>{s.removeEventListener(rE,p),l=null}},createHref(_){return e(s,_)},createURL:w,encodeLocation(_){let x=w(_);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:m,go(_){return o.go(_)}};return y}var iE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(iE||(iE={}));function N3(t,e,n){return n===void 0&&(n="/"),k3(t,e,n,!1)}function k3(t,e,n,r){let s=typeof e=="string"?cl(e):e,i=V0(s.pathname||"/",n);if(i==null)return null;let o=cP(t);D3(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=W3(i);a=$3(o[l],c,r)}return a}function cP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ht(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=oi([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(ht(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),cP(i.children,e,h,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:U3(c,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of uP(i.path))s(i,o,l)}),e}function uP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=uP(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function D3(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:B3(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const j3=/^:[\w-]+$/,M3=3,O3=2,V3=1,L3=10,F3=-2,oE=t=>t==="*";function U3(t,e){let n=t.split("/"),r=n.length;return n.some(oE)&&(r+=F3),e&&(r+=O3),n.filter(s=>!oE(s)).reduce((s,i)=>s+(j3.test(i)?M3:i===""?V3:L3),r)}function B3(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function $3(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",p=aE({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),f=l.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=aE({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:oi([i,p.pathname]),pathnameBase:G3(oi([i,p.pathnameBase])),route:f}),p.pathnameBase!=="/"&&(i=oi([i,p.pathnameBase]))}return o}function aE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=z3(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,h,p)=>{let{paramName:f,isOptional:m}=h;if(f==="*"){let y=a[p]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const w=a[p];return m&&!w?c[f]=void 0:c[f]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function z3(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),lP(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function W3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lP(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function V0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function H3(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?cl(t):t;return{pathname:n?n.startsWith("/")?n:q3(n,e):e,search:Q3(r),hash:Y3(s)}}function q3(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Lm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function K3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function L0(t,e){let n=K3(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function F0(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=cl(t):(s=Xc({},t),ht(!s.pathname||!s.pathname.includes("?"),Lm("?","pathname","search",s)),ht(!s.pathname||!s.pathname.includes("#"),Lm("#","pathname","hash",s)),ht(!s.search||!s.search.includes("#"),Lm("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),p-=1;s.pathname=f.join("/")}a=p>=0?e[p]:"/"}let l=H3(s,a),c=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const oi=t=>t.join("/").replace(/\/\/+/g,"/"),G3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Q3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Y3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function X3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const dP=["post","put","patch","delete"];new Set(dP);const J3=["get",...dP];new Set(J3);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jc(){return Jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jc.apply(this,arguments)}const U0=v.createContext(null),Z3=v.createContext(null),Ni=v.createContext(null),sp=v.createContext(null),vs=v.createContext({outlet:null,matches:[],isDataRoute:!1}),hP=v.createContext(null);function eF(t,e){let{relative:n}=e===void 0?{}:e;ul()||ht(!1);let{basename:r,navigator:s}=v.useContext(Ni),{hash:i,pathname:o,search:a}=mP(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:oi([r,o])),s.createHref({pathname:l,search:a,hash:i})}function ul(){return v.useContext(sp)!=null}function Ao(){return ul()||ht(!1),v.useContext(sp).location}function fP(t){v.useContext(Ni).static||v.useLayoutEffect(t)}function Iu(){let{isDataRoute:t}=v.useContext(vs);return t?fF():tF()}function tF(){ul()||ht(!1);let t=v.useContext(U0),{basename:e,future:n,navigator:r}=v.useContext(Ni),{matches:s}=v.useContext(vs),{pathname:i}=Ao(),o=JSON.stringify(L0(s,n.v7_relativeSplatPath)),a=v.useRef(!1);return fP(()=>{a.current=!0}),v.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let p=F0(c,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:oi([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,o,i,t])}function pP(){let{matches:t}=v.useContext(vs),e=t[t.length-1];return e?e.params:{}}function mP(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=v.useContext(Ni),{matches:s}=v.useContext(vs),{pathname:i}=Ao(),o=JSON.stringify(L0(s,r.v7_relativeSplatPath));return v.useMemo(()=>F0(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function nF(t,e){return rF(t,e)}function rF(t,e,n,r){ul()||ht(!1);let{navigator:s}=v.useContext(Ni),{matches:i}=v.useContext(vs),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Ao(),h;if(e){var p;let _=typeof e=="string"?cl(e):e;l==="/"||(p=_.pathname)!=null&&p.startsWith(l)||ht(!1),h=_}else h=c;let f=h.pathname||"/",m=f;if(l!=="/"){let _=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(_.length).join("/")}let w=N3(t,{pathname:m}),y=lF(w&&w.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:oi([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:oi([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,r);return e&&y?v.createElement(sp.Provider,{value:{location:Jc({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Qs.Pop}},y):y}function sF(){let t=hF(),e=X3(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:s},n):null,null)}const iF=v.createElement(sF,null);class oF extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(vs.Provider,{value:this.props.routeContext},v.createElement(hP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function aF(t){let{routeContext:e,match:n,children:r}=t,s=v.useContext(U0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(vs.Provider,{value:e},r)}function lF(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);h>=0||ht(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:f,errors:m}=n,w=p.route.loader&&f[p.route.id]===void 0&&(!m||m[p.route.id]===void 0);if(p.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,p,f)=>{let m,w=!1,y=null,_=null;n&&(m=a&&p.route.id?a[p.route.id]:void 0,y=p.route.errorElement||iF,l&&(c<0&&f===0?(w=!0,_=null):c===f&&(w=!0,_=p.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,f+1)),E=()=>{let T;return m?T=y:w?T=_:p.route.Component?T=v.createElement(p.route.Component,null):p.route.element?T=p.route.element:T=h,v.createElement(aF,{match:p,routeContext:{outlet:h,matches:x,isDataRoute:n!=null},children:T})};return n&&(p.route.ErrorBoundary||p.route.errorElement||f===0)?v.createElement(oF,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:E(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):E()},null)}var gP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(gP||{}),nf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(nf||{});function cF(t){let e=v.useContext(U0);return e||ht(!1),e}function uF(t){let e=v.useContext(Z3);return e||ht(!1),e}function dF(t){let e=v.useContext(vs);return e||ht(!1),e}function yP(t){let e=dF(),n=e.matches[e.matches.length-1];return n.route.id||ht(!1),n.route.id}function hF(){var t;let e=v.useContext(hP),n=uF(nf.UseRouteError),r=yP(nf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function fF(){let{router:t}=cF(gP.UseNavigateStable),e=yP(nf.UseNavigateStable),n=v.useRef(!1);return fP(()=>{n.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Jc({fromRouteId:e},i)))},[t,e])}function vP(t){let{to:e,replace:n,state:r,relative:s}=t;ul()||ht(!1);let{future:i,static:o}=v.useContext(Ni),{matches:a}=v.useContext(vs),{pathname:l}=Ao(),c=Iu(),h=F0(e,L0(a,i.v7_relativeSplatPath),l,s==="path"),p=JSON.stringify(h);return v.useEffect(()=>c(JSON.parse(p),{replace:n,state:r,relative:s}),[c,p,s,n,r]),null}function qr(t){ht(!1)}function pF(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Qs.Pop,navigator:i,static:o=!1,future:a}=t;ul()&&ht(!1);let l=e.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:l,navigator:i,static:o,future:Jc({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=cl(r));let{pathname:h="/",search:p="",hash:f="",state:m=null,key:w="default"}=r,y=v.useMemo(()=>{let _=V0(h,l);return _==null?null:{location:{pathname:_,search:p,hash:f,state:m,key:w},navigationType:s}},[l,h,p,f,m,w,s]);return y==null?null:v.createElement(Ni.Provider,{value:c},v.createElement(sp.Provider,{children:n,value:y}))}function mF(t){let{children:e,location:n}=t;return nF(by(e),n)}new Promise(()=>{});function by(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,s)=>{if(!v.isValidElement(r))return;let i=[...e,s];if(r.type===v.Fragment){n.push.apply(n,by(r.props.children,i));return}r.type!==qr&&ht(!1),!r.props.index||!r.props.children||ht(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=by(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ty(){return Ty=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ty.apply(this,arguments)}function gF(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function yF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function vF(t,e){return t.button===0&&(!e||e==="_self")&&!yF(t)}const wF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xF="6";try{window.__reactRouterVersion=xF}catch{}const _F="startTransition",lE=MS[_F];function EF(t){let{basename:e,children:n,future:r,window:s}=t,i=v.useRef();i.current==null&&(i.current=I3({window:s,v5Compat:!0}));let o=i.current,[a,l]=v.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=v.useCallback(p=>{c&&lE?lE(()=>l(p)):l(p)},[l,c]);return v.useLayoutEffect(()=>o.listen(h),[o,h]),v.createElement(pF,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const bF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rf=v.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:h,viewTransition:p}=e,f=gF(e,wF),{basename:m}=v.useContext(Ni),w,y=!1;if(typeof c=="string"&&TF.test(c)&&(w=c,bF))try{let T=new URL(window.location.href),I=c.startsWith("//")?new URL(T.protocol+c):new URL(c),D=V0(I.pathname,m);I.origin===T.origin&&D!=null?c=D+I.search+I.hash:y=!0}catch{}let _=eF(c,{relative:s}),x=SF(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,viewTransition:p});function E(T){r&&r(T),T.defaultPrevented||x(T)}return v.createElement("a",Ty({},f,{href:w||_,onClick:y||i?r:E,ref:n,target:l}))});var cE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(cE||(cE={}));var uE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(uE||(uE={}));function SF(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Iu(),c=Ao(),h=mP(t,{relative:o});return v.useCallback(p=>{if(vF(p,n)){p.preventDefault();let f=r!==void 0?r:tf(c)===tf(h);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,h,r,s,n,t,i,o,a])}const B0=v.createContext({});function $0(t){const e=v.useRef(null);return e.current===null&&(e.current=t()),e.current}const z0=typeof window<"u",wP=z0?v.useLayoutEffect:v.useEffect,ip=v.createContext(null);function W0(t,e){t.indexOf(e)===-1&&t.push(e)}function H0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const us=(t,e,n)=>n>e?e:n<t?t:n;let sf=()=>{};const ds={},xP=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function _P(t){return typeof t=="object"&&t!==null}const EP=t=>/^0[^.\s]+$/u.test(t);function q0(t){let e;return()=>(e===void 0&&(e=t()),e)}const qn=t=>t,CF=(t,e)=>n=>e(t(n)),Pu=(...t)=>t.reduce(CF),Zc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class K0{constructor(){this.subscriptions=[]}add(e){return W0(this.subscriptions,e),()=>H0(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ir=t=>t*1e3,Pr=t=>t/1e3;function bP(t,e){return e?t*(1e3/e):0}const TP=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,AF=1e-7,IF=12;function PF(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=TP(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>AF&&++a<IF);return o}function Ru(t,e,n,r){if(t===e&&n===r)return qn;const s=i=>PF(i,0,1,t,n);return i=>i===0||i===1?i:TP(s(i),e,r)}const SP=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,CP=t=>e=>1-t(1-e),AP=Ru(.33,1.53,.69,.99),G0=CP(AP),IP=SP(G0),PP=t=>(t*=2)<1?.5*G0(t):.5*(2-Math.pow(2,-10*(t-1))),Q0=t=>1-Math.sin(Math.acos(t)),RP=CP(Q0),NP=SP(Q0),RF=Ru(.42,0,1,1),NF=Ru(0,0,.58,1),kP=Ru(.42,0,.58,1),kF=t=>Array.isArray(t)&&typeof t[0]!="number",DP=t=>Array.isArray(t)&&typeof t[0]=="number",dE={linear:qn,easeIn:RF,easeInOut:kP,easeOut:NF,circIn:Q0,circInOut:NP,circOut:RP,backIn:G0,backInOut:IP,backOut:AP,anticipate:PP},DF=t=>typeof t=="string",hE=t=>{if(DP(t)){sf(t.length===4);const[e,n,r,s]=t;return Ru(e,n,r,s)}else if(DF(t))return sf(dE[t]!==void 0),dE[t];return t},jd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],fE={value:null,addProjectionMetrics:null};function jF(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(p){o.has(p)&&(h.schedule(p),t()),l++,p(a)}const h={schedule:(p,f=!1,m=!1)=>{const y=m&&s?n:r;return f&&o.add(p),y.has(p)||y.add(p),p},cancel:p=>{r.delete(p),o.delete(p)},process:p=>{if(a=p,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),e&&fE.value&&fE.value.frameloop[e].push(l),l=0,n.clear(),s=!1,i&&(i=!1,h.process(p))}};return h}const MF=40;function jP(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=jd.reduce((T,I)=>(T[I]=jF(i,e?I:void 0),T),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:h,update:p,preRender:f,render:m,postRender:w}=o,y=()=>{const T=ds.useManualTiming?s.timestamp:performance.now();n=!1,ds.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(T-s.timestamp,MF),1)),s.timestamp=T,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),h.process(s),p.process(s),f.process(s),m.process(s),w.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(y))},_=()=>{n=!0,r=!0,s.isProcessing||t(y)};return{schedule:jd.reduce((T,I)=>{const D=o[I];return T[I]=(M,C=!1,S=!1)=>(n||_(),D.schedule(M,C,S)),T},{}),cancel:T=>{for(let I=0;I<jd.length;I++)o[jd[I]].cancel(T)},state:s,steps:o}}const{schedule:Qe,cancel:wi,state:Pt,steps:Fm}=jP(typeof requestAnimationFrame<"u"?requestAnimationFrame:qn,!0);let ch;function OF(){ch=void 0}const pn={now:()=>(ch===void 0&&pn.set(Pt.isProcessing||ds.useManualTiming?Pt.timestamp:performance.now()),ch),set:t=>{ch=t,queueMicrotask(OF)}},MP=t=>e=>typeof e=="string"&&e.startsWith(t),Y0=MP("--"),VF=MP("var(--"),X0=t=>VF(t)?LF.test(t.split("/*")[0].trim()):!1,LF=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,dl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},eu={...dl,transform:t=>us(0,1,t)},Md={...dl,default:1},vc=t=>Math.round(t*1e5)/1e5,J0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function FF(t){return t==null}const UF=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Z0=(t,e)=>n=>!!(typeof n=="string"&&UF.test(n)&&n.startsWith(t)||e&&!FF(n)&&Object.prototype.hasOwnProperty.call(n,e)),OP=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(J0);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},BF=t=>us(0,255,t),Um={...dl,transform:t=>Math.round(BF(t))},Ji={test:Z0("rgb","red"),parse:OP("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Um.transform(t)+", "+Um.transform(e)+", "+Um.transform(n)+", "+vc(eu.transform(r))+")"};function $F(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Sy={test:Z0("#"),parse:$F,transform:Ji.transform},Nu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ks=Nu("deg"),Rr=Nu("%"),ue=Nu("px"),zF=Nu("vh"),WF=Nu("vw"),pE={...Rr,parse:t=>Rr.parse(t)/100,transform:t=>Rr.transform(t*100)},na={test:Z0("hsl","hue"),parse:OP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Rr.transform(vc(e))+", "+Rr.transform(vc(n))+", "+vc(eu.transform(r))+")"},mt={test:t=>Ji.test(t)||Sy.test(t)||na.test(t),parse:t=>Ji.test(t)?Ji.parse(t):na.test(t)?na.parse(t):Sy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ji.transform(t):na.transform(t),getAnimatableNone:t=>{const e=mt.parse(t);return e.alpha=0,mt.transform(e)}},HF=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function qF(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(J0))==null?void 0:e.length)||0)+(((n=t.match(HF))==null?void 0:n.length)||0)>0}const VP="number",LP="color",KF="var",GF="var(",mE="${}",QF=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function tu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(QF,l=>(mt.test(l)?(r.color.push(i),s.push(LP),n.push(mt.parse(l))):l.startsWith(GF)?(r.var.push(i),s.push(KF),n.push(l)):(r.number.push(i),s.push(VP),n.push(parseFloat(l))),++i,mE)).split(mE);return{values:n,split:a,indexes:r,types:s}}function FP(t){return tu(t).values}function UP(t){const{split:e,types:n}=tu(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===VP?i+=vc(s[o]):a===LP?i+=mt.transform(s[o]):i+=s[o]}return i}}const YF=t=>typeof t=="number"?0:mt.test(t)?mt.getAnimatableNone(t):t;function XF(t){const e=FP(t);return UP(t)(e.map(YF))}const xi={test:qF,parse:FP,createTransformer:UP,getAnimatableNone:XF};function Bm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function JF({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=Bm(l,a,t+1/3),i=Bm(l,a,t),o=Bm(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function of(t,e){return n=>n>0?e:t}const Ze=(t,e,n)=>t+(e-t)*n,$m=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},ZF=[Sy,Ji,na],e6=t=>ZF.find(e=>e.test(t));function gE(t){const e=e6(t);if(!e)return!1;let n=e.parse(t);return e===na&&(n=JF(n)),n}const yE=(t,e)=>{const n=gE(t),r=gE(e);if(!n||!r)return of(t,e);const s={...n};return i=>(s.red=$m(n.red,r.red,i),s.green=$m(n.green,r.green,i),s.blue=$m(n.blue,r.blue,i),s.alpha=Ze(n.alpha,r.alpha,i),Ji.transform(s))},Cy=new Set(["none","hidden"]);function t6(t,e){return Cy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function n6(t,e){return n=>Ze(t,e,n)}function ew(t){return typeof t=="number"?n6:typeof t=="string"?X0(t)?of:mt.test(t)?yE:i6:Array.isArray(t)?BP:typeof t=="object"?mt.test(t)?yE:r6:of}function BP(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>ew(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function r6(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=ew(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function s6(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],a=t.values[o]??0;n[s]=a,r[i]++}return n}const i6=(t,e)=>{const n=xi.createTransformer(e),r=tu(t),s=tu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Cy.has(t)&&!s.values.length||Cy.has(e)&&!r.values.length?t6(t,e):Pu(BP(s6(r,s),s.values),n):of(t,e)};function $P(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ze(t,e,n):ew(t)(t,e)}const o6=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Qe.update(e,n),stop:()=>wi(e),now:()=>Pt.isProcessing?Pt.timestamp:pn.now()}},zP=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},af=2e4;function tw(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<af;)e+=n,r=t.next(e);return e>=af?1/0:e}function a6(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(tw(r),af);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Pr(s)}}const l6=5;function WP(t,e,n){const r=Math.max(e-l6,0);return bP(n-t(r),e-r)}const it={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},zm=.001;function c6({duration:t=it.duration,bounce:e=it.bounce,velocity:n=it.velocity,mass:r=it.mass}){let s,i,o=1-e;o=us(it.minDamping,it.maxDamping,o),t=us(it.minDuration,it.maxDuration,Pr(t)),o<1?(s=c=>{const h=c*o,p=h*t,f=h-n,m=Ay(c,o),w=Math.exp(-p);return zm-f/m*w},i=c=>{const p=c*o*t,f=p*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,w=Math.exp(-p),y=Ay(Math.pow(c,2),o);return(-s(c)+zm>0?-1:1)*((f-m)*w)/y}):(s=c=>{const h=Math.exp(-c*t),p=(c-n)*t+1;return-zm+h*p},i=c=>{const h=Math.exp(-c*t),p=(n-c)*(t*t);return h*p});const a=5/t,l=d6(s,i,a);if(t=Ir(t),isNaN(l))return{stiffness:it.stiffness,damping:it.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const u6=12;function d6(t,e,n){let r=n;for(let s=1;s<u6;s++)r=r-t(r)/e(r);return r}function Ay(t,e){return t*Math.sqrt(1-e*e)}const h6=["duration","bounce"],f6=["stiffness","damping","mass"];function vE(t,e){return e.some(n=>t[n]!==void 0)}function p6(t){let e={velocity:it.velocity,stiffness:it.stiffness,damping:it.damping,mass:it.mass,isResolvedFromDuration:!1,...t};if(!vE(t,f6)&&vE(t,h6))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*us(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:it.mass,stiffness:s,damping:i}}else{const n=c6(t);e={...e,...n,mass:it.mass},e.isResolvedFromDuration=!0}return e}function lf(t=it.visualDuration,e=it.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:h,duration:p,velocity:f,isResolvedFromDuration:m}=p6({...n,velocity:-Pr(n.velocity||0)}),w=f||0,y=c/(2*Math.sqrt(l*h)),_=o-i,x=Pr(Math.sqrt(l/h)),E=Math.abs(_)<5;r||(r=E?it.restSpeed.granular:it.restSpeed.default),s||(s=E?it.restDelta.granular:it.restDelta.default);let T;if(y<1){const D=Ay(x,y);T=M=>{const C=Math.exp(-y*x*M);return o-C*((w+y*x*_)/D*Math.sin(D*M)+_*Math.cos(D*M))}}else if(y===1)T=D=>o-Math.exp(-x*D)*(_+(w+x*_)*D);else{const D=x*Math.sqrt(y*y-1);T=M=>{const C=Math.exp(-y*x*M),S=Math.min(D*M,300);return o-C*((w+y*x*_)*Math.sinh(S)+D*_*Math.cosh(S))/D}}const I={calculatedDuration:m&&p||null,next:D=>{const M=T(D);if(m)a.done=D>=p;else{let C=D===0?w:0;y<1&&(C=D===0?Ir(w):WP(T,D,M));const S=Math.abs(C)<=r,A=Math.abs(o-M)<=s;a.done=S&&A}return a.value=a.done?o:M,a},toString:()=>{const D=Math.min(tw(I),af),M=zP(C=>I.next(D*C).value,D,30);return D+"ms "+M},toTransition:()=>{}};return I}lf.applyToOptions=t=>{const e=a6(t,100,lf);return t.ease=e.ease,t.duration=Ir(e.duration),t.type="keyframes",t};function Iy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const p=t[0],f={done:!1,value:p},m=S=>a!==void 0&&S<a||l!==void 0&&S>l,w=S=>a===void 0?l:l===void 0||Math.abs(a-S)<Math.abs(l-S)?a:l;let y=n*e;const _=p+y,x=o===void 0?_:o(_);x!==_&&(y=x-p);const E=S=>-y*Math.exp(-S/r),T=S=>x+E(S),I=S=>{const A=E(S),k=T(S);f.done=Math.abs(A)<=c,f.value=f.done?x:k};let D,M;const C=S=>{m(f.value)&&(D=S,M=lf({keyframes:[f.value,w(f.value)],velocity:WP(T,S,f.value),damping:s,stiffness:i,restDelta:c,restSpeed:h}))};return C(0),{calculatedDuration:null,next:S=>{let A=!1;return!M&&D===void 0&&(A=!0,I(S),C(S)),D!==void 0&&S>=D?M.next(S-D):(!A&&I(S),f)}}}function m6(t,e,n){const r=[],s=n||ds.mix||$P,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||qn:e;a=Pu(l,a)}r.push(a)}return r}function g6(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(sf(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=m6(e,r,s),l=a.length,c=h=>{if(o&&h<t[0])return e[0];let p=0;if(l>1)for(;p<t.length-2&&!(h<t[p+1]);p++);const f=Zc(t[p],t[p+1],h);return a[p](f)};return n?h=>c(us(t[0],t[i-1],h)):c}function y6(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Zc(0,e,r);t.push(Ze(n,1,s))}}function v6(t){const e=[0];return y6(e,t.length-1),e}function w6(t,e){return t.map(n=>n*e)}function x6(t,e){return t.map(()=>e||kP).splice(0,t.length-1)}function wc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=kF(r)?r.map(hE):hE(r),i={done:!1,value:e[0]},o=w6(n&&n.length===e.length?n:v6(e),t),a=g6(o,e,{ease:Array.isArray(s)?s:x6(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const _6=t=>t!==null;function nw(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(_6),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const E6={decay:Iy,inertia:Iy,tween:wc,keyframes:wc,spring:lf};function HP(t){typeof t.type=="string"&&(t.type=E6[t.type])}class rw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const b6=t=>t/100;class sw extends rw{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==pn.now()&&this.tick(pn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;HP(e);const{type:n=wc,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=n||wc;l!==wc&&typeof a[0]!="number"&&(this.mixKeyframes=Pu(b6,$P(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=tw(c));const{calculatedDuration:h}=c;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:h,repeat:p,repeatType:f,repeatDelay:m,type:w,onUpdate:y,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const x=this.currentTime-c*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?x<0:x>s;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let T=this.currentTime,I=r;if(p){const S=Math.min(this.currentTime,s)/a;let A=Math.floor(S),k=S%1;!k&&S>=1&&(k=1),k===1&&A--,A=Math.min(A,p+1),!!(A%2)&&(f==="reverse"?(k=1-k,m&&(k-=m/a)):f==="mirror"&&(I=o)),T=us(0,1,k)*a}const D=E?{done:!1,value:h[0]}:I.next(T);i&&(D.value=i(D.value));let{done:M}=D;!E&&l!==null&&(M=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return C&&w!==Iy&&(D.value=nw(h,this.options,_,this.speed)),y&&y(D.value),C&&this.finish(),D}then(e,n){return this.finished.then(e,n)}get duration(){return Pr(this.calculatedDuration)}get time(){return Pr(this.currentTime)}set time(e){var n;e=Ir(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(pn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Pr(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=o6,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(pn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function T6(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Zi=t=>t*180/Math.PI,Py=t=>{const e=Zi(Math.atan2(t[1],t[0]));return Ry(e)},S6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Py,rotateZ:Py,skewX:t=>Zi(Math.atan(t[1])),skewY:t=>Zi(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ry=t=>(t=t%360,t<0&&(t+=360),t),wE=Py,xE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),_E=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),C6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:xE,scaleY:_E,scale:t=>(xE(t)+_E(t))/2,rotateX:t=>Ry(Zi(Math.atan2(t[6],t[5]))),rotateY:t=>Ry(Zi(Math.atan2(-t[2],t[0]))),rotateZ:wE,rotate:wE,skewX:t=>Zi(Math.atan(t[4])),skewY:t=>Zi(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ny(t){return t.includes("scale")?1:0}function ky(t,e){if(!t||t==="none")return Ny(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=C6,s=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=S6,s=a}if(!s)return Ny(e);const i=r[e],o=s[1].split(",").map(I6);return typeof i=="function"?i(o):o[i]}const A6=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ky(n,e)};function I6(t){return parseFloat(t.trim())}const hl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fl=new Set(hl),EE=t=>t===dl||t===ue,P6=new Set(["x","y","z"]),R6=hl.filter(t=>!P6.has(t));function N6(t){const e=[];return R6.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ao={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ky(e,"x"),y:(t,{transform:e})=>ky(e,"y")};ao.translateX=ao.x;ao.translateY=ao.y;const lo=new Set;let Dy=!1,jy=!1,My=!1;function qP(){if(jy){const t=Array.from(lo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=N6(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}jy=!1,Dy=!1,lo.forEach(t=>t.complete(My)),lo.clear()}function KP(){lo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(jy=!0)})}function k6(){My=!0,KP(),qP(),My=!1}class iw{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(lo.add(this),Dy||(Dy=!0,Qe.read(KP),Qe.resolveKeyframes(qP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}T6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),lo.delete(this)}cancel(){this.state==="scheduled"&&(lo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const D6=t=>t.startsWith("--");function j6(t,e,n){D6(e)?t.style.setProperty(e,n):t.style[e]=n}const M6=q0(()=>window.ScrollTimeline!==void 0),O6={};function V6(t,e){const n=q0(t);return()=>O6[e]??n()}const GP=V6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Jl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,bE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Jl([0,.65,.55,1]),circOut:Jl([.55,0,1,.45]),backIn:Jl([.31,.01,.66,-.59]),backOut:Jl([.33,1.53,.69,.99])};function QP(t,e){if(t)return typeof t=="function"?GP()?zP(t,e):"ease-out":DP(t)?Jl(t):Array.isArray(t)?t.map(n=>QP(n,e)||bE.easeOut):bE[t]}function L6(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const h={[e]:n};l&&(h.offset=l);const p=QP(a,s);Array.isArray(p)&&(h.easing=p);const f={delay:r,duration:s,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),t.animate(h,f)}function YP(t){return typeof t=="function"&&"applyToOptions"in t}function F6({type:t,...e}){return YP(t)&&GP()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class U6 extends rw{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,sf(typeof e.type!="string");const c=F6(e);this.animation=L6(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=nw(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(h):j6(n,r,h),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Pr(Number(e))}get time(){return Pr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ir(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&M6()?(this.animation.timeline=e,qn):n(this)}}const XP={anticipate:PP,backInOut:IP,circInOut:NP};function B6(t){return t in XP}function $6(t){typeof t.ease=="string"&&B6(t.ease)&&(t.ease=XP[t.ease])}const TE=10;class z6 extends U6{constructor(e){$6(e),HP(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new sw({...o,autoplay:!1}),l=Ir(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-TE).value,a.sample(l).value,TE),a.stop()}}const SE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(xi.test(t)||t==="0")&&!t.startsWith("url("));function W6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function H6(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=SE(s,e),a=SE(i,e);return!o||!a?!1:W6(t)||(n==="spring"||YP(n))&&r}function ow(t){return _P(t)&&"offsetHeight"in t}const q6=new Set(["opacity","clipPath","filter","transform"]),K6=q0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function G6(t){var c;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!ow((c=e==null?void 0:e.owner)==null?void 0:c.current))return!1;const{onUpdate:a,transformTemplate:l}=e.owner.getProps();return K6()&&n&&q6.has(n)&&(n!=="transform"||!l)&&!a&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const Q6=40;class Y6 extends rw{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:h,...p}){var w;super(),this.stop=()=>{var y,_;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(_=this.keyframeResolver)==null||_.cancel()},this.createdAt=pn.now();const f={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:h,...p},m=(h==null?void 0:h.KeyframeResolver)||iw;this.keyframeResolver=new m(a,(y,_,x)=>this.onKeyframesResolved(y,_,f,!x),l,c,h),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:h}=r;this.resolvedAt=pn.now(),H6(e,i,o,a)||((ds.instantAnimations||!l)&&(h==null||h(nw(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>Q6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},m=!c&&G6(f)?new z6({...f,element:f.motionValue.owner.current}):new sw(f);m.finished.then(()=>this.notifyFinished()).catch(qn),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),k6()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const X6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function J6(t){const e=X6.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function JP(t,e,n=1){const[r,s]=J6(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return xP(o)?parseFloat(o):o}return X0(s)?JP(s,e,n+1):s}function aw(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const ZP=new Set(["width","height","top","left","right","bottom",...hl]),Z6={test:t=>t==="auto",parse:t=>t},eR=t=>e=>e.test(t),tR=[dl,ue,Rr,ks,WF,zF,Z6],CE=t=>tR.find(eR(t));function eU(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||EP(t):!0}const tU=new Set(["brightness","contrast","saturate","opacity"]);function nU(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(J0)||[];if(!r)return t;const s=n.replace(r,"");let i=tU.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const rU=/\b([a-z-]*)\(.*?\)/gu,Oy={...xi,getAnimatableNone:t=>{const e=t.match(rU);return e?e.map(nU).join(" "):t}},AE={...dl,transform:Math.round},sU={rotate:ks,rotateX:ks,rotateY:ks,rotateZ:ks,scale:Md,scaleX:Md,scaleY:Md,scaleZ:Md,skew:ks,skewX:ks,skewY:ks,distance:ue,translateX:ue,translateY:ue,translateZ:ue,x:ue,y:ue,z:ue,perspective:ue,transformPerspective:ue,opacity:eu,originX:pE,originY:pE,originZ:ue},lw={borderWidth:ue,borderTopWidth:ue,borderRightWidth:ue,borderBottomWidth:ue,borderLeftWidth:ue,borderRadius:ue,radius:ue,borderTopLeftRadius:ue,borderTopRightRadius:ue,borderBottomRightRadius:ue,borderBottomLeftRadius:ue,width:ue,maxWidth:ue,height:ue,maxHeight:ue,top:ue,right:ue,bottom:ue,left:ue,padding:ue,paddingTop:ue,paddingRight:ue,paddingBottom:ue,paddingLeft:ue,margin:ue,marginTop:ue,marginRight:ue,marginBottom:ue,marginLeft:ue,backgroundPositionX:ue,backgroundPositionY:ue,...sU,zIndex:AE,fillOpacity:eu,strokeOpacity:eu,numOctaves:AE},iU={...lw,color:mt,backgroundColor:mt,outlineColor:mt,fill:mt,stroke:mt,borderColor:mt,borderTopColor:mt,borderRightColor:mt,borderBottomColor:mt,borderLeftColor:mt,filter:Oy,WebkitFilter:Oy},nR=t=>iU[t];function rR(t,e){let n=nR(t);return n!==Oy&&(n=xi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const oU=new Set(["auto","none","0"]);function aU(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!oU.has(i)&&tu(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=rR(n,s)}class lU extends iw{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),X0(c))){const h=JP(c,n.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!ZP.has(r)||e.length!==2)return;const[s,i]=e,o=CE(s),a=CE(i);if(o!==a)if(EE(o)&&EE(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else ao[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||eU(e[s]))&&r.push(s);r.length&&aU(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ao[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=ao[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function cU(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const sR=(t,e)=>e&&typeof t=="number"?e.transform(t):t,IE=30,uU=t=>!isNaN(parseFloat(t));class dU{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var o,a;const i=pn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();s&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=pn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=uU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new K0);const r=this.events[e].add(n);return e==="change"?()=>{r(),Qe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=pn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>IE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,IE);return bP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wa(t,e){return new dU(t,e)}const{schedule:cw,cancel:qQ}=jP(queueMicrotask,!1),er={x:!1,y:!1};function iR(){return er.x||er.y}function hU(t){return t==="x"||t==="y"?er[t]?null:(er[t]=!0,()=>{er[t]=!1}):er.x||er.y?null:(er.x=er.y=!0,()=>{er.x=er.y=!1})}function oR(t,e){const n=cU(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function PE(t){return!(t.pointerType==="touch"||iR())}function fU(t,e,n={}){const[r,s,i]=oR(t,n),o=a=>{if(!PE(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const h=p=>{PE(p)&&(c(p),l.removeEventListener("pointerleave",h))};l.addEventListener("pointerleave",h,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const aR=(t,e)=>e?t===e?!0:aR(t,e.parentElement):!1,uw=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,pU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function mU(t){return pU.has(t.tagName)||t.tabIndex!==-1}const uh=new WeakSet;function RE(t){return e=>{e.key==="Enter"&&t(e)}}function Wm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const gU=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=RE(()=>{if(uh.has(n))return;Wm(n,"down");const s=RE(()=>{Wm(n,"up")}),i=()=>Wm(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function NE(t){return uw(t)&&!iR()}function yU(t,e,n={}){const[r,s,i]=oR(t,n),o=a=>{const l=a.currentTarget;if(!NE(a))return;uh.add(l);const c=e(l,a),h=(m,w)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",f),uh.has(l)&&uh.delete(l),NE(m)&&typeof c=="function"&&c(m,{success:w})},p=m=>{h(m,l===window||l===document||n.useGlobalTarget||aR(l,m.target))},f=m=>{h(m,!1)};window.addEventListener("pointerup",p,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),ow(a)&&(a.addEventListener("focus",c=>gU(c,s)),!mU(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function lR(t){return _P(t)&&"ownerSVGElement"in t}function vU(t){return lR(t)&&t.tagName==="svg"}const qt=t=>!!(t&&t.getVelocity),wU=[...tR,mt,xi],xU=t=>wU.find(eR(t)),dw=v.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class _U extends v.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=ow(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function EU({children:t,isPresent:e,anchorX:n,root:r}){const s=v.useId(),i=v.useRef(null),o=v.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=v.useContext(dw);return v.useInsertionEffect(()=>{const{width:l,height:c,top:h,left:p,right:f}=o.current;if(e||!i.current||!l||!c)return;const m=n==="left"?`left: ${p}`:`right: ${f}`;i.current.dataset.motionPopId=s;const w=document.createElement("style");a&&(w.nonce=a);const y=r??document.head;return y.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${m}px !important;
            top: ${h}px !important;
          }
        `),()=>{y.removeChild(w),y.contains(w)&&y.removeChild(w)}},[e]),d.jsx(_U,{isPresent:e,childRef:i,sizeRef:o,children:v.cloneElement(t,{ref:i})})}const bU=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,root:l})=>{const c=$0(TU),h=v.useId();let p=!0,f=v.useMemo(()=>(p=!1,{id:h,initial:e,isPresent:n,custom:s,onExitComplete:m=>{c.set(m,!0);for(const w of c.values())if(!w)return;r&&r()},register:m=>(c.set(m,!1),()=>c.delete(m))}),[n,c,r]);return i&&p&&(f={...f}),v.useMemo(()=>{c.forEach((m,w)=>c.set(w,!1))},[n]),v.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(t=d.jsx(EU,{isPresent:n,anchorX:a,root:l,children:t})),d.jsx(ip.Provider,{value:f,children:t})};function TU(){return new Map}function cR(t=!0){const e=v.useContext(ip);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=v.useId();v.useEffect(()=>{if(t)return s(i)},[t]);const o=v.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const Od=t=>t.key||"";function kE(t){const e=[];return v.Children.forEach(t,n=>{v.isValidElement(n)&&e.push(n)}),e}const SU=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[c,h]=cR(o),p=v.useMemo(()=>kE(t),[t]),f=o&&!c?[]:p.map(Od),m=v.useRef(!0),w=v.useRef(p),y=$0(()=>new Map),[_,x]=v.useState(p),[E,T]=v.useState(p);wP(()=>{m.current=!1,w.current=p;for(let M=0;M<E.length;M++){const C=Od(E[M]);f.includes(C)?y.delete(C):y.get(C)!==!0&&y.set(C,!1)}},[E,f.length,f.join("-")]);const I=[];if(p!==_){let M=[...p];for(let C=0;C<E.length;C++){const S=E[C],A=Od(S);f.includes(A)||(M.splice(C,0,S),I.push(S))}return i==="wait"&&I.length&&(M=I),T(kE(M)),x(p),null}const{forceRender:D}=v.useContext(B0);return d.jsx(d.Fragment,{children:E.map(M=>{const C=Od(M),S=o&&!c?!1:p===E||f.includes(C),A=()=>{if(y.has(C))y.set(C,!0);else return;let k=!0;y.forEach(R=>{R||(k=!1)}),k&&(D==null||D(),T(w.current),o&&(h==null||h()),r&&r())};return d.jsx(bU,{isPresent:S,initial:!m.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:l,onExitComplete:S?void 0:A,anchorX:a,children:M},C)})})},uR=v.createContext({strict:!1}),DE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ha={};for(const t in DE)Ha[t]={isEnabled:e=>DE[t].some(n=>!!e[n])};function CU(t){for(const e in t)Ha[e]={...Ha[e],...t[e]}}const AU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||AU.has(t)}let dR=t=>!cf(t);function IU(t){typeof t=="function"&&(dR=e=>e.startsWith("on")?!cf(e):t(e))}try{IU(require("@emotion/is-prop-valid").default)}catch{}function PU(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(dR(s)||n===!0&&cf(s)||!e&&!cf(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function RU(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const op=v.createContext({});function ap(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function nu(t){return typeof t=="string"||Array.isArray(t)}const hw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],fw=["initial",...hw];function lp(t){return ap(t.animate)||fw.some(e=>nu(t[e]))}function hR(t){return!!(lp(t)||t.variants)}function NU(t,e){if(lp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||nu(n)?n:void 0,animate:nu(r)?r:void 0}}return t.inherit!==!1?e:{}}function kU(t){const{initial:e,animate:n}=NU(t,v.useContext(op));return v.useMemo(()=>({initial:e,animate:n}),[jE(e),jE(n)])}function jE(t){return Array.isArray(t)?t.join(" "):t}const DU=Symbol.for("motionComponentSymbol");function ra(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function jU(t,e,n){return v.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ra(n)&&(n.current=r))},[e])}const pw=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),MU="framerAppearId",fR="data-"+pw(MU),pR=v.createContext({});function OU(t,e,n,r,s){var y,_;const{visualElement:i}=v.useContext(op),o=v.useContext(uR),a=v.useContext(ip),l=v.useContext(dw).reducedMotion,c=v.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const h=c.current,p=v.useContext(pR);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&VU(c.current,n,s,p);const f=v.useRef(!1);v.useInsertionEffect(()=>{h&&f.current&&h.update(n,a)});const m=n[fR],w=v.useRef(!!m&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,m))&&((_=window.MotionHasOptimisedAnimation)==null?void 0:_.call(window,m)));return wP(()=>{h&&(f.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),cw.render(h.render),w.current&&h.animationState&&h.animationState.animateChanges())}),v.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)==null||x.call(window,m)}),w.current=!1))}),h}function VU(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:mR(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&ra(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:l,layoutRoot:c})}function mR(t){if(t)return t.options.allowProjection!==!1?t.projection:mR(t.parent)}function LU({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&CU(t);function i(a,l){let c;const h={...v.useContext(dw),...a,layoutId:FU(a)},{isStatic:p}=h,f=kU(a),m=r(a,p);if(!p&&z0){UU();const w=BU(h);c=w.MeasureLayout,f.visualElement=OU(s,m,h,e,w.ProjectionNode)}return d.jsxs(op.Provider,{value:f,children:[c&&f.visualElement?d.jsx(c,{visualElement:f.visualElement,...h}):null,n(s,a,jU(m,f.visualElement,l),m,p,f.visualElement)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=v.forwardRef(i);return o[DU]=s,o}function FU({layoutId:t}){const e=v.useContext(B0).id;return e&&t!==void 0?e+"-"+t:t}function UU(t,e){v.useContext(uR).strict}function BU(t){const{drag:e,layout:n}=Ha;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const ru={};function $U(t){for(const e in t)ru[e]=t[e],Y0(e)&&(ru[e].isCSSVariable=!0)}function gR(t,{layout:e,layoutId:n}){return fl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ru[t]||t==="opacity")}const zU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},WU=hl.length;function HU(t,e,n){let r="",s=!0;for(let i=0;i<WU;i++){const o=hl[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=sR(a,lw[o]);if(!l){s=!1;const h=zU[o]||o;r+=`${h}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function mw(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(fl.has(l)){o=!0;continue}else if(Y0(l)){s[l]=c;continue}else{const h=sR(c,lw[l]);l.startsWith("origin")?(a=!0,i[l]=h):r[l]=h}}if(e.transform||(o||n?r.transform=HU(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:h=0}=i;r.transformOrigin=`${l} ${c} ${h}`}}const gw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function yR(t,e,n){for(const r in e)!qt(e[r])&&!gR(r,n)&&(t[r]=e[r])}function qU({transformTemplate:t},e){return v.useMemo(()=>{const n=gw();return mw(n,e,t),Object.assign({},n.vars,n.style)},[e])}function KU(t,e){const n=t.style||{},r={};return yR(r,n,t),Object.assign(r,qU(t,e)),r}function GU(t,e){const n={},r=KU(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const QU={offset:"stroke-dashoffset",array:"stroke-dasharray"},YU={offset:"strokeDashoffset",array:"strokeDasharray"};function XU(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?QU:YU;t[i.offset]=ue.transform(-r);const o=ue.transform(e),a=ue.transform(n);t[i.array]=`${o} ${a}`}function vR(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,h){if(mw(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:f}=t;p.transform&&(f.transform=p.transform,delete p.transform),(f.transform||p.transformOrigin)&&(f.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),f.transform&&(f.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),s!==void 0&&XU(p,s,i,o,!1)}const wR=()=>({...gw(),attrs:{}}),xR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function JU(t,e,n,r){const s=v.useMemo(()=>{const i=wR();return vR(i,e,xR(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};yR(i,t.style,t),s.style={...i,...s.style}}return s}const ZU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function yw(t){return typeof t!="string"||t.includes("-")?!1:!!(ZU.indexOf(t)>-1||/[A-Z]/u.test(t))}function e9(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(yw(n)?JU:GU)(r,i,o,n),c=PU(r,typeof n=="string",t),h=n!==v.Fragment?{...c,...l,ref:s}:{},{children:p}=r,f=v.useMemo(()=>qt(p)?p.get():p,[p]);return v.createElement(n,{...h,children:f})}}function ME(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function vw(t,e,n,r){if(typeof e=="function"){const[s,i]=ME(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=ME(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function dh(t){return qt(t)?t.get():t}function t9({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:n9(n,r,s,t),renderState:e()}}const _R=t=>(e,n)=>{const r=v.useContext(op),s=v.useContext(ip),i=()=>t9(t,e,r,s);return n?i():$0(i)};function n9(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=dh(i[f]);let{initial:o,animate:a}=t;const l=lp(t),c=hR(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const p=h?a:o;if(p&&typeof p!="boolean"&&!ap(p)){const f=Array.isArray(p)?p:[p];for(let m=0;m<f.length;m++){const w=vw(t,f[m]);if(w){const{transitionEnd:y,transition:_,...x}=w;for(const E in x){let T=x[E];if(Array.isArray(T)){const I=h?T.length-1:0;T=T[I]}T!==null&&(s[E]=T)}for(const E in y)s[E]=y[E]}}}return s}function ww(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(qt(r[o])||e.style&&qt(e.style[o])||gR(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const r9={useVisualState:_R({scrapeMotionValuesFromProps:ww,createRenderState:gw})};function ER(t,e,n){const r=ww(t,e,n);for(const s in t)if(qt(t[s])||qt(e[s])){const i=hl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const s9={useVisualState:_R({scrapeMotionValuesFromProps:ER,createRenderState:wR})};function i9(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...yw(r)?s9:r9,preloadedFeatures:t,useRender:e9(s),createVisualElement:e,Component:r};return LU(o)}}function su(t,e,n){const r=t.getProps();return vw(r,e,n!==void 0?n:r.custom,t)}const Vy=t=>Array.isArray(t);function o9(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Wa(n))}function a9(t){return Vy(t)?t[t.length-1]||0:t}function l9(t,e){const n=su(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=a9(i[o]);o9(t,o,a)}}function c9(t){return!!(qt(t)&&t.add)}function Ly(t,e){const n=t.getValue("willChange");if(c9(n))return n.add(e);if(!n&&ds.WillChange){const r=new ds.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function bR(t){return t.props[fR]}const u9=t=>t!==null;function d9(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(u9),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const h9={type:"spring",stiffness:500,damping:25,restSpeed:10},f9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),p9={type:"keyframes",duration:.8},m9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},g9=(t,{keyframes:e})=>e.length>2?p9:fl.has(t)?t.startsWith("scale")?f9(e[1]):h9:m9;function y9({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}const xw=(t,e,n,r={},s,i)=>o=>{const a=aw(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Ir(l);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};y9(a)||Object.assign(h,g9(t,h)),h.duration&&(h.duration=Ir(h.duration)),h.repeatDelay&&(h.repeatDelay=Ir(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let p=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(p=!0)),(ds.instantAnimations||ds.skipAnimations)&&(p=!0,h.duration=0,h.delay=0),h.allowFlatten=!a.type&&!a.ease,p&&!i&&e.get()!==void 0){const f=d9(h.keyframes,a);if(f!==void 0){Qe.update(()=>{h.onUpdate(f),h.onComplete()});return}}return a.isSync?new sw(h):new Y6(h)};function v9({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function TR(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(i=r);const l=[],c=s&&t.animationState&&t.animationState.getState()[s];for(const h in a){const p=t.getValue(h,t.latestValues[h]??null),f=a[h];if(f===void 0||c&&v9(c,h))continue;const m={delay:n,...aw(i||{},h)},w=p.get();if(w!==void 0&&!p.isAnimating&&!Array.isArray(f)&&f===w&&!m.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const x=bR(t);if(x){const E=window.MotionHandoffAnimation(x,h,Qe);E!==null&&(m.startTime=E,y=!0)}}Ly(t,h),p.start(xw(h,p,f,t.shouldReduceMotion&&ZP.has(h)?{type:!1}:m,t,y));const _=p.animation;_&&l.push(_)}return o&&Promise.all(l).then(()=>{Qe.update(()=>{o&&l9(t,o)})}),l}function Fy(t,e,n={}){var l;const r=su(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(TR(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:p,staggerDirection:f}=s;return w9(t,e,c,h,p,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,h]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>h())}else return Promise.all([i(),o(n.delay)])}function w9(t,e,n=0,r=0,s=0,i=1,o){const a=[],l=t.variantChildren.size,c=(l-1)*s,h=typeof r=="function",p=h?f=>r(f,l):i===1?(f=0)=>f*s:(f=0)=>c-f*s;return Array.from(t.variantChildren).sort(x9).forEach((f,m)=>{f.notify("AnimationStart",e),a.push(Fy(f,e,{...o,delay:n+(h?0:r)+p(m)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(a)}function x9(t,e){return t.sortNodePosition(e)}function _9(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Fy(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Fy(t,e,n);else{const s=typeof e=="function"?su(t,e,n.custom):e;r=Promise.all(TR(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function SR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const E9=fw.length;function CR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?CR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<E9;n++){const r=fw[n],s=t.props[r];(nu(s)||s===!1)&&(e[r]=s)}return e}const b9=[...hw].reverse(),T9=hw.length;function S9(t){return e=>Promise.all(e.map(({animation:n,options:r})=>_9(t,n,r)))}function C9(t){let e=S9(t),n=OE(),r=!0;const s=l=>(c,h)=>{var f;const p=su(t,h,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(p){const{transition:m,transitionEnd:w,...y}=p;c={...c,...y,...w}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,h=CR(t.parent)||{},p=[],f=new Set;let m={},w=1/0;for(let _=0;_<T9;_++){const x=b9[_],E=n[x],T=c[x]!==void 0?c[x]:h[x],I=nu(T),D=x===l?E.isActive:null;D===!1&&(w=_);let M=T===h[x]&&T!==c[x]&&I;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),E.protectedKeys={...m},!E.isActive&&D===null||!T&&!E.prevProp||ap(T)||typeof T=="boolean")continue;const C=A9(E.prevProp,T);let S=C||x===l&&E.isActive&&!M&&I||_>w&&I,A=!1;const k=Array.isArray(T)?T:[T];let R=k.reduce(s(x),{});D===!1&&(R={});const{prevResolvedValues:j={}}=E,N={...j,...R},q=$=>{S=!0,f.has($)&&(A=!0,f.delete($)),E.needsAnimating[$]=!0;const O=t.getValue($);O&&(O.liveStyle=!1)};for(const $ in N){const O=R[$],z=j[$];if(m.hasOwnProperty($))continue;let K=!1;Vy(O)&&Vy(z)?K=!SR(O,z):K=O!==z,K?O!=null?q($):f.add($):O!==void 0&&f.has($)?q($):E.protectedKeys[$]=!0}E.prevProp=T,E.prevResolvedValues=R,E.isActive&&(m={...m,...R}),r&&t.blockInitialAnimation&&(S=!1),S&&(!(M&&C)||A)&&p.push(...k.map($=>({animation:$,options:{type:x}})))}if(f.size){const _={};if(typeof c.initial!="boolean"){const x=su(t,Array.isArray(c.initial)?c.initial[0]:c.initial);x&&x.transition&&(_.transition=x.transition)}f.forEach(x=>{const E=t.getBaseTarget(x),T=t.getValue(x);T&&(T.liveStyle=!0),_[x]=E??null}),p.push({animation:_})}let y=!!p.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(p):Promise.resolve()}function a(l,c){var p;if(n[l].isActive===c)return Promise.resolve();(p=t.variantChildren)==null||p.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=OE(),r=!0}}}function A9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!SR(e,t):!1}function Wi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function OE(){return{animate:Wi(!0),whileInView:Wi(),whileHover:Wi(),whileTap:Wi(),whileDrag:Wi(),whileFocus:Wi(),exit:Wi()}}class ki{constructor(e){this.isMounted=!1,this.node=e}update(){}}class I9 extends ki{constructor(e){super(e),e.animationState||(e.animationState=C9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ap(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let P9=0;class R9 extends ki{constructor(){super(...arguments),this.id=P9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const N9={animation:{Feature:I9},exit:{Feature:R9}};function iu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function ku(t){return{point:{x:t.pageX,y:t.pageY}}}const k9=t=>e=>uw(e)&&t(e,ku(e));function xc(t,e,n,r){return iu(t,e,k9(n),r)}function AR({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function D9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function j9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const IR=1e-4,M9=1-IR,O9=1+IR,PR=.01,V9=0-PR,L9=0+PR;function nn(t){return t.max-t.min}function F9(t,e,n){return Math.abs(t-e)<=n}function VE(t,e,n,r=.5){t.origin=r,t.originPoint=Ze(e.min,e.max,t.origin),t.scale=nn(n)/nn(e),t.translate=Ze(n.min,n.max,t.origin)-t.originPoint,(t.scale>=M9&&t.scale<=O9||isNaN(t.scale))&&(t.scale=1),(t.translate>=V9&&t.translate<=L9||isNaN(t.translate))&&(t.translate=0)}function _c(t,e,n,r){VE(t.x,e.x,n.x,r?r.originX:void 0),VE(t.y,e.y,n.y,r?r.originY:void 0)}function LE(t,e,n){t.min=n.min+e.min,t.max=t.min+nn(e)}function U9(t,e,n){LE(t.x,e.x,n.x),LE(t.y,e.y,n.y)}function FE(t,e,n){t.min=e.min-n.min,t.max=t.min+nn(e)}function Ec(t,e,n){FE(t.x,e.x,n.x),FE(t.y,e.y,n.y)}const UE=()=>({translate:0,scale:1,origin:0,originPoint:0}),sa=()=>({x:UE(),y:UE()}),BE=()=>({min:0,max:0}),ct=()=>({x:BE(),y:BE()});function Vn(t){return[t("x"),t("y")]}function Hm(t){return t===void 0||t===1}function Uy({scale:t,scaleX:e,scaleY:n}){return!Hm(t)||!Hm(e)||!Hm(n)}function Ki(t){return Uy(t)||RR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function RR(t){return $E(t.x)||$E(t.y)}function $E(t){return t&&t!=="0%"}function uf(t,e,n){const r=t-n,s=e*r;return n+s}function zE(t,e,n,r,s){return s!==void 0&&(t=uf(t,s,r)),uf(t,n,r)+e}function By(t,e=0,n=1,r,s){t.min=zE(t.min,e,n,r,s),t.max=zE(t.max,e,n,r,s)}function NR(t,{x:e,y:n}){By(t.x,e.translate,e.scale,e.originPoint),By(t.y,n.translate,n.scale,n.originPoint)}const WE=.999999999999,HE=1.0000000000001;function B9(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&oa(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,NR(t,o)),r&&Ki(i.latestValues)&&oa(t,i.latestValues))}e.x<HE&&e.x>WE&&(e.x=1),e.y<HE&&e.y>WE&&(e.y=1)}function ia(t,e){t.min=t.min+e,t.max=t.max+e}function qE(t,e,n,r,s=.5){const i=Ze(t.min,t.max,s);By(t,e,n,i,r)}function oa(t,e){qE(t.x,e.x,e.scaleX,e.scale,e.originX),qE(t.y,e.y,e.scaleY,e.scale,e.originY)}function kR(t,e){return AR(j9(t.getBoundingClientRect(),e))}function $9(t,e,n){const r=kR(t,n),{scroll:s}=e;return s&&(ia(r.x,s.offset.x),ia(r.y,s.offset.y)),r}const DR=({current:t})=>t?t.ownerDocument.defaultView:null,KE=(t,e)=>Math.abs(t-e);function z9(t,e){const n=KE(t.x,e.x),r=KE(t.y,e.y);return Math.sqrt(n**2+r**2)}class jR{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Km(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,w=z9(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!w)return;const{point:y}=f,{timestamp:_}=Pt;this.history.push({...y,timestamp:_});const{onStart:x,onMove:E}=this.handlers;m||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=qm(m,this.transformPagePoint),Qe.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:w,onSessionEnd:y,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Km(f.type==="pointercancel"?this.lastMoveEventInfo:qm(m,this.transformPagePoint),this.history);this.startEvent&&w&&w(f,x),y&&y(f,x)},!uw(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const a=ku(e),l=qm(a,this.transformPagePoint),{point:c}=l,{timestamp:h}=Pt;this.history=[{...c,timestamp:h}];const{onSessionStart:p}=n;p&&p(e,Km(l,this.history)),this.removeListeners=Pu(xc(this.contextWindow,"pointermove",this.handlePointerMove),xc(this.contextWindow,"pointerup",this.handlePointerUp),xc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),wi(this.updatePoint)}}function qm(t,e){return e?{point:e(t.point)}:t}function GE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Km({point:t},e){return{point:t,delta:GE(t,MR(e)),offset:GE(t,W9(e)),velocity:H9(e,.1)}}function W9(t){return t[0]}function MR(t){return t[t.length-1]}function H9(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=MR(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ir(e)));)n--;if(!r)return{x:0,y:0};const i=Pr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function q9(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ze(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ze(n,t,r.max):Math.min(t,n)),t}function QE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function K9(t,{top:e,left:n,bottom:r,right:s}){return{x:QE(t.x,n,s),y:QE(t.y,e,r)}}function YE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function G9(t,e){return{x:YE(t.x,e.x),y:YE(t.y,e.y)}}function Q9(t,e){let n=.5;const r=nn(t),s=nn(e);return s>r?n=Zc(e.min,e.max-r,t.min):r>s&&(n=Zc(t.min,t.max-s,e.min)),us(0,1,n)}function Y9(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const $y=.35;function X9(t=$y){return t===!1?t=0:t===!0&&(t=$y),{x:XE(t,"left","right"),y:XE(t,"top","bottom")}}function XE(t,e,n){return{min:JE(t,e),max:JE(t,n)}}function JE(t,e){return typeof t=="number"?t:t[e]||0}const J9=new WeakMap;class Z9{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ct(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=p=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ku(p).point)},o=(p,f)=>{const{drag:m,dragPropagation:w,onDragStart:y}=this.getProps();if(m&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=hU(m),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vn(x=>{let E=this.getAxisMotionValue(x).get()||0;if(Rr.test(E)){const{projection:T}=this.visualElement;if(T&&T.layout){const I=T.layout.layoutBox[x];I&&(E=nn(I)*(parseFloat(E)/100))}}this.originPoint[x]=E}),y&&Qe.postRender(()=>y(p,f)),Ly(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},a=(p,f)=>{this.latestPointerEvent=p,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:w,onDirectionLock:y,onDrag:_}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:x}=f;if(w&&this.currentDirection===null){this.currentDirection=eB(x),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),_&&_(p,f)},l=(p,f)=>{this.latestPointerEvent=p,this.latestPanInfo=f,this.stop(p,f),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>Vn(p=>{var f;return this.getAnimationState(p)==="paused"&&((f=this.getAxisMotionValue(p).animation)==null?void 0:f.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new jR(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:DR(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Qe.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Vd(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=q9(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&ra(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=K9(r.layoutBox,e):this.constraints=!1,this.elastic=X9(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Vn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Y9(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ra(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=$9(r,s.root,this.visualElement.getTransformPagePoint());let o=G9(s.layout.layoutBox,i);if(n){const a=n(D9(o));this.hasMutatedConstraints=!!a,a&&(o=AR(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Vn(h=>{if(!Vd(h,n,this.currentDirection))return;let p=l&&l[h]||{};o&&(p={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,w={type:"inertia",velocity:r?e[h]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...p};return this.startAxisValueAnimation(h,w)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Ly(this.visualElement,e),r.start(xw(e,r,0,n,this.visualElement,!1))}stopAnimation(){Vn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Vn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Vn(n=>{const{drag:r}=this.getProps();if(!Vd(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Ze(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ra(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Vn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=Q9({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Vn(o=>{if(!Vd(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Ze(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;J9.set(this.visualElement,this);const e=this.visualElement.current,n=xc(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ra(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Qe.read(r);const o=iu(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Vn(h=>{const p=this.getAxisMotionValue(h);p&&(this.originPoint[h]+=l[h].translate,p.set(p.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=$y,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Vd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function eB(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class tB extends ki{constructor(e){super(e),this.removeGroupControls=qn,this.removeListeners=qn,this.controls=new Z9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qn}unmount(){this.removeGroupControls(),this.removeListeners()}}const ZE=t=>(e,n)=>{t&&Qe.postRender(()=>t(e,n))};class nB extends ki{constructor(){super(...arguments),this.removePointerDownListener=qn}onPointerDown(e){this.session=new jR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:DR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:ZE(e),onStart:ZE(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Qe.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=xc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const hh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function eb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Kl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ue.test(t))t=parseFloat(t);else return t;const n=eb(t,e.target.x),r=eb(t,e.target.y);return`${n}% ${r}%`}},rB={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=xi.parse(t);if(s.length>5)return r;const i=xi.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=Ze(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};let tb=!1;class sB extends v.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;$U(iB),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),tb&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),hh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,tb=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Qe.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),cw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function OR(t){const[e,n]=cR(),r=v.useContext(B0);return d.jsx(sB,{...t,layoutGroup:r,switchLayoutGroup:v.useContext(pR),isPresent:e,safeToRemove:n})}const iB={borderRadius:{...Kl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Kl,borderTopRightRadius:Kl,borderBottomLeftRadius:Kl,borderBottomRightRadius:Kl,boxShadow:rB};function oB(t,e,n){const r=qt(t)?t:Wa(t);return r.start(xw("",r,e,n)),r.animation}const aB=(t,e)=>t.depth-e.depth;class lB{constructor(){this.children=[],this.isDirty=!1}add(e){W0(this.children,e),this.isDirty=!0}remove(e){H0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(aB),this.isDirty=!1,this.children.forEach(e)}}function cB(t,e){const n=pn.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(wi(r),t(i-e))};return Qe.setup(r,!0),()=>wi(r)}const VR=["TopLeft","TopRight","BottomLeft","BottomRight"],uB=VR.length,nb=t=>typeof t=="string"?parseFloat(t):t,rb=t=>typeof t=="number"||ue.test(t);function dB(t,e,n,r,s,i){s?(t.opacity=Ze(0,n.opacity??1,hB(r)),t.opacityExit=Ze(e.opacity??1,0,fB(r))):i&&(t.opacity=Ze(e.opacity??1,n.opacity??1,r));for(let o=0;o<uB;o++){const a=`border${VR[o]}Radius`;let l=sb(e,a),c=sb(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||rb(l)===rb(c)?(t[a]=Math.max(Ze(nb(l),nb(c),r),0),(Rr.test(c)||Rr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Ze(e.rotate||0,n.rotate||0,r))}function sb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const hB=LR(0,.5,RP),fB=LR(.5,.95,qn);function LR(t,e,n){return r=>r<t?0:r>e?1:n(Zc(t,e,r))}function ib(t,e){t.min=e.min,t.max=e.max}function On(t,e){ib(t.x,e.x),ib(t.y,e.y)}function ob(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function ab(t,e,n,r,s){return t-=e,t=uf(t,1/n,r),s!==void 0&&(t=uf(t,1/s,r)),t}function pB(t,e=0,n=1,r=.5,s,i=t,o=t){if(Rr.test(e)&&(e=parseFloat(e),e=Ze(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ze(i.min,i.max,r);t===i&&(a-=e),t.min=ab(t.min,e,n,a,s),t.max=ab(t.max,e,n,a,s)}function lb(t,e,[n,r,s],i,o){pB(t,e[n],e[r],e[s],e.scale,i,o)}const mB=["x","scaleX","originX"],gB=["y","scaleY","originY"];function cb(t,e,n,r){lb(t.x,e,mB,n?n.x:void 0,r?r.x:void 0),lb(t.y,e,gB,n?n.y:void 0,r?r.y:void 0)}function ub(t){return t.translate===0&&t.scale===1}function FR(t){return ub(t.x)&&ub(t.y)}function db(t,e){return t.min===e.min&&t.max===e.max}function yB(t,e){return db(t.x,e.x)&&db(t.y,e.y)}function hb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function UR(t,e){return hb(t.x,e.x)&&hb(t.y,e.y)}function fb(t){return nn(t.x)/nn(t.y)}function pb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class vB{constructor(){this.members=[]}add(e){W0(this.members,e),e.scheduleRender()}remove(e){if(H0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function wB(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:p,rotateY:f,skewX:m,skewY:w}=n;c&&(r=`perspective(${c}px) ${r}`),h&&(r+=`rotate(${h}deg) `),p&&(r+=`rotateX(${p}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),w&&(r+=`skewY(${w}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Gm=["","X","Y","Z"],xB=1e3;let _B=0;function Qm(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function BR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=bR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Qe,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&BR(r)}function $R({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=_B++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(TB),this.nodes.forEach(IB),this.nodes.forEach(PB),this.nodes.forEach(SB)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new lB)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new K0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=lR(o)&&!vU(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let h,p=0;const f=()=>this.root.updateBlockedByResize=!1;Qe.read(()=>{p=window.innerWidth}),t(o,()=>{const m=window.innerWidth;m!==p&&(p=m,this.root.updateBlockedByResize=!0,h&&h(),h=cB(f,250),hh.hasAnimatedSinceResize&&(hh.hasAnimatedSinceResize=!1,this.nodes.forEach(yb)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||c.getDefaultTransition()||jB,{onLayoutAnimationStart:y,onLayoutAnimationComplete:_}=c.getProps(),x=!this.targetLayout||!UR(this.targetLayout,m),E=!p&&f;if(this.options.layoutRoot||this.resumeFrom||E||p&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...aw(w,"layout"),onPlay:y,onComplete:_};(c.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(h,E)}else p||yb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),wi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(RB),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&BR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const p=this.path[h];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(mb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(gb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(AB),this.nodes.forEach(EB),this.nodes.forEach(bB)):this.nodes.forEach(gb),this.clearAllSnapshots();const a=pn.now();Pt.delta=us(0,1e3/60,a-Pt.timestamp),Pt.timestamp=a,Pt.isProcessing=!0,Fm.update.process(Pt),Fm.preRender.process(Pt),Fm.render.process(Pt),Pt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,cw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(CB),this.sharedNodes.forEach(NB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!nn(this.snapshot.measuredBox.x)&&!nn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!FR(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||Ki(this.latestValues)||h)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),MB(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return ct();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(OB))){const{scroll:h}=this.root;h&&(ia(a.x,h.offset.x),ia(a.y,h.offset.y))}return a}removeElementScroll(o){var l;const a=ct();if(On(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:p,options:f}=h;h!==this.root&&p&&f.layoutScroll&&(p.wasRoot&&On(a,o),ia(a.x,p.offset.x),ia(a.y,p.offset.y))}return a}applyTransform(o,a=!1){const l=ct();On(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&oa(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Ki(h.latestValues)&&oa(l,h.latestValues)}return Ki(this.latestValues)&&oa(l,this.latestValues),l}removeTransform(o){const a=ct();On(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ki(c.latestValues))continue;Uy(c.latestValues)&&c.updateSnapshot();const h=ct(),p=c.measurePageBox();On(h,p),cb(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return Ki(this.latestValues)&&cb(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=Pt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ct(),this.relativeTargetOrigin=ct(),Ec(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),On(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ct(),this.targetWithTransforms=ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),U9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):On(this.target,this.layout.layoutBox),NR(this.target,this.targetDelta)):On(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ct(),this.relativeTargetOrigin=ct(),Ec(this.relativeTargetOrigin,this.target,m.target),On(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Uy(this.parent.latestValues)||RR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Pt.timestamp&&(l=!1),l)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;On(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,f=this.treeScale.y;B9(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ct());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ob(this.prevProjectionDelta.x,this.projectionDelta.x),ob(this.prevProjectionDelta.y,this.projectionDelta.y)),_c(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==f||!pb(this.projectionDelta.x,this.prevProjectionDelta.x)||!pb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=sa(),this.projectionDelta=sa(),this.projectionDeltaWithTransform=sa()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},p=sa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=ct(),m=l?l.source:void 0,w=this.layout?this.layout.source:void 0,y=m!==w,_=this.getStack(),x=!_||_.members.length<=1,E=!!(y&&!x&&this.options.crossfade===!0&&!this.path.some(DB));this.animationProgress=0;let T;this.mixTargetDelta=I=>{const D=I/1e3;vb(p.x,o.x,D),vb(p.y,o.y,D),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ec(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kB(this.relativeTarget,this.relativeTargetOrigin,f,D),T&&yB(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=ct()),On(T,this.relativeTarget)),y&&(this.animationValues=h,dB(h,c,this.latestValues,D,E,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(wi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qe.update(()=>{hh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Wa(0)),this.currentAnimation=oB(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(xB),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:h}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&zR(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ct();const p=nn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+p;const f=nn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}On(a,l),oa(a,h),_c(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new vB),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Qm("z",o,c,this.animationValues);for(let h=0;h<Gm.length;h++)Qm(`rotate${Gm[h]}`,o,c,this.animationValues),Qm(`skew${Gm[h]}`,o,c,this.animationValues);o.render();for(const h in c)o.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=dh(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=dh(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ki(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=c.animationValues||c.latestValues;this.applyTransformsToTarget();let p=wB(this.projectionDeltaWithTransform,this.treeScale,h);l&&(p=l(h,p)),o.transform=p;const{x:f,y:m}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,c.animationValues?o.opacity=c===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=c===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const w in ru){if(h[w]===void 0)continue;const{correct:y,applyTo:_,isCSSVariable:x}=ru[w],E=p==="none"?h[w]:y(h[w],c);if(_){const T=_.length;for(let I=0;I<T;I++)o[_[I]]=E}else x?this.options.visualElement.renderState.vars[w]=E:o[w]=E}this.options.layoutId&&(o.pointerEvents=c===this?dh(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(mb),this.root.sharedNodes.clear()}}}function EB(t){t.updateLayout()}function bB(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?Vn(p=>{const f=o?e.measuredBox[p]:e.layoutBox[p],m=nn(f);f.min=r[p].min,f.max=f.min+m}):zR(i,e.layoutBox,r)&&Vn(p=>{const f=o?e.measuredBox[p]:e.layoutBox[p],m=nn(r[p]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+m)});const a=sa();_c(a,r,e.layoutBox);const l=sa();o?_c(l,t.applyTransform(s,!0),e.measuredBox):_c(l,r,e.layoutBox);const c=!FR(a);let h=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:f,layout:m}=p;if(f&&m){const w=ct();Ec(w,e.layoutBox,f.layoutBox);const y=ct();Ec(y,r,m.layoutBox),UR(w,y)||(h=!0),p.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=w,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function TB(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function SB(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function CB(t){t.clearSnapshot()}function mb(t){t.clearMeasurements()}function gb(t){t.isLayoutDirty=!1}function AB(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function yb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function IB(t){t.resolveTargetDelta()}function PB(t){t.calcProjection()}function RB(t){t.resetSkewAndRotation()}function NB(t){t.removeLeadSnapshot()}function vb(t,e,n){t.translate=Ze(e.translate,0,n),t.scale=Ze(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function wb(t,e,n,r){t.min=Ze(e.min,n.min,r),t.max=Ze(e.max,n.max,r)}function kB(t,e,n,r){wb(t.x,e.x,n.x,r),wb(t.y,e.y,n.y,r)}function DB(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const jB={duration:.45,ease:[.4,0,.1,1]},xb=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),_b=xb("applewebkit/")&&!xb("chrome/")?Math.round:qn;function Eb(t){t.min=_b(t.min),t.max=_b(t.max)}function MB(t){Eb(t.x),Eb(t.y)}function zR(t,e,n){return t==="position"||t==="preserve-aspect"&&!F9(fb(e),fb(n),.2)}function OB(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const VB=$R({attachResizeListener:(t,e)=>iu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ym={current:void 0},WR=$R({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ym.current){const t=new VB({});t.mount(window),t.setOptions({layoutScroll:!0}),Ym.current=t}return Ym.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),LB={pan:{Feature:nB},drag:{Feature:tB,ProjectionNode:WR,MeasureLayout:OR}};function bb(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Qe.postRender(()=>i(e,ku(e)))}class FB extends ki{mount(){const{current:e}=this.node;e&&(this.unmount=fU(e,(n,r)=>(bb(this.node,r,"Start"),s=>bb(this.node,s,"End"))))}unmount(){}}class UB extends ki{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Pu(iu(this.node.current,"focus",()=>this.onFocus()),iu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Tb(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Qe.postRender(()=>i(e,ku(e)))}class BB extends ki{mount(){const{current:e}=this.node;e&&(this.unmount=yU(e,(n,r)=>(Tb(this.node,r,"Start"),(s,{success:i})=>Tb(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const zy=new WeakMap,Xm=new WeakMap,$B=t=>{const e=zy.get(t.target);e&&e(t)},zB=t=>{t.forEach($B)};function WB({root:t,...e}){const n=t||document;Xm.has(n)||Xm.set(n,{});const r=Xm.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(zB,{root:t,...e})),r[s]}function HB(t,e,n){const r=WB(e);return zy.set(t,n),r.observe(t),()=>{zy.delete(t),r.unobserve(t)}}const qB={some:0,all:1};class KB extends ki{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:qB[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:p}=this.node.getProps(),f=c?h:p;f&&f(l)};return HB(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(GB(e,n))&&this.startObserver()}unmount(){}}function GB({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const QB={inView:{Feature:KB},tap:{Feature:BB},focus:{Feature:UB},hover:{Feature:FB}},YB={layout:{ProjectionNode:WR,MeasureLayout:OR}},Wy={current:null},HR={current:!1};function XB(){if(HR.current=!0,!!z0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Wy.current=t.matches;t.addEventListener("change",e),e()}else Wy.current=!1}const JB=new WeakMap;function ZB(t,e,n){for(const r in e){const s=e[r],i=n[r];if(qt(s))t.addValue(r,s);else if(qt(i))t.addValue(r,Wa(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Wa(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Sb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class e${scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=iw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=pn.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Qe.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=lp(n),this.isVariantNode=hR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in p){const m=p[f];l[f]!==void 0&&qt(m)&&m.set(l[f],!1)}}mount(e){this.current=e,JB.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),HR.current||XB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Wy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),wi(this.notifyUpdate),wi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=fl.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Qe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ha){const n=Ha[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ct()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Sb.length;r++){const s=Sb[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=ZB(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Wa(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(xP(r)||EP(r))?r=parseFloat(r):!xU(r)&&xi.test(n)&&(r=rR(e,n)),this.setBaseTarget(e,qt(r)?r.get():r)),qt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=vw(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!qt(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new K0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class qR extends e${constructor(){super(...arguments),this.KeyframeResolver=lU}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;qt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function KR(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function t$(t){return window.getComputedStyle(t)}class n$ extends qR{constructor(){super(...arguments),this.type="html",this.renderInstance=KR}readValueFromInstance(e,n){var r;if(fl.has(n))return(r=this.projection)!=null&&r.isProjecting?Ny(n):A6(e,n);{const s=t$(e),i=(Y0(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return kR(e,n)}build(e,n,r){mw(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return ww(e,n,r)}}const GR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function r$(t,e,n,r){KR(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(GR.has(s)?s:pw(s),e.attrs[s])}class s$ extends qR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ct}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(fl.has(n)){const r=nR(n);return r&&r.default||0}return n=GR.has(n)?n:pw(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return ER(e,n,r)}build(e,n,r){vR(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){r$(e,n,r,s)}mount(e){this.isSVGTag=xR(e.tagName),super.mount(e)}}const i$=(t,e)=>yw(t)?new s$(e):new n$(e,{allowProjection:t!==v.Fragment}),o$=i9({...N9,...QB,...LB,...YB},i$),Se=RU(o$),cp=S0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Oe=v.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Ba:"button";return d.jsx(o,{className:we(cp({variant:e,size:n,className:t})),ref:i,...s})});Oe.displayName="Button";const a$=()=>{};var Cb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},l$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},YR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,h=i>>2,p=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(f=64)),r.push(n[h],n[p],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):l$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||p==null)throw new c$;const f=i<<2|a>>4;if(r.push(f),c!==64){const m=a<<4&240|c>>2;if(r.push(m),p!==64){const w=c<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class c$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u$=function(t){const e=QR(t);return YR.encodeByteArray(e,!0)},df=function(t){return u$(t).replace(/\./g,"")},XR=function(t){try{return YR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h$=()=>d$().__FIREBASE_DEFAULTS__,f$=()=>{if(typeof process>"u"||typeof Cb>"u")return;const t=Cb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},p$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&XR(t[1]);return e&&JSON.parse(e)},up=()=>{try{return a$()||h$()||f$()||p$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},JR=t=>{var e,n;return(n=(e=up())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},m$=t=>{const e=JR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ZR=()=>{var t;return(t=up())===null||t===void 0?void 0:t.config},eN=t=>{var e;return(e=up())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tN(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[df(JSON.stringify(n)),df(JSON.stringify(o)),""].join(".")}const bc={};function v$(){const t={prod:[],emulator:[]};for(const e of Object.keys(bc))bc[e]?t.emulator.push(e):t.prod.push(e);return t}function w$(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Ab=!1;function nN(t,e){if(typeof window>"u"||typeof document>"u"||!pl(window.location.host)||bc[t]===e||bc[t]||Ab)return;bc[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",i=v$().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{Ab=!0,o()},f}function h(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function p(){const f=w$(r),m=n("text"),w=document.getElementById(m)||document.createElement("span"),y=n("learnmore"),_=document.getElementById(y)||document.createElement("a"),x=n("preprendIcon"),E=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const T=f.element;a(T),h(_,y);const I=c();l(E,x),T.append(E,w,_,I),document.body.appendChild(T)}i?(w.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function x$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function _$(){var t;const e=(t=up())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function E$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function b$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function T$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function S$(){const t=Gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function C$(){return!_$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function A$(){try{return typeof indexedDB=="object"}catch{return!1}}function I$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$="FirebaseError";class ws extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=P$,Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Du.prototype.create)}}class Du{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?R$(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ws(s,a,r)}}function R$(t,e){return t.replace(N$,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const N$=/\{\$([^}]+)}/g;function k$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Ib(i)&&Ib(o)){if(!vo(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Ib(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Zl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function ec(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function D$(t,e){const n=new j$(t,e);return n.subscribe.bind(n)}class j${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");M$(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Jm),s.error===void 0&&(s.error=Jm),s.complete===void 0&&(s.complete=Jm);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function M$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Jm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t){return t&&t._delegate?t._delegate:t}class wo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new g$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(L$(e))try{this.getOrInitializeService({instanceIdentifier:Gi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Gi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gi){return this.instances.has(e)}getOptions(e=Gi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:V$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gi){return this.component?this.component.multipleInstances?e:Gi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function V$(t){return t===Gi?void 0:t}function L$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new O$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const U$={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},B$=Ee.INFO,$$={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},z$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=$$[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _w{constructor(e){this.name=e,this._logLevel=B$,this._logHandler=z$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?U$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const W$=(t,e)=>e.some(n=>t instanceof n);let Pb,Rb;function H$(){return Pb||(Pb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function q$(){return Rb||(Rb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rN=new WeakMap,Hy=new WeakMap,sN=new WeakMap,Zm=new WeakMap,Ew=new WeakMap;function K$(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ai(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&rN.set(n,t)}).catch(()=>{}),Ew.set(e,t),e}function G$(t){if(Hy.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Hy.set(t,e)}let qy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ai(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Q$(t){qy=t(qy)}function Y$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(eg(this),e,...n);return sN.set(r,e.sort?e.sort():[e]),ai(r)}:q$().includes(t)?function(...e){return t.apply(eg(this),e),ai(rN.get(this))}:function(...e){return ai(t.apply(eg(this),e))}}function X$(t){return typeof t=="function"?Y$(t):(t instanceof IDBTransaction&&G$(t),W$(t,H$())?new Proxy(t,qy):t)}function ai(t){if(t instanceof IDBRequest)return K$(t);if(Zm.has(t))return Zm.get(t);const e=X$(t);return e!==t&&(Zm.set(t,e),Ew.set(e,t)),e}const eg=t=>Ew.get(t);function J$(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ai(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ai(o.result),l.oldVersion,l.newVersion,ai(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Z$=["get","getKey","getAll","getAllKeys","count"],e8=["put","add","delete","clear"],tg=new Map;function Nb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tg.get(e))return tg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=e8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Z$.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return tg.set(e,i),i}Q$(t=>({...t,get:(e,n,r)=>Nb(e,n)||t.get(e,n,r),has:(e,n)=>!!Nb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(n8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function n8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ky="@firebase/app",kb="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new _w("@firebase/app"),r8="@firebase/app-compat",s8="@firebase/analytics-compat",i8="@firebase/analytics",o8="@firebase/app-check-compat",a8="@firebase/app-check",l8="@firebase/auth",c8="@firebase/auth-compat",u8="@firebase/database",d8="@firebase/data-connect",h8="@firebase/database-compat",f8="@firebase/functions",p8="@firebase/functions-compat",m8="@firebase/installations",g8="@firebase/installations-compat",y8="@firebase/messaging",v8="@firebase/messaging-compat",w8="@firebase/performance",x8="@firebase/performance-compat",_8="@firebase/remote-config",E8="@firebase/remote-config-compat",b8="@firebase/storage",T8="@firebase/storage-compat",S8="@firebase/firestore",C8="@firebase/ai",A8="@firebase/firestore-compat",I8="firebase",P8="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="[DEFAULT]",R8={[Ky]:"fire-core",[r8]:"fire-core-compat",[i8]:"fire-analytics",[s8]:"fire-analytics-compat",[a8]:"fire-app-check",[o8]:"fire-app-check-compat",[l8]:"fire-auth",[c8]:"fire-auth-compat",[u8]:"fire-rtdb",[d8]:"fire-data-connect",[h8]:"fire-rtdb-compat",[f8]:"fire-fn",[p8]:"fire-fn-compat",[m8]:"fire-iid",[g8]:"fire-iid-compat",[y8]:"fire-fcm",[v8]:"fire-fcm-compat",[w8]:"fire-perf",[x8]:"fire-perf-compat",[_8]:"fire-rc",[E8]:"fire-rc-compat",[b8]:"fire-gcs",[T8]:"fire-gcs-compat",[S8]:"fire-fst",[A8]:"fire-fst-compat",[C8]:"fire-vertex","fire-js":"fire-js",[I8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf=new Map,N8=new Map,Qy=new Map;function Db(t,e){try{t.container.addComponent(e)}catch(n){hs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qa(t){const e=t.name;if(Qy.has(e))return hs.debug(`There were multiple attempts to register component ${e}.`),!1;Qy.set(e,t);for(const n of hf.values())Db(n,t);for(const n of N8.values())Db(n,t);return!0}function bw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $n(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},li=new Du("app","Firebase",k8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml=P8;function iN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Gy,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw li.create("bad-app-name",{appName:String(s)});if(n||(n=ZR()),!n)throw li.create("no-options");const i=hf.get(s);if(i){if(vo(n,i.options)&&vo(r,i.config))return i;throw li.create("duplicate-app",{appName:s})}const o=new F$(s);for(const l of Qy.values())o.addComponent(l);const a=new D8(n,r,o);return hf.set(s,a),a}function oN(t=Gy){const e=hf.get(t);if(!e&&t===Gy&&ZR())return iN();if(!e)throw li.create("no-app",{appName:t});return e}function ci(t,e,n){var r;let s=(r=R8[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hs.warn(a.join(" "));return}qa(new wo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8="firebase-heartbeat-database",M8=1,ou="firebase-heartbeat-store";let ng=null;function aN(){return ng||(ng=J$(j8,M8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ou)}catch(n){console.warn(n)}}}}).catch(t=>{throw li.create("idb-open",{originalErrorMessage:t.message})})),ng}async function O8(t){try{const n=(await aN()).transaction(ou),r=await n.objectStore(ou).get(lN(t));return await n.done,r}catch(e){if(e instanceof ws)hs.warn(e.message);else{const n=li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hs.warn(n.message)}}}async function jb(t,e){try{const r=(await aN()).transaction(ou,"readwrite");await r.objectStore(ou).put(e,lN(t)),await r.done}catch(n){if(n instanceof ws)hs.warn(n.message);else{const r=li.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hs.warn(r.message)}}}function lN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V8=1024,L8=30;class F8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new B8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Mb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>L8){const o=$8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){hs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Mb(),{heartbeatsToSend:r,unsentEntries:s}=U8(this._heartbeatsCache.heartbeats),i=df(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return hs.warn(n),""}}}function Mb(){return new Date().toISOString().substring(0,10)}function U8(t,e=V8){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Ob(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ob(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class B8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return A$()?I$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await O8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return jb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return jb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ob(t){return df(JSON.stringify({version:2,heartbeats:t})).length}function $8(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z8(t){qa(new wo("platform-logger",e=>new t8(e),"PRIVATE")),qa(new wo("heartbeat",e=>new F8(e),"PRIVATE")),ci(Ky,kb,t),ci(Ky,kb,"esm2017"),ci("fire-js","")}z8("");var W8="firebase",H8="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ci(W8,H8,"app");var Sr=function(){return Sr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Sr.apply(this,arguments)};function Mu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function q8(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function cN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const K8=cN,uN=new Du("auth","Firebase",cN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff=new _w("@firebase/auth");function G8(t,...e){ff.logLevel<=Ee.WARN&&ff.warn(`Auth (${ml}): ${t}`,...e)}function fh(t,...e){ff.logLevel<=Ee.ERROR&&ff.error(`Auth (${ml}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(t,...e){throw Tw(t,...e)}function Nr(t,...e){return Tw(t,...e)}function dN(t,e,n){const r=Object.assign(Object.assign({},K8()),{[e]:n});return new Du("auth","Firebase",r).create(e,{appName:t.name})}function ns(t){return dN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return uN.create(t,...e)}function le(t,e,...n){if(!t)throw Tw(e,...n)}function Jr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fh(e),new Error(e)}function fs(t,e){t||Jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Q8(){return Vb()==="http:"||Vb()==="https:"}function Vb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Q8()||b$()||"connection"in navigator)?navigator.onLine:!0}function X8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n){this.shortDelay=e,this.longDelay=n,fs(n>e,"Short delay should be less than long delay!"),this.isMobile=x$()||T$()}get(){return Y8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(t,e){fs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ez=new Ou(3e4,6e4);function Di(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function xs(t,e,n,r,s={}){return fN(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=ju(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return E$()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&pl(t.emulatorConfig.host)&&(c.credentials="include"),hN.fetch()(await pN(t,t.config.apiHost,n,a),c)})}async function fN(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},J8),e);try{const s=new nz(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ld(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ld(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ld(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ld(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw dN(t,h,c);hr(t,h)}}catch(s){if(s instanceof ws)throw s;hr(t,"network-request-failed",{message:String(s)})}}async function Vu(t,e,n,r,s={}){const i=await xs(t,e,n,r,s);return"mfaPendingCredential"in i&&hr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function pN(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Sw(t.config,s):`${t.config.apiScheme}://${s}`;return Z8.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function tz(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nz{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Nr(this.auth,"network-request-failed")),ez.get())})}}function Ld(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Nr(t,e,r);return s.customData._tokenResponse=n,s}function Lb(t){return t!==void 0&&t.enterprise!==void 0}class rz{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return tz(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sz(t,e){return xs(t,"GET","/v2/recaptchaConfig",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iz(t,e){return xs(t,"POST","/v1/accounts:delete",e)}async function pf(t,e){return xs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oz(t,e=!1){const n=wt(t),r=await n.getIdToken(e),s=Cw(r);le(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Tc(rg(s.auth_time)),issuedAtTime:Tc(rg(s.iat)),expirationTime:Tc(rg(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function rg(t){return Number(t)*1e3}function Cw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return fh("JWT malformed, contained fewer than 3 sections"),null;try{const s=XR(n);return s?JSON.parse(s):(fh("Failed to decode base64 JWT payload"),null)}catch(s){return fh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Fb(t){const e=Cw(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ws&&az(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function az({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tc(this.lastLoginAt),this.creationTime=Tc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mf(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Ka(t,pf(n,{idToken:r}));le(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?mN(i.providerUserInfo):[],a=uz(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=l?c:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Xy(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function cz(t){const e=wt(t);await mf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uz(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function mN(t){return t.map(e=>{var{providerId:n}=e,r=Mu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dz(t,e){const n=await fN(t,{},async()=>{const r=ju({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await pN(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&pl(t.emulatorConfig.host)&&(l.credentials="include"),hN.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function hz(t,e){return xs(t,"POST","/v2/accounts:revokeToken",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Fb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){le(e.length!==0,"internal-error");const n=Fb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await dz(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new wa;return r&&(le(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(le(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(le(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wa,this.toJSON())}_performRefresh(){return Jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class or{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Mu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Xy(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ka(this,this.stsTokenManager.getToken(this.auth,e));return le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return oz(this,e)}reload(){return cz(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new or(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await mf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(ns(this.auth));const e=await this.getIdToken();return await Ka(this,iz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,h;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(c=n.createdAt)!==null&&c!==void 0?c:void 0,E=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:T,emailVerified:I,isAnonymous:D,providerData:M,stsTokenManager:C}=n;le(T&&C,e,"internal-error");const S=wa.fromJSON(this.name,C);le(typeof T=="string",e,"internal-error"),Rs(p,e.name),Rs(f,e.name),le(typeof I=="boolean",e,"internal-error"),le(typeof D=="boolean",e,"internal-error"),Rs(m,e.name),Rs(w,e.name),Rs(y,e.name),Rs(_,e.name),Rs(x,e.name),Rs(E,e.name);const A=new or({uid:T,auth:e,email:f,emailVerified:I,displayName:p,isAnonymous:D,photoURL:w,phoneNumber:m,tenantId:y,stsTokenManager:S,createdAt:x,lastLoginAt:E});return M&&Array.isArray(M)&&(A.providerData=M.map(k=>Object.assign({},k))),_&&(A._redirectEventId=_),A}static async _fromIdTokenResponse(e,n,r=!1){const s=new wa;s.updateFromServerResponse(n);const i=new or({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await mf(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];le(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?mN(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new wa;a.updateFromIdToken(r);const l=new or({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Xy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=new Map;function Zr(t){fs(t instanceof Function,"Expected a class definition");let e=Ub.get(t);return e?(fs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ub.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gN.type="NONE";const Bb=gN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(t,e,n){return`firebase:${t}:${e}:${n}`}class xa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=ph(this.userKey,s.apiKey,i),this.fullPersistenceKey=ph("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await pf(this.auth,{idToken:e}).catch(()=>{});return n?or._fromGetAccountInfoResponse(this.auth,n,e):null}return or._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new xa(Zr(Bb),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Zr(Bb);const o=ph(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){let p;if(typeof h=="string"){const f=await pf(e,{idToken:h}).catch(()=>{});if(!f)break;p=await or._fromGetAccountInfoResponse(e,f,h)}else p=or._fromJSON(e,h);c!==i&&(a=p),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new xa(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new xa(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(EN(e))return"Blackberry";if(bN(e))return"Webos";if(vN(e))return"Safari";if((e.includes("chrome/")||wN(e))&&!e.includes("edge/"))return"Chrome";if(_N(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function yN(t=Gt()){return/firefox\//i.test(t)}function vN(t=Gt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wN(t=Gt()){return/crios\//i.test(t)}function xN(t=Gt()){return/iemobile/i.test(t)}function _N(t=Gt()){return/android/i.test(t)}function EN(t=Gt()){return/blackberry/i.test(t)}function bN(t=Gt()){return/webos/i.test(t)}function Aw(t=Gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function fz(t=Gt()){var e;return Aw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function pz(){return S$()&&document.documentMode===10}function TN(t=Gt()){return Aw(t)||_N(t)||bN(t)||EN(t)||/windows phone/i.test(t)||xN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(t,e=[]){let n;switch(t){case"Browser":n=$b(Gt());break;case"Worker":n=`${$b(Gt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ml}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gz(t,e={}){return xs(t,"GET","/v2/passwordPolicy",Di(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yz=6;class vz{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:yz,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zb(this),this.idTokenSubscription=new zb(this),this.beforeStateQueue=new mz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await xa.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await pf(this,{idToken:e}),r=await or._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if($n(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await mf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=X8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($n(this.app))return Promise.reject(ns(this));const n=e?wt(e):null;return n&&le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $n(this.app)?Promise.reject(ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gz(this),n=new vz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Du("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await hz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zr(e)||this._popupRedirectResolver;le(n,this,"argument-error"),this.redirectPersistenceManager=await xa.create(this,[Zr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&G8(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Io(t){return wt(t)}class zb{constructor(e){this.auth=e,this.observer=null,this.addObserver=D$(n=>this.observer=n)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xz(t){dp=t}function CN(t){return dp.loadJS(t)}function _z(){return dp.recaptchaEnterpriseScript}function Ez(){return dp.gapiScript}function bz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Tz{constructor(){this.enterprise=new Sz}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Sz{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Cz="recaptcha-enterprise",AN="NO_RECAPTCHA";class Az{constructor(e){this.type=Cz,this.auth=Io(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{sz(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new rz(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;Lb(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(AN)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Tz().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Lb(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=_z();l.length!==0&&(l+=a),CN(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Wb(t,e,n,r=!1,s=!1){const i=new Az(t);let o;if(s)o=AN;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Jy(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Wb(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Wb(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iz(t,e){const n=bw(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(vo(i,e??{}))return s;hr(s,"already-initialized")}return n.initialize({options:e})}function Pz(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Zr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Rz(t,e,n){const r=Io(t);le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=IN(e),{host:o,port:a}=Nz(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){le(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),le(vo(c,r.config.emulator)&&vo(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,pl(o)?(tN(`${i}//${o}${l}`),nN("Auth",!0)):kz()}function IN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Nz(t){const e=IN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Hb(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Hb(o)}}}function Hb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function kz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Jr("not implemented")}_getIdTokenResponse(e){return Jr("not implemented")}_linkToIdToken(e,n){return Jr("not implemented")}_getReauthenticationResolver(e){return Jr("not implemented")}}async function Dz(t,e){return xs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jz(t,e){return Vu(t,"POST","/v1/accounts:signInWithPassword",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mz(t,e){return Vu(t,"POST","/v1/accounts:signInWithEmailLink",Di(t,e))}async function Oz(t,e){return Vu(t,"POST","/v1/accounts:signInWithEmailLink",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends Iw{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new au(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new au(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jy(e,n,"signInWithPassword",jz);case"emailLink":return Mz(e,{email:this._email,oobCode:this._password});default:hr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jy(e,r,"signUpPassword",Dz);case"emailLink":return Oz(e,{idToken:n,email:this._email,oobCode:this._password});default:hr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _a(t,e){return Vu(t,"POST","/v1/accounts:signInWithIdp",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vz="http://localhost";class xo extends Iw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new xo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Mu(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new xo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return _a(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,_a(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_a(e,n)}buildRequest(){const e={requestUri:Vz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ju(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lz(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Fz(t){const e=Zl(ec(t)).link,n=e?Zl(ec(e)).deep_link_id:null,r=Zl(ec(t)).deep_link_id;return(r?Zl(ec(r)).link:null)||r||n||e||t}class Pw{constructor(e){var n,r,s,i,o,a;const l=Zl(ec(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,p=Lz((s=l.mode)!==null&&s!==void 0?s:null);le(c&&h&&p,"argument-error"),this.apiKey=c,this.operation=p,this.code=h,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Fz(e);try{return new Pw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(){this.providerId=gl.PROVIDER_ID}static credential(e,n){return au._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Pw.parseLink(n);return le(r,"argument-error"),au._fromEmailAndCode(e,r.code,r.tenantId)}}gl.PROVIDER_ID="password";gl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends PN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends Lu{constructor(){super("facebook.com")}static credential(e){return xo._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ls.credential(e.oauthAccessToken)}catch{return null}}}Ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ls.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends Lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return xo._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Fs.credential(n,r)}catch{return null}}}Fs.GOOGLE_SIGN_IN_METHOD="google.com";Fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends Lu{constructor(){super("github.com")}static credential(e){return xo._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Us.credential(e.oauthAccessToken)}catch{return null}}}Us.GITHUB_SIGN_IN_METHOD="github.com";Us.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Lu{constructor(){super("twitter.com")}static credential(e,n){return xo._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Bs.credential(n,r)}catch{return null}}}Bs.TWITTER_SIGN_IN_METHOD="twitter.com";Bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uz(t,e){return Vu(t,"POST","/v1/accounts:signUp",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await or._fromIdTokenResponse(e,r,s),o=qb(r);return new _o({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=qb(r);return new _o({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function qb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf extends ws{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,gf.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new gf(e,n,r,s)}}function RN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?gf._fromErrorAndOperation(t,i,e,r):i})}async function Bz(t,e,n=!1){const r=await Ka(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _o._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $z(t,e,n=!1){const{auth:r}=t;if($n(r.app))return Promise.reject(ns(r));const s="reauthenticate";try{const i=await Ka(t,RN(r,s,e,t),n);le(i.idToken,r,"internal-error");const o=Cw(i.idToken);le(o,r,"internal-error");const{sub:a}=o;return le(t.uid===a,r,"user-mismatch"),_o._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&hr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NN(t,e,n=!1){if($n(t.app))return Promise.reject(ns(t));const r="signIn",s=await RN(t,r,e),i=await _o._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function zz(t,e){return NN(Io(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kN(t){const e=Io(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Wz(t,e,n){if($n(t.app))return Promise.reject(ns(t));const r=Io(t),o=await Jy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Uz).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&kN(t),l}),a=await _o._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Hz(t,e,n){return $n(t.app)?Promise.reject(ns(t)):zz(wt(t),gl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&kN(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qz(t,e){return xs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kz(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=wt(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ka(r,qz(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function Gz(t,e,n,r){return wt(t).onIdTokenChanged(e,n,r)}function Qz(t,e,n){return wt(t).beforeAuthStateChanged(e,n)}function DN(t,e,n,r){return wt(t).onAuthStateChanged(e,n,r)}function Yz(t){return wt(t).signOut()}const yf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yf,"1"),this.storage.removeItem(yf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xz=1e3,Jz=10;class MN extends jN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);pz()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Jz):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Xz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}MN.type="LOCAL";const Zz=MN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON extends jN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ON.type="SESSION";const VN=ON;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new hp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await e7(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=Rw("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const f=p;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(){return window}function n7(t){kr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(){return typeof kr().WorkerGlobalScope<"u"&&typeof kr().importScripts=="function"}async function r7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function s7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function i7(){return LN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="firebaseLocalStorageDb",o7=1,vf="firebaseLocalStorage",UN="fbase_key";class Fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fp(t,e){return t.transaction([vf],e?"readwrite":"readonly").objectStore(vf)}function a7(){const t=indexedDB.deleteDatabase(FN);return new Fu(t).toPromise()}function Zy(){const t=indexedDB.open(FN,o7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(vf,{keyPath:UN})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(vf)?e(r):(r.close(),await a7(),e(await Zy()))})})}async function Kb(t,e,n){const r=fp(t,!0).put({[UN]:e,value:n});return new Fu(r).toPromise()}async function l7(t,e){const n=fp(t,!1).get(e),r=await new Fu(n).toPromise();return r===void 0?null:r.value}function Gb(t,e){const n=fp(t,!0).delete(e);return new Fu(n).toPromise()}const c7=800,u7=3;class BN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>u7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hp._getInstance(i7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await r7(),!this.activeServiceWorker)return;this.sender=new t7(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||s7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zy();return await Kb(e,yf,"1"),await Gb(e,yf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Kb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>l7(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Gb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=fp(s,!1).getAll();return new Fu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),c7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BN.type="LOCAL";const d7=BN;new Ou(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h7(t,e){return e?Zr(e):(le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw extends Iw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _a(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _a(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _a(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function f7(t){return NN(t.auth,new Nw(t),t.bypassAuthState)}function p7(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),$z(n,new Nw(t),t.bypassAuthState)}async function m7(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),Bz(n,new Nw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return f7;case"linkViaPopup":case"linkViaRedirect":return m7;case"reauthViaPopup":case"reauthViaRedirect":return p7;default:hr(this.auth,"internal-error")}}resolve(e){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g7=new Ou(2e3,1e4);class aa extends $N{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,aa.currentPopupAction&&aa.currentPopupAction.cancel(),aa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return le(e,this.auth,"internal-error"),e}async onExecution(){fs(this.filter.length===1,"Popup operations only handle one event");const e=Rw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,aa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,g7.get())};e()}}aa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y7="pendingRedirect",mh=new Map;class v7 extends $N{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=mh.get(this.auth._key());if(!e){try{const r=await w7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}mh.set(this.auth._key(),e)}return this.bypassAuthState||mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function w7(t,e){const n=E7(e),r=_7(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function x7(t,e){mh.set(t._key(),e)}function _7(t){return Zr(t._redirectPersistence)}function E7(t){return ph(y7,t.config.apiKey,t.name)}async function b7(t,e,n=!1){if($n(t.app))return Promise.reject(ns(t));const r=Io(t),s=h7(r,e),o=await new v7(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T7=10*60*1e3;class S7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!C7(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!zN(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Nr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=T7&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qb(e))}saveEventToCache(e){this.cachedEventUids.add(Qb(e)),this.lastProcessedEventTime=Date.now()}}function Qb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function C7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A7(t,e={}){return xs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,P7=/^https?/;async function R7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await A7(t);for(const n of e)try{if(N7(n))return}catch{}hr(t,"unauthorized-domain")}function N7(t){const e=Yy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!P7.test(n))return!1;if(I7.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k7=new Ou(3e4,6e4);function Yb(){const t=kr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function D7(t){return new Promise((e,n)=>{var r,s,i;function o(){Yb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Yb(),n(Nr(t,"network-request-failed"))},timeout:k7.get()})}if(!((s=(r=kr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=kr().gapi)===null||i===void 0)&&i.load)o();else{const a=bz("iframefcb");return kr()[a]=()=>{gapi.load?o():n(Nr(t,"network-request-failed"))},CN(`${Ez()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw gh=null,e})}let gh=null;function j7(t){return gh=gh||D7(t),gh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M7=new Ou(5e3,15e3),O7="__/auth/iframe",V7="emulator/auth/iframe",L7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},F7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function U7(t){const e=t.config;le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Sw(e,V7):`https://${t.config.authDomain}/${O7}`,r={apiKey:e.apiKey,appName:t.name,v:ml},s=F7.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${ju(r).slice(1)}`}async function B7(t){const e=await j7(t),n=kr().gapi;return le(n,t,"internal-error"),e.open({where:document.body,url:U7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:L7,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Nr(t,"network-request-failed"),a=kr().setTimeout(()=>{i(o)},M7.get());function l(){kr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},z7=500,W7=600,H7="_blank",q7="http://localhost";class Xb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function K7(t,e,n,r=z7,s=W7){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},$7),{width:r.toString(),height:s.toString(),top:i,left:o}),c=Gt().toLowerCase();n&&(a=wN(c)?H7:n),yN(c)&&(e=e||q7,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[m,w])=>`${f}${m}=${w},`,"");if(fz(c)&&a!=="_self")return G7(e||"",a),new Xb(null);const p=window.open(e||"",a,h);le(p,t,"popup-blocked");try{p.focus()}catch{}return new Xb(p)}function G7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q7="__/auth/handler",Y7="emulator/auth/handler",X7=encodeURIComponent("fac");async function Jb(t,e,n,r,s,i){le(t.config.authDomain,t,"auth-domain-config-required"),le(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ml,eventId:s};if(e instanceof PN){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",k$(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(e instanceof Lu){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${X7}=${encodeURIComponent(l)}`:"";return`${J7(t)}?${ju(a).slice(1)}${c}`}function J7({config:t}){return t.emulator?Sw(t,Y7):`https://${t.authDomain}/${Q7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="webStorageSupport";class Z7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VN,this._completeRedirectFn=b7,this._overrideRedirectResult=x7}async _openPopup(e,n,r,s){var i;fs((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Jb(e,n,r,Yy(),s);return K7(e,o,Rw())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Jb(e,n,r,Yy(),s);return n7(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(fs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await B7(e),r=new S7(e);return n.register("authEvent",s=>(le(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sg,{type:sg},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[sg];o!==void 0&&n(!!o),hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=R7(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return TN()||vN()||Aw()}}const eW=Z7;var Zb="@firebase/auth",eT="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rW(t){qa(new wo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;le(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SN(t)},c=new wz(r,s,i,l);return Pz(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),qa(new wo("auth-internal",e=>{const n=Io(e.getProvider("auth").getImmediate());return(r=>new tW(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ci(Zb,eT,nW(t)),ci(Zb,eT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sW=5*60,iW=eN("authIdTokenMaxAge")||sW;let tT=null;const oW=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>iW)return;const s=n==null?void 0:n.token;tT!==s&&(tT=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function aW(t=oN()){const e=bw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Iz(t,{popupRedirectResolver:eW,persistence:[d7,Zz,VN]}),r=eN("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=oW(i.toString());Qz(n,o,()=>o(n.currentUser)),Gz(n,a=>o(a))}}const s=JR("auth");return s&&Rz(n,`http://${s}`),n}function lW(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}xz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Nr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",lW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rW("Browser");var nT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ui,WN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,S){function A(){}A.prototype=S.prototype,C.D=S.prototype,C.prototype=new A,C.prototype.constructor=C,C.C=function(k,R,j){for(var N=Array(arguments.length-2),q=2;q<arguments.length;q++)N[q-2]=arguments[q];return S.prototype[R].apply(k,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,S,A){A||(A=0);var k=Array(16);if(typeof S=="string")for(var R=0;16>R;++R)k[R]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(R=0;16>R;++R)k[R]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=C.g[0],A=C.g[1],R=C.g[2];var j=C.g[3],N=S+(j^A&(R^j))+k[0]+3614090360&4294967295;S=A+(N<<7&4294967295|N>>>25),N=j+(R^S&(A^R))+k[1]+3905402710&4294967295,j=S+(N<<12&4294967295|N>>>20),N=R+(A^j&(S^A))+k[2]+606105819&4294967295,R=j+(N<<17&4294967295|N>>>15),N=A+(S^R&(j^S))+k[3]+3250441966&4294967295,A=R+(N<<22&4294967295|N>>>10),N=S+(j^A&(R^j))+k[4]+4118548399&4294967295,S=A+(N<<7&4294967295|N>>>25),N=j+(R^S&(A^R))+k[5]+1200080426&4294967295,j=S+(N<<12&4294967295|N>>>20),N=R+(A^j&(S^A))+k[6]+2821735955&4294967295,R=j+(N<<17&4294967295|N>>>15),N=A+(S^R&(j^S))+k[7]+4249261313&4294967295,A=R+(N<<22&4294967295|N>>>10),N=S+(j^A&(R^j))+k[8]+1770035416&4294967295,S=A+(N<<7&4294967295|N>>>25),N=j+(R^S&(A^R))+k[9]+2336552879&4294967295,j=S+(N<<12&4294967295|N>>>20),N=R+(A^j&(S^A))+k[10]+4294925233&4294967295,R=j+(N<<17&4294967295|N>>>15),N=A+(S^R&(j^S))+k[11]+2304563134&4294967295,A=R+(N<<22&4294967295|N>>>10),N=S+(j^A&(R^j))+k[12]+1804603682&4294967295,S=A+(N<<7&4294967295|N>>>25),N=j+(R^S&(A^R))+k[13]+4254626195&4294967295,j=S+(N<<12&4294967295|N>>>20),N=R+(A^j&(S^A))+k[14]+2792965006&4294967295,R=j+(N<<17&4294967295|N>>>15),N=A+(S^R&(j^S))+k[15]+1236535329&4294967295,A=R+(N<<22&4294967295|N>>>10),N=S+(R^j&(A^R))+k[1]+4129170786&4294967295,S=A+(N<<5&4294967295|N>>>27),N=j+(A^R&(S^A))+k[6]+3225465664&4294967295,j=S+(N<<9&4294967295|N>>>23),N=R+(S^A&(j^S))+k[11]+643717713&4294967295,R=j+(N<<14&4294967295|N>>>18),N=A+(j^S&(R^j))+k[0]+3921069994&4294967295,A=R+(N<<20&4294967295|N>>>12),N=S+(R^j&(A^R))+k[5]+3593408605&4294967295,S=A+(N<<5&4294967295|N>>>27),N=j+(A^R&(S^A))+k[10]+38016083&4294967295,j=S+(N<<9&4294967295|N>>>23),N=R+(S^A&(j^S))+k[15]+3634488961&4294967295,R=j+(N<<14&4294967295|N>>>18),N=A+(j^S&(R^j))+k[4]+3889429448&4294967295,A=R+(N<<20&4294967295|N>>>12),N=S+(R^j&(A^R))+k[9]+568446438&4294967295,S=A+(N<<5&4294967295|N>>>27),N=j+(A^R&(S^A))+k[14]+3275163606&4294967295,j=S+(N<<9&4294967295|N>>>23),N=R+(S^A&(j^S))+k[3]+4107603335&4294967295,R=j+(N<<14&4294967295|N>>>18),N=A+(j^S&(R^j))+k[8]+1163531501&4294967295,A=R+(N<<20&4294967295|N>>>12),N=S+(R^j&(A^R))+k[13]+2850285829&4294967295,S=A+(N<<5&4294967295|N>>>27),N=j+(A^R&(S^A))+k[2]+4243563512&4294967295,j=S+(N<<9&4294967295|N>>>23),N=R+(S^A&(j^S))+k[7]+1735328473&4294967295,R=j+(N<<14&4294967295|N>>>18),N=A+(j^S&(R^j))+k[12]+2368359562&4294967295,A=R+(N<<20&4294967295|N>>>12),N=S+(A^R^j)+k[5]+4294588738&4294967295,S=A+(N<<4&4294967295|N>>>28),N=j+(S^A^R)+k[8]+2272392833&4294967295,j=S+(N<<11&4294967295|N>>>21),N=R+(j^S^A)+k[11]+1839030562&4294967295,R=j+(N<<16&4294967295|N>>>16),N=A+(R^j^S)+k[14]+4259657740&4294967295,A=R+(N<<23&4294967295|N>>>9),N=S+(A^R^j)+k[1]+2763975236&4294967295,S=A+(N<<4&4294967295|N>>>28),N=j+(S^A^R)+k[4]+1272893353&4294967295,j=S+(N<<11&4294967295|N>>>21),N=R+(j^S^A)+k[7]+4139469664&4294967295,R=j+(N<<16&4294967295|N>>>16),N=A+(R^j^S)+k[10]+3200236656&4294967295,A=R+(N<<23&4294967295|N>>>9),N=S+(A^R^j)+k[13]+681279174&4294967295,S=A+(N<<4&4294967295|N>>>28),N=j+(S^A^R)+k[0]+3936430074&4294967295,j=S+(N<<11&4294967295|N>>>21),N=R+(j^S^A)+k[3]+3572445317&4294967295,R=j+(N<<16&4294967295|N>>>16),N=A+(R^j^S)+k[6]+76029189&4294967295,A=R+(N<<23&4294967295|N>>>9),N=S+(A^R^j)+k[9]+3654602809&4294967295,S=A+(N<<4&4294967295|N>>>28),N=j+(S^A^R)+k[12]+3873151461&4294967295,j=S+(N<<11&4294967295|N>>>21),N=R+(j^S^A)+k[15]+530742520&4294967295,R=j+(N<<16&4294967295|N>>>16),N=A+(R^j^S)+k[2]+3299628645&4294967295,A=R+(N<<23&4294967295|N>>>9),N=S+(R^(A|~j))+k[0]+4096336452&4294967295,S=A+(N<<6&4294967295|N>>>26),N=j+(A^(S|~R))+k[7]+1126891415&4294967295,j=S+(N<<10&4294967295|N>>>22),N=R+(S^(j|~A))+k[14]+2878612391&4294967295,R=j+(N<<15&4294967295|N>>>17),N=A+(j^(R|~S))+k[5]+4237533241&4294967295,A=R+(N<<21&4294967295|N>>>11),N=S+(R^(A|~j))+k[12]+1700485571&4294967295,S=A+(N<<6&4294967295|N>>>26),N=j+(A^(S|~R))+k[3]+2399980690&4294967295,j=S+(N<<10&4294967295|N>>>22),N=R+(S^(j|~A))+k[10]+4293915773&4294967295,R=j+(N<<15&4294967295|N>>>17),N=A+(j^(R|~S))+k[1]+2240044497&4294967295,A=R+(N<<21&4294967295|N>>>11),N=S+(R^(A|~j))+k[8]+1873313359&4294967295,S=A+(N<<6&4294967295|N>>>26),N=j+(A^(S|~R))+k[15]+4264355552&4294967295,j=S+(N<<10&4294967295|N>>>22),N=R+(S^(j|~A))+k[6]+2734768916&4294967295,R=j+(N<<15&4294967295|N>>>17),N=A+(j^(R|~S))+k[13]+1309151649&4294967295,A=R+(N<<21&4294967295|N>>>11),N=S+(R^(A|~j))+k[4]+4149444226&4294967295,S=A+(N<<6&4294967295|N>>>26),N=j+(A^(S|~R))+k[11]+3174756917&4294967295,j=S+(N<<10&4294967295|N>>>22),N=R+(S^(j|~A))+k[2]+718787259&4294967295,R=j+(N<<15&4294967295|N>>>17),N=A+(j^(R|~S))+k[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(R+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+R&4294967295,C.g[3]=C.g[3]+j&4294967295}r.prototype.u=function(C,S){S===void 0&&(S=C.length);for(var A=S-this.blockSize,k=this.B,R=this.h,j=0;j<S;){if(R==0)for(;j<=A;)s(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<S;)if(k[R++]=C.charCodeAt(j++),R==this.blockSize){s(this,k),R=0;break}}else for(;j<S;)if(k[R++]=C[j++],R==this.blockSize){s(this,k),R=0;break}}this.h=R,this.o+=S},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;var A=8*this.o;for(S=C.length-8;S<C.length;++S)C[S]=A&255,A/=256;for(this.u(C),C=Array(16),S=A=0;4>S;++S)for(var k=0;32>k;k+=8)C[A++]=this.g[S]>>>k&255;return C};function i(C,S){var A=a;return Object.prototype.hasOwnProperty.call(A,C)?A[C]:A[C]=S(C)}function o(C,S){this.h=S;for(var A=[],k=!0,R=C.length-1;0<=R;R--){var j=C[R]|0;k&&j==S||(A[R]=j,k=!1)}this.g=A}var a={};function l(C){return-128<=C&&128>C?i(C,function(S){return new o([S|0],0>S?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return p;if(0>C)return _(c(-C));for(var S=[],A=1,k=0;C>=A;k++)S[k]=C/A|0,A*=4294967296;return new o(S,0)}function h(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return _(h(C.substring(1),S));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(S,8)),k=p,R=0;R<C.length;R+=8){var j=Math.min(8,C.length-R),N=parseInt(C.substring(R,R+j),S);8>j?(j=c(Math.pow(S,j)),k=k.j(j).add(c(N))):(k=k.j(A),k=k.add(c(N)))}return k}var p=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-_(this).m();for(var C=0,S=1,A=0;A<this.g.length;A++){var k=this.i(A);C+=(0<=k?k:4294967296+k)*S,S*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(w(this))return"0";if(y(this))return"-"+_(this).toString(C);for(var S=c(Math.pow(C,6)),A=this,k="";;){var R=I(A,S).g;A=x(A,R.j(S));var j=((0<A.g.length?A.g[0]:A.h)>>>0).toString(C);if(A=R,w(A))return j+k;for(;6>j.length;)j="0"+j;k=j+k}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function w(C){if(C.h!=0)return!1;for(var S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function y(C){return C.h==-1}t.l=function(C){return C=x(this,C),y(C)?-1:w(C)?0:1};function _(C){for(var S=C.g.length,A=[],k=0;k<S;k++)A[k]=~C.g[k];return new o(A,~C.h).add(f)}t.abs=function(){return y(this)?_(this):this},t.add=function(C){for(var S=Math.max(this.g.length,C.g.length),A=[],k=0,R=0;R<=S;R++){var j=k+(this.i(R)&65535)+(C.i(R)&65535),N=(j>>>16)+(this.i(R)>>>16)+(C.i(R)>>>16);k=N>>>16,j&=65535,N&=65535,A[R]=N<<16|j}return new o(A,A[A.length-1]&-2147483648?-1:0)};function x(C,S){return C.add(_(S))}t.j=function(C){if(w(this)||w(C))return p;if(y(this))return y(C)?_(this).j(_(C)):_(_(this).j(C));if(y(C))return _(this.j(_(C)));if(0>this.l(m)&&0>C.l(m))return c(this.m()*C.m());for(var S=this.g.length+C.g.length,A=[],k=0;k<2*S;k++)A[k]=0;for(k=0;k<this.g.length;k++)for(var R=0;R<C.g.length;R++){var j=this.i(k)>>>16,N=this.i(k)&65535,q=C.i(R)>>>16,U=C.i(R)&65535;A[2*k+2*R]+=N*U,E(A,2*k+2*R),A[2*k+2*R+1]+=j*U,E(A,2*k+2*R+1),A[2*k+2*R+1]+=N*q,E(A,2*k+2*R+1),A[2*k+2*R+2]+=j*q,E(A,2*k+2*R+2)}for(k=0;k<S;k++)A[k]=A[2*k+1]<<16|A[2*k];for(k=S;k<2*S;k++)A[k]=0;return new o(A,0)};function E(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function T(C,S){this.g=C,this.h=S}function I(C,S){if(w(S))throw Error("division by zero");if(w(C))return new T(p,p);if(y(C))return S=I(_(C),S),new T(_(S.g),_(S.h));if(y(S))return S=I(C,_(S)),new T(_(S.g),S.h);if(30<C.g.length){if(y(C)||y(S))throw Error("slowDivide_ only works with positive integers.");for(var A=f,k=S;0>=k.l(C);)A=D(A),k=D(k);var R=M(A,1),j=M(k,1);for(k=M(k,2),A=M(A,2);!w(k);){var N=j.add(k);0>=N.l(C)&&(R=R.add(A),j=N),k=M(k,1),A=M(A,1)}return S=x(C,R.j(S)),new T(R,S)}for(R=p;0<=C.l(S);){for(A=Math.max(1,Math.floor(C.m()/S.m())),k=Math.ceil(Math.log(A)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),j=c(A),N=j.j(S);y(N)||0<N.l(C);)A-=k,j=c(A),N=j.j(S);w(j)&&(j=f),R=R.add(j),C=x(C,N)}return new T(R,C)}t.A=function(C){return I(this,C).h},t.and=function(C){for(var S=Math.max(this.g.length,C.g.length),A=[],k=0;k<S;k++)A[k]=this.i(k)&C.i(k);return new o(A,this.h&C.h)},t.or=function(C){for(var S=Math.max(this.g.length,C.g.length),A=[],k=0;k<S;k++)A[k]=this.i(k)|C.i(k);return new o(A,this.h|C.h)},t.xor=function(C){for(var S=Math.max(this.g.length,C.g.length),A=[],k=0;k<S;k++)A[k]=this.i(k)^C.i(k);return new o(A,this.h^C.h)};function D(C){for(var S=C.g.length+1,A=[],k=0;k<S;k++)A[k]=C.i(k)<<1|C.i(k-1)>>>31;return new o(A,C.h)}function M(C,S){var A=S>>5;S%=32;for(var k=C.g.length-A,R=[],j=0;j<k;j++)R[j]=0<S?C.i(j+A)>>>S|C.i(j+A+1)<<32-S:C.i(j+A);return new o(R,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,WN=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,ui=o}).apply(typeof nT<"u"?nT:typeof self<"u"?self:typeof window<"u"?window:{});var Fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HN,tc,qN,yh,ev,KN,GN,QN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,b){return u==Array.prototype||u==Object.prototype||(u[g]=b.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fd=="object"&&Fd];for(var g=0;g<u.length;++g){var b=u[g];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function s(u,g){if(g)e:{var b=r;u=u.split(".");for(var P=0;P<u.length-1;P++){var V=u[P];if(!(V in b))break e;b=b[V]}u=u[u.length-1],P=b[u],g=g(P),g!=P&&g!=null&&e(b,u,{configurable:!0,writable:!0,value:g})}}function i(u,g){u instanceof String&&(u+="");var b=0,P=!1,V={next:function(){if(!P&&b<u.length){var L=b++;return{value:g(L,u[L]),done:!1}}return P=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}s("Array.prototype.values",function(u){return u||function(){return i(this,function(g,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function c(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function h(u,g,b){return u.call.apply(u.bind,arguments)}function p(u,g,b){if(!u)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,P),u.apply(g,V)}}return function(){return u.apply(g,arguments)}}function f(u,g,b){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,f.apply(null,arguments)}function m(u,g){var b=Array.prototype.slice.call(arguments,1);return function(){var P=b.slice();return P.push.apply(P,arguments),u.apply(this,P)}}function w(u,g){function b(){}b.prototype=g.prototype,u.aa=g.prototype,u.prototype=new b,u.prototype.constructor=u,u.Qb=function(P,V,L){for(var J=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)J[Ve-2]=arguments[Ve];return g.prototype[V].apply(P,J)}}function y(u){const g=u.length;if(0<g){const b=Array(g);for(let P=0;P<g;P++)b[P]=u[P];return b}return[]}function _(u,g){for(let b=1;b<arguments.length;b++){const P=arguments[b];if(l(P)){const V=u.length||0,L=P.length||0;u.length=V+L;for(let J=0;J<L;J++)u[V+J]=P[J]}else u.push(P)}}class x{constructor(g,b){this.i=g,this.j=b,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function E(u){return/^[\s\xa0]*$/.test(u)}function T(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function I(u){return I[" "](u),u}I[" "]=function(){};var D=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function M(u,g,b){for(const P in u)g.call(b,u[P],P,u)}function C(u,g){for(const b in u)g.call(void 0,u[b],b,u)}function S(u){const g={};for(const b in u)g[b]=u[b];return g}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(u,g){let b,P;for(let V=1;V<arguments.length;V++){P=arguments[V];for(b in P)u[b]=P[b];for(let L=0;L<A.length;L++)b=A[L],Object.prototype.hasOwnProperty.call(P,b)&&(u[b]=P[b])}}function R(u){var g=1;u=u.split(":");const b=[];for(;0<g&&u.length;)b.push(u.shift()),g--;return u.length&&b.push(u.join(":")),b}function j(u){a.setTimeout(()=>{throw u},0)}function N(){var u=z;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class q{constructor(){this.h=this.g=null}add(g,b){const P=U.get();P.set(g,b),this.h?this.h.next=P:this.g=P,this.h=P}}var U=new x(()=>new G,u=>u.reset());class G{constructor(){this.next=this.g=this.h=null}set(g,b){this.h=g,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let $,O=!1,z=new q,K=()=>{const u=a.Promise.resolve(void 0);$=()=>{u.then(Z)}};var Z=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(b){j(b)}var g=U;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}O=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};a.addEventListener("test",b,g),a.removeEventListener("test",b,g)}catch{}return u}();function Ye(u,g){if(se.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var b=this.type=u.type,P=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(D){e:{try{I(g.nodeName);var V=!0;break e}catch{}V=!1}V||(g=null)}}else b=="mouseover"?g=u.fromElement:b=="mouseout"&&(g=u.toElement);this.relatedTarget=g,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:_e[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ye.aa.h.call(this)}}w(Ye,se);var _e={2:"touch",3:"pen",4:"mouse"};Ye.prototype.h=function(){Ye.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ft="closure_listenable_"+(1e6*Math.random()|0),an=0;function wn(u,g,b,P,V){this.listener=u,this.proxy=null,this.src=g,this.type=b,this.capture=!!P,this.ha=V,this.key=++an,this.da=this.fa=!1}function Qt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Yn(u){this.src=u,this.g={},this.h=0}Yn.prototype.add=function(u,g,b,P,V){var L=u.toString();u=this.g[L],u||(u=this.g[L]=[],this.h++);var J=Yt(u,g,P,V);return-1<J?(g=u[J],b||(g.fa=!1)):(g=new wn(g,this.src,L,!!P,V),g.fa=b,u.push(g)),g};function xn(u,g){var b=g.type;if(b in u.g){var P=u.g[b],V=Array.prototype.indexOf.call(P,g,void 0),L;(L=0<=V)&&Array.prototype.splice.call(P,V,1),L&&(Qt(g),u.g[b].length==0&&(delete u.g[b],u.h--))}}function Yt(u,g,b,P){for(var V=0;V<u.length;++V){var L=u[V];if(!L.da&&L.listener==g&&L.capture==!!b&&L.ha==P)return V}return-1}var Xn="closure_lm_"+(1e6*Math.random()|0),mr={};function ln(u,g,b,P,V){if(Array.isArray(g)){for(var L=0;L<g.length;L++)ln(u,g[L],b,P,V);return null}return b=ie(b),u&&u[ft]?u.K(g,b,c(P)?!!P.capture:!!P,V):Li(u,g,b,!1,P,V)}function Li(u,g,b,P,V,L){if(!g)throw Error("Invalid event type");var J=c(V)?!!V.capture:!!V,Ve=F(u);if(Ve||(u[Xn]=Ve=new Yn(u)),b=Ve.add(g,b,P,J,L),b.proxy)return b;if(P=Fi(),b.proxy=P,P.src=u,P.listener=b,u.addEventListener)Ie||(V=J),V===void 0&&(V=!1),u.addEventListener(g.toString(),P,V);else if(u.attachEvent)u.attachEvent(No(g.toString()),P);else if(u.addListener&&u.removeListener)u.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Fi(){function u(b){return g.call(u.src,u.listener,b)}const g=bl;return u}function Ke(u,g,b,P,V){if(Array.isArray(g))for(var L=0;L<g.length;L++)Ke(u,g[L],b,P,V);else P=c(P)?!!P.capture:!!P,b=ie(b),u&&u[ft]?(u=u.i,g=String(g).toString(),g in u.g&&(L=u.g[g],b=Yt(L,b,P,V),-1<b&&(Qt(L[b]),Array.prototype.splice.call(L,b,1),L.length==0&&(delete u.g[g],u.h--)))):u&&(u=F(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Yt(g,b,P,V)),(b=-1<u?g[u]:null)&&Mn(b))}function Mn(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[ft])xn(g.i,u);else{var b=u.type,P=u.proxy;g.removeEventListener?g.removeEventListener(b,P,u.capture):g.detachEvent?g.detachEvent(No(b),P):g.addListener&&g.removeListener&&g.removeListener(P),(b=F(g))?(xn(b,u),b.h==0&&(b.src=null,g[Xn]=null)):Qt(u)}}}function No(u){return u in mr?mr[u]:mr[u]="on"+u}function bl(u,g){if(u.da)u=!0;else{g=new Ye(g,this);var b=u.listener,P=u.ha||u.src;u.fa&&Mn(u),u=b.call(P,g)}return u}function F(u){return u=u[Xn],u instanceof Yn?u:null}var Y="__closure_events_fn_"+(1e9*Math.random()>>>0);function ie(u){return typeof u=="function"?u:(u[Y]||(u[Y]=function(g){return u.handleEvent(g)}),u[Y])}function ae(){ne.call(this),this.i=new Yn(this),this.M=this,this.F=null}w(ae,ne),ae.prototype[ft]=!0,ae.prototype.removeEventListener=function(u,g,b,P){Ke(this,u,g,b,P)};function de(u,g){var b,P=u.F;if(P)for(b=[];P;P=P.F)b.push(P);if(u=u.M,P=g.type||g,typeof g=="string")g=new se(g,u);else if(g instanceof se)g.target=g.target||u;else{var V=g;g=new se(P,u),k(g,V)}if(V=!0,b)for(var L=b.length-1;0<=L;L--){var J=g.g=b[L];V=Ce(J,P,!0,g)&&V}if(J=g.g=u,V=Ce(J,P,!0,g)&&V,V=Ce(J,P,!1,g)&&V,b)for(L=0;L<b.length;L++)J=g.g=b[L],V=Ce(J,P,!1,g)&&V}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var b=u.g[g],P=0;P<b.length;P++)Qt(b[P]);delete u.g[g],u.h--}}this.F=null},ae.prototype.K=function(u,g,b,P){return this.i.add(String(u),g,!1,b,P)},ae.prototype.L=function(u,g,b,P){return this.i.add(String(u),g,!0,b,P)};function Ce(u,g,b,P){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var V=!0,L=0;L<g.length;++L){var J=g[L];if(J&&!J.da&&J.capture==b){var Ve=J.listener,At=J.ha||J.src;J.fa&&xn(u.i,J),V=Ve.call(At,P)!==!1&&V}}return V&&!P.defaultPrevented}function Xe(u,g,b){if(typeof u=="function")b&&(u=f(u,b));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(u,g||0)}function xt(u){u.g=Xe(()=>{u.g=null,u.i&&(u.i=!1,xt(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Tl extends ne{constructor(g,b){super(),this.m=g,this.l=b,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:xt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Es(u){ne.call(this),this.h=u,this.g={}}w(Es,ne);var Sl=[];function Gu(u){M(u.g,function(g,b){this.g.hasOwnProperty(b)&&Mn(g)},u),u.g={}}Es.prototype.N=function(){Es.aa.N.call(this),Gu(this)},Es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ui=a.JSON.stringify,gr=a.JSON.parse,$p=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function he(){}he.prototype.h=null;function Me(u){return u.h||(u.h=u.i())}function De(){}var Mt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cn(){se.call(this,"d")}w(cn,se);function bs(){se.call(this,"c")}w(bs,se);var Br={},Px=null;function Qu(){return Px=Px||new ae}Br.La="serverreachability";function Rx(u){se.call(this,Br.La,u)}w(Rx,se);function Cl(u){const g=Qu();de(g,new Rx(g))}Br.STAT_EVENT="statevent";function Nx(u,g){se.call(this,Br.STAT_EVENT,u),this.stat=g}w(Nx,se);function Xt(u){const g=Qu();de(g,new Nx(g,u))}Br.Ma="timingevent";function kx(u,g){se.call(this,Br.Ma,u),this.size=g}w(kx,se);function Al(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},g)}function Il(){this.g=!0}Il.prototype.xa=function(){this.g=!1};function ij(u,g,b,P,V,L){u.info(function(){if(u.g)if(L)for(var J="",Ve=L.split("&"),At=0;At<Ve.length;At++){var Pe=Ve[At].split("=");if(1<Pe.length){var Ot=Pe[0];Pe=Pe[1];var Vt=Ot.split("_");J=2<=Vt.length&&Vt[1]=="type"?J+(Ot+"="+Pe+"&"):J+(Ot+"=redacted&")}}else J=null;else J=L;return"XMLHTTP REQ ("+P+") [attempt "+V+"]: "+g+`
`+b+`
`+J})}function oj(u,g,b,P,V,L,J){u.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+V+"]: "+g+`
`+b+`
`+L+" "+J})}function ko(u,g,b,P){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+lj(u,b)+(P?" "+P:"")})}function aj(u,g){u.info(function(){return"TIMEOUT: "+g})}Il.prototype.info=function(){};function lj(u,g){if(!u.g)return g;if(!g)return null;try{var b=JSON.parse(g);if(b){for(u=0;u<b.length;u++)if(Array.isArray(b[u])){var P=b[u];if(!(2>P.length)){var V=P[1];if(Array.isArray(V)&&!(1>V.length)){var L=V[0];if(L!="noop"&&L!="stop"&&L!="close")for(var J=1;J<V.length;J++)V[J]=""}}}}return Ui(b)}catch{return g}}var Yu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dx={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zp;function Xu(){}w(Xu,he),Xu.prototype.g=function(){return new XMLHttpRequest},Xu.prototype.i=function(){return{}},zp=new Xu;function Ts(u,g,b,P){this.j=u,this.i=g,this.l=b,this.R=P||1,this.U=new Es(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jx}function jx(){this.i=null,this.g="",this.h=!1}var Mx={},Wp={};function Hp(u,g,b){u.L=1,u.v=td($r(g)),u.m=b,u.P=!0,Ox(u,null)}function Ox(u,g){u.F=Date.now(),Ju(u),u.A=$r(u.v);var b=u.A,P=u.R;Array.isArray(P)||(P=[String(P)]),Yx(b.i,"t",P),u.C=0,b=u.j.J,u.h=new jx,u.g=p_(u.j,b?g:null,!u.m),0<u.O&&(u.M=new Tl(f(u.Y,u,u.g),u.O)),g=u.U,b=u.g,P=u.ca;var V="readystatechange";Array.isArray(V)||(V&&(Sl[0]=V.toString()),V=Sl);for(var L=0;L<V.length;L++){var J=ln(b,V[L],P||g.handleEvent,!1,g.h||g);if(!J)break;g.g[J.key]=J}g=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),Cl(),ij(u.i,u.u,u.A,u.l,u.R,u.m)}Ts.prototype.ca=function(u){u=u.target;const g=this.M;g&&zr(u)==3?g.j():this.Y(u)},Ts.prototype.Y=function(u){try{if(u==this.g)e:{const Vt=zr(this.g);var g=this.g.Ba();const Mo=this.g.Z();if(!(3>Vt)&&(Vt!=3||this.g&&(this.h.h||this.g.oa()||r_(this.g)))){this.J||Vt!=4||g==7||(g==8||0>=Mo?Cl(3):Cl(2)),qp(this);var b=this.g.Z();this.X=b;t:if(Vx(this)){var P=r_(this.g);u="";var V=P.length,L=zr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bi(this),Pl(this);var J="";break t}this.h.i=new a.TextDecoder}for(g=0;g<V;g++)this.h.h=!0,u+=this.h.i.decode(P[g],{stream:!(L&&g==V-1)});P.length=0,this.h.g+=u,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=b==200,oj(this.i,this.u,this.A,this.l,this.R,Vt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,At=this.g;if((Ve=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(Ve)){var Pe=Ve;break t}}Pe=null}if(b=Pe)ko(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kp(this,b);else{this.o=!1,this.s=3,Xt(12),Bi(this),Pl(this);break e}}if(this.P){b=!0;let Jn;for(;!this.J&&this.C<J.length;)if(Jn=cj(this,J),Jn==Wp){Vt==4&&(this.s=4,Xt(14),b=!1),ko(this.i,this.l,null,"[Incomplete Response]");break}else if(Jn==Mx){this.s=4,Xt(15),ko(this.i,this.l,J,"[Invalid Chunk]"),b=!1;break}else ko(this.i,this.l,Jn,null),Kp(this,Jn);if(Vx(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||J.length!=0||this.h.h||(this.s=1,Xt(16),b=!1),this.o=this.o&&b,!b)ko(this.i,this.l,J,"[Invalid Chunked Response]"),Bi(this),Pl(this);else if(0<J.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),Zp(Ot),Ot.M=!0,Xt(11))}}else ko(this.i,this.l,J,null),Kp(this,J);Vt==4&&Bi(this),this.o&&!this.J&&(Vt==4?u_(this.j,this):(this.o=!1,Ju(this)))}else Cj(this.g),b==400&&0<J.indexOf("Unknown SID")?(this.s=3,Xt(12)):(this.s=0,Xt(13)),Bi(this),Pl(this)}}}catch{}finally{}};function Vx(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function cj(u,g){var b=u.C,P=g.indexOf(`
`,b);return P==-1?Wp:(b=Number(g.substring(b,P)),isNaN(b)?Mx:(P+=1,P+b>g.length?Wp:(g=g.slice(P,P+b),u.C=P+b,g)))}Ts.prototype.cancel=function(){this.J=!0,Bi(this)};function Ju(u){u.S=Date.now()+u.I,Lx(u,u.I)}function Lx(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Al(f(u.ba,u),g)}function qp(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Ts.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(aj(this.i,this.A),this.L!=2&&(Cl(),Xt(17)),Bi(this),this.s=2,Pl(this)):Lx(this,this.S-u)};function Pl(u){u.j.G==0||u.J||u_(u.j,u)}function Bi(u){qp(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,Gu(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function Kp(u,g){try{var b=u.j;if(b.G!=0&&(b.g==u||Gp(b.h,u))){if(!u.K&&Gp(b.h,u)&&b.G==3){try{var P=b.Da.g.parse(g)}catch{P=null}if(Array.isArray(P)&&P.length==3){var V=P;if(V[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<u.F)ad(b),id(b);else break e;Jp(b),Xt(18)}}else b.za=V[1],0<b.za-b.T&&37500>V[2]&&b.F&&b.v==0&&!b.C&&(b.C=Al(f(b.Za,b),6e3));if(1>=Bx(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else zi(b,11)}else if((u.K||b.g==u)&&ad(b),!E(g))for(V=b.Da.g.parse(g),g=0;g<V.length;g++){let Pe=V[g];if(b.T=Pe[0],Pe=Pe[1],b.G==2)if(Pe[0]=="c"){b.K=Pe[1],b.ia=Pe[2];const Ot=Pe[3];Ot!=null&&(b.la=Ot,b.j.info("VER="+b.la));const Vt=Pe[4];Vt!=null&&(b.Aa=Vt,b.j.info("SVER="+b.Aa));const Mo=Pe[5];Mo!=null&&typeof Mo=="number"&&0<Mo&&(P=1.5*Mo,b.L=P,b.j.info("backChannelRequestTimeoutMs_="+P)),P=b;const Jn=u.g;if(Jn){const cd=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cd){var L=P.h;L.g||cd.indexOf("spdy")==-1&&cd.indexOf("quic")==-1&&cd.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Qp(L,L.h),L.h=null))}if(P.D){const em=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;em&&(P.ya=em,$e(P.I,P.D,em))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-u.F,b.j.info("Handshake RTT: "+b.R+"ms")),P=b;var J=u;if(P.qa=f_(P,P.J?P.ia:null,P.W),J.K){$x(P.h,J);var Ve=J,At=P.L;At&&(Ve.I=At),Ve.B&&(qp(Ve),Ju(Ve)),P.g=J}else l_(P);0<b.i.length&&od(b)}else Pe[0]!="stop"&&Pe[0]!="close"||zi(b,7);else b.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?zi(b,7):Xp(b):Pe[0]!="noop"&&b.l&&b.l.ta(Pe),b.v=0)}}Cl(4)}catch{}}var uj=class{constructor(u,g){this.g=u,this.map=g}};function Fx(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ux(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Bx(u){return u.h?1:u.g?u.g.size:0}function Gp(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Qp(u,g){u.g?u.g.add(g):u.h=g}function $x(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Fx.prototype.cancel=function(){if(this.i=zx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function zx(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const b of u.g.values())g=g.concat(b.D);return g}return y(u.i)}function dj(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var g=[],b=u.length,P=0;P<b;P++)g.push(u[P]);return g}g=[],b=0;for(P in u)g[b++]=u[P];return g}function hj(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var g=[];u=u.length;for(var b=0;b<u;b++)g.push(b);return g}g=[],b=0;for(const P in u)g[b++]=P;return g}}}function Wx(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var b=hj(u),P=dj(u),V=P.length,L=0;L<V;L++)g.call(void 0,P[L],b&&b[L],u)}var Hx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fj(u,g){if(u){u=u.split("&");for(var b=0;b<u.length;b++){var P=u[b].indexOf("="),V=null;if(0<=P){var L=u[b].substring(0,P);V=u[b].substring(P+1)}else L=u[b];g(L,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function $i(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof $i){this.h=u.h,Zu(this,u.j),this.o=u.o,this.g=u.g,ed(this,u.s),this.l=u.l;var g=u.i,b=new kl;b.i=g.i,g.g&&(b.g=new Map(g.g),b.h=g.h),qx(this,b),this.m=u.m}else u&&(g=String(u).match(Hx))?(this.h=!1,Zu(this,g[1]||"",!0),this.o=Rl(g[2]||""),this.g=Rl(g[3]||"",!0),ed(this,g[4]),this.l=Rl(g[5]||"",!0),qx(this,g[6]||"",!0),this.m=Rl(g[7]||"")):(this.h=!1,this.i=new kl(null,this.h))}$i.prototype.toString=function(){var u=[],g=this.j;g&&u.push(Nl(g,Kx,!0),":");var b=this.g;return(b||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Nl(g,Kx,!0),"@"),u.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&u.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Nl(b,b.charAt(0)=="/"?gj:mj,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Nl(b,vj)),u.join("")};function $r(u){return new $i(u)}function Zu(u,g,b){u.j=b?Rl(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function ed(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function qx(u,g,b){g instanceof kl?(u.i=g,wj(u.i,u.h)):(b||(g=Nl(g,yj)),u.i=new kl(g,u.h))}function $e(u,g,b){u.i.set(g,b)}function td(u){return $e(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Rl(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Nl(u,g,b){return typeof u=="string"?(u=encodeURI(u).replace(g,pj),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function pj(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Kx=/[#\/\?@]/g,mj=/[#\?:]/g,gj=/[#\?]/g,yj=/[#\?@]/g,vj=/#/g;function kl(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Ss(u){u.g||(u.g=new Map,u.h=0,u.i&&fj(u.i,function(g,b){u.add(decodeURIComponent(g.replace(/\+/g," ")),b)}))}t=kl.prototype,t.add=function(u,g){Ss(this),this.i=null,u=Do(this,u);var b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(g),this.h+=1,this};function Gx(u,g){Ss(u),g=Do(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Qx(u,g){return Ss(u),g=Do(u,g),u.g.has(g)}t.forEach=function(u,g){Ss(this),this.g.forEach(function(b,P){b.forEach(function(V){u.call(g,V,P,this)},this)},this)},t.na=function(){Ss(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),b=[];for(let P=0;P<g.length;P++){const V=u[P];for(let L=0;L<V.length;L++)b.push(g[P])}return b},t.V=function(u){Ss(this);let g=[];if(typeof u=="string")Qx(this,u)&&(g=g.concat(this.g.get(Do(this,u))));else{u=Array.from(this.g.values());for(let b=0;b<u.length;b++)g=g.concat(u[b])}return g},t.set=function(u,g){return Ss(this),this.i=null,u=Do(this,u),Qx(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},t.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function Yx(u,g,b){Gx(u,g),0<b.length&&(u.i=null,u.g.set(Do(u,g),y(b)),u.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var b=0;b<g.length;b++){var P=g[b];const L=encodeURIComponent(String(P)),J=this.V(P);for(P=0;P<J.length;P++){var V=L;J[P]!==""&&(V+="="+encodeURIComponent(String(J[P]))),u.push(V)}}return this.i=u.join("&")};function Do(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function wj(u,g){g&&!u.j&&(Ss(u),u.i=null,u.g.forEach(function(b,P){var V=P.toLowerCase();P!=V&&(Gx(this,P),Yx(this,V,b))},u)),u.j=g}function xj(u,g){const b=new Il;if(a.Image){const P=new Image;P.onload=m(Cs,b,"TestLoadImage: loaded",!0,g,P),P.onerror=m(Cs,b,"TestLoadImage: error",!1,g,P),P.onabort=m(Cs,b,"TestLoadImage: abort",!1,g,P),P.ontimeout=m(Cs,b,"TestLoadImage: timeout",!1,g,P),a.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=u}else g(!1)}function _j(u,g){const b=new Il,P=new AbortController,V=setTimeout(()=>{P.abort(),Cs(b,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:P.signal}).then(L=>{clearTimeout(V),L.ok?Cs(b,"TestPingServer: ok",!0,g):Cs(b,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(V),Cs(b,"TestPingServer: error",!1,g)})}function Cs(u,g,b,P,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),P(b)}catch{}}function Ej(){this.g=new $p}function bj(u,g,b){const P=b||"";try{Wx(u,function(V,L){let J=V;c(V)&&(J=Ui(V)),g.push(P+L+"="+encodeURIComponent(J))})}catch(V){throw g.push(P+"type="+encodeURIComponent("_badmap")),V}}function nd(u){this.l=u.Ub||null,this.j=u.eb||!1}w(nd,he),nd.prototype.g=function(){return new rd(this.l,this.j)},nd.prototype.i=function(u){return function(){return u}}({});function rd(u,g){ae.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(rd,ae),t=rd.prototype,t.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,jl(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Dl(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jl(this)),this.g&&(this.readyState=3,jl(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xx(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xx(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Dl(this):jl(this),this.readyState==3&&Xx(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Dl(this))},t.Qa=function(u){this.g&&(this.response=u,Dl(this))},t.ga=function(){this.g&&Dl(this)};function Dl(u){u.readyState=4,u.l=null,u.j=null,u.v=null,jl(u)}t.setRequestHeader=function(u,g){this.u.append(u,g)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var b=g.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=g.next();return u.join(`\r
`)};function jl(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(rd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Jx(u){let g="";return M(u,function(b,P){g+=P,g+=":",g+=b,g+=`\r
`}),g}function Yp(u,g,b){e:{for(P in b){var P=!1;break e}P=!0}P||(b=Jx(b),typeof u=="string"?b!=null&&encodeURIComponent(String(b)):$e(u,g,b))}function rt(u){ae.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(rt,ae);var Tj=/^https?$/i,Sj=["POST","PUT"];t=rt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,g,b,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zp.g(),this.v=this.o?Me(this.o):Me(zp),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(L){Zx(this,L);return}if(u=b||"",b=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var V in P)b.set(V,P[V]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const L of P.keys())b.set(L,P.get(L));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(b.keys()).find(L=>L.toLowerCase()=="content-type"),V=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Sj,g,void 0))||P||V||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,J]of b)this.g.setRequestHeader(L,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{n_(this),this.u=!0,this.g.send(u),this.u=!1}catch(L){Zx(this,L)}};function Zx(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,e_(u),sd(u)}function e_(u){u.A||(u.A=!0,de(u,"complete"),de(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,de(this,"complete"),de(this,"abort"),sd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sd(this,!0)),rt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?t_(this):this.bb())},t.bb=function(){t_(this)};function t_(u){if(u.h&&typeof o<"u"&&(!u.v[1]||zr(u)!=4||u.Z()!=2)){if(u.u&&zr(u)==4)Xe(u.Ea,0,u);else if(de(u,"readystatechange"),zr(u)==4){u.h=!1;try{const J=u.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var b;if(!(b=g)){var P;if(P=J===0){var V=String(u.D).match(Hx)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),P=!Tj.test(V?V.toLowerCase():"")}b=P}if(b)de(u,"complete"),de(u,"success");else{u.m=6;try{var L=2<zr(u)?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.Z()+"]",e_(u)}}finally{sd(u)}}}}function sd(u,g){if(u.g){n_(u);const b=u.g,P=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||de(u,"ready");try{b.onreadystatechange=P}catch{}}}function n_(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function zr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<zr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),gr(g)}};function r_(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Cj(u){const g={};u=(u.g&&2<=zr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<u.length;P++){if(E(u[P]))continue;var b=R(u[P]);const V=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const L=g[V]||[];g[V]=L,L.push(b)}C(g,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ml(u,g,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||g}function s_(u){this.Aa=0,this.i=[],this.j=new Il,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ml("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ml("baseRetryDelayMs",5e3,u),this.cb=Ml("retryDelaySeedMs",1e4,u),this.Wa=Ml("forwardChannelMaxRetries",2,u),this.wa=Ml("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Fx(u&&u.concurrentRequestLimit),this.Da=new Ej,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=s_.prototype,t.la=8,t.G=1,t.connect=function(u,g,b,P){Xt(0),this.W=u,this.H=g||{},b&&P!==void 0&&(this.H.OSID=b,this.H.OAID=P),this.F=this.X,this.I=f_(this,null,this.W),od(this)};function Xp(u){if(i_(u),u.G==3){var g=u.U++,b=$r(u.I);if($e(b,"SID",u.K),$e(b,"RID",g),$e(b,"TYPE","terminate"),Ol(u,b),g=new Ts(u,u.j,g),g.L=2,g.v=td($r(b)),b=!1,a.navigator&&a.navigator.sendBeacon)try{b=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!b&&a.Image&&(new Image().src=g.v,b=!0),b||(g.g=p_(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Ju(g)}h_(u)}function id(u){u.g&&(Zp(u),u.g.cancel(),u.g=null)}function i_(u){id(u),u.u&&(a.clearTimeout(u.u),u.u=null),ad(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function od(u){if(!Ux(u.h)&&!u.s){u.s=!0;var g=u.Ga;$||K(),O||($(),O=!0),z.add(g,u),u.B=0}}function Aj(u,g){return Bx(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Al(f(u.Ga,u,g),d_(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const V=new Ts(this,this.j,u);let L=this.o;if(this.S&&(L?(L=S(L),k(L,this.S)):L=this.S),this.m!==null||this.O||(V.H=L,L=null),this.P)e:{for(var g=0,b=0;b<this.i.length;b++){t:{var P=this.i[b];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(g+=P,4096<g){g=b;break e}if(g===4096||b===this.i.length-1){g=b+1;break e}}g=1e3}else g=1e3;g=a_(this,V,g),b=$r(this.I),$e(b,"RID",u),$e(b,"CVER",22),this.D&&$e(b,"X-HTTP-Session-Id",this.D),Ol(this,b),L&&(this.O?g="headers="+encodeURIComponent(String(Jx(L)))+"&"+g:this.m&&Yp(b,this.m,L)),Qp(this.h,V),this.Ua&&$e(b,"TYPE","init"),this.P?($e(b,"$req",g),$e(b,"SID","null"),V.T=!0,Hp(V,b,null)):Hp(V,b,g),this.G=2}}else this.G==3&&(u?o_(this,u):this.i.length==0||Ux(this.h)||o_(this))};function o_(u,g){var b;g?b=g.l:b=u.U++;const P=$r(u.I);$e(P,"SID",u.K),$e(P,"RID",b),$e(P,"AID",u.T),Ol(u,P),u.m&&u.o&&Yp(P,u.m,u.o),b=new Ts(u,u.j,b,u.B+1),u.m===null&&(b.H=u.o),g&&(u.i=g.D.concat(u.i)),g=a_(u,b,1e3),b.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Qp(u.h,b),Hp(b,P,g)}function Ol(u,g){u.H&&M(u.H,function(b,P){$e(g,P,b)}),u.l&&Wx({},function(b,P){$e(g,P,b)})}function a_(u,g,b){b=Math.min(u.i.length,b);var P=u.l?f(u.l.Na,u.l,u):null;e:{var V=u.i;let L=-1;for(;;){const J=["count="+b];L==-1?0<b?(L=V[0].g,J.push("ofs="+L)):L=0:J.push("ofs="+L);let Ve=!0;for(let At=0;At<b;At++){let Pe=V[At].g;const Ot=V[At].map;if(Pe-=L,0>Pe)L=Math.max(0,V[At].g-100),Ve=!1;else try{bj(Ot,J,"req"+Pe+"_")}catch{P&&P(Ot)}}if(Ve){P=J.join("&");break e}}}return u=u.i.splice(0,b),g.D=u,P}function l_(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;$||K(),O||($(),O=!0),z.add(g,u),u.v=0}}function Jp(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Al(f(u.Fa,u),d_(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,c_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Al(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Xt(10),id(this),c_(this))};function Zp(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function c_(u){u.g=new Ts(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=$r(u.qa);$e(g,"RID","rpc"),$e(g,"SID",u.K),$e(g,"AID",u.T),$e(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&$e(g,"TO",u.ja),$e(g,"TYPE","xmlhttp"),Ol(u,g),u.m&&u.o&&Yp(g,u.m,u.o),u.L&&(u.g.I=u.L);var b=u.g;u=u.ia,b.L=1,b.v=td($r(g)),b.m=null,b.P=!0,Ox(b,u)}t.Za=function(){this.C!=null&&(this.C=null,id(this),Jp(this),Xt(19))};function ad(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function u_(u,g){var b=null;if(u.g==g){ad(u),Zp(u),u.g=null;var P=2}else if(Gp(u.h,g))b=g.D,$x(u.h,g),P=1;else return;if(u.G!=0){if(g.o)if(P==1){b=g.m?g.m.length:0,g=Date.now()-g.F;var V=u.B;P=Qu(),de(P,new kx(P,b)),od(u)}else l_(u);else if(V=g.s,V==3||V==0&&0<g.X||!(P==1&&Aj(u,g)||P==2&&Jp(u)))switch(b&&0<b.length&&(g=u.h,g.i=g.i.concat(b)),V){case 1:zi(u,5);break;case 4:zi(u,10);break;case 3:zi(u,6);break;default:zi(u,2)}}}function d_(u,g){let b=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(b*=2),b*g}function zi(u,g){if(u.j.info("Error code "+g),g==2){var b=f(u.fb,u),P=u.Xa;const V=!P;P=new $i(P||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Zu(P,"https"),td(P),V?xj(P.toString(),b):_j(P.toString(),b)}else Xt(2);u.G=0,u.l&&u.l.sa(g),h_(u),i_(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Xt(2)):(this.j.info("Failed to ping google.com"),Xt(1))};function h_(u){if(u.G=0,u.ka=[],u.l){const g=zx(u.h);(g.length!=0||u.i.length!=0)&&(_(u.ka,g),_(u.ka,u.i),u.h.i.length=0,y(u.i),u.i.length=0),u.l.ra()}}function f_(u,g,b){var P=b instanceof $i?$r(b):new $i(b);if(P.g!="")g&&(P.g=g+"."+P.g),ed(P,P.s);else{var V=a.location;P=V.protocol,g=g?g+"."+V.hostname:V.hostname,V=+V.port;var L=new $i(null);P&&Zu(L,P),g&&(L.g=g),V&&ed(L,V),b&&(L.l=b),P=L}return b=u.D,g=u.ya,b&&g&&$e(P,b,g),$e(P,"VER",u.la),Ol(u,P),P}function p_(u,g,b){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new rt(new nd({eb:b})):new rt(u.pa),g.Ha(u.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function m_(){}t=m_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ld(){}ld.prototype.g=function(u,g){return new _n(u,g)};function _n(u,g){ae.call(this),this.g=new s_(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!E(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!E(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new jo(this)}w(_n,ae),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){Xp(this.g)},_n.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.u&&(b={},b.__data__=Ui(u),u=b);g.i.push(new uj(g.Ya++,u)),g.G==3&&od(g)},_n.prototype.N=function(){this.g.l=null,delete this.j,Xp(this.g),delete this.g,_n.aa.N.call(this)};function g_(u){cn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const b in g){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}w(g_,cn);function y_(){bs.call(this),this.status=1}w(y_,bs);function jo(u){this.g=u}w(jo,m_),jo.prototype.ua=function(){de(this.g,"a")},jo.prototype.ta=function(u){de(this.g,new g_(u))},jo.prototype.sa=function(u){de(this.g,new y_)},jo.prototype.ra=function(){de(this.g,"b")},ld.prototype.createWebChannel=ld.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,QN=function(){return new ld},GN=function(){return Qu()},KN=Br,ev={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yu.NO_ERROR=0,Yu.TIMEOUT=8,Yu.HTTP_ERROR=6,yh=Yu,Dx.COMPLETE="complete",qN=Dx,De.EventType=Mt,Mt.OPEN="a",Mt.CLOSE="b",Mt.ERROR="c",Mt.MESSAGE="d",ae.prototype.listen=ae.prototype.K,tc=De,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,HN=rt}).apply(typeof Fd<"u"?Fd:typeof self<"u"?self:typeof window<"u"?window:{});const rT="@firebase/firestore",sT="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yl="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=new _w("@firebase/firestore");function Uo(){return Eo.logLevel}function te(t,...e){if(Eo.logLevel<=Ee.DEBUG){const n=e.map(kw);Eo.debug(`Firestore (${yl}): ${t}`,...n)}}function ps(t,...e){if(Eo.logLevel<=Ee.ERROR){const n=e.map(kw);Eo.error(`Firestore (${yl}): ${t}`,...n)}}function _i(t,...e){if(Eo.logLevel<=Ee.WARN){const n=e.map(kw);Eo.warn(`Firestore (${yl}): ${t}`,...n)}}function kw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,YN(t,r,n)}function YN(t,e,n){let r=`FIRESTORE (${yl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ps(r),new Error(r)}function ke(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||YN(e,s,r)}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends ws{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zt.UNAUTHENTICATED))}shutdown(){}}class uW{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class dW{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ke(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new rs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new rs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new rs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke(typeof r.accessToken=="string",31837,{l:r}),new XN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string",2055,{h:e}),new zt(e)}}class hW{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fW{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new hW(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pW{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ke(this.o===void 0,3512);const r=i=>{i.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new iT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new iT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mW(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=mW(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ye(t,e){return t<e?-1:t>e?1:0}function tv(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return ye(r,s);{const i=JN(),o=gW(i.encode(oT(t,n)),i.encode(oT(e,n)));return o!==0?o:ye(r,s)}}n+=r>65535?2:1}return ye(t.length,e.length)}function oT(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function gW(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ye(t[n],e[n]);return ye(t.length,e.length)}function Ga(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="__name__";class wr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ce(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return wr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof wr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=wr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ye(e.length,n.length)}static compareSegments(e,n){const r=wr.isNumericId(e),s=wr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?wr.extractNumericId(e).compare(wr.extractNumericId(n)):tv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ui.fromString(e.substring(4,e.length-2))}}class Ue extends wr{construct(e,n,r){return new Ue(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ee(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ue(n)}static emptyPath(){return new Ue([])}}const yW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends wr{construct(e,n,r){return new Nt(e,n,r)}static isValidIdentifier(e){return yW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===aT}static keyField(){return new Nt([aT])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ee(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ee(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ee(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ee(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(n)}static emptyPath(){return new Nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(Ue.fromString(e))}static fromName(e){return new oe(Ue.fromString(e).popFirst(5))}static empty(){return new oe(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new Ue(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(t,e,n){if(!n)throw new ee(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function vW(t,e,n,r){if(e===!0&&r===!0)throw new ee(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function lT(t){if(!oe.isDocumentKey(t))throw new ee(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function cT(t){if(oe.isDocumentKey(t))throw new ee(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ek(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function pp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce(12329,{type:typeof t})}function vn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ee(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pp(t);throw new ee(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Uu(t,e){if(!ek(t))throw new ee(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new ee(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=-62135596800,dT=1e6;class He{static now(){return He.fromMillis(Date.now())}static fromDate(e){return He.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*dT);return new He(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ee(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<uT)throw new ee(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dT}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:He._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Uu(e,He._jsonSchema))return new He(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-uT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}He._jsonSchemaVersion="firestore/timestamp/1.0",He._jsonSchema={type:vt("string",He._jsonSchemaVersion),seconds:vt("number"),nanoseconds:vt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{static fromTimestamp(e){return new fe(e)}static min(){return new fe(new He(0,0))}static max(){return new fe(new He(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=-1;function wW(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=fe.fromTimestamp(r===1e9?new He(n+1,0):new He(n,r));return new Ei(s,oe.empty(),e)}function xW(t){return new Ei(t.readTime,t.key,lu)}class Ei{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ei(fe.min(),oe.empty(),lu)}static max(){return new Ei(fe.max(),oe.empty(),lu)}}function _W(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bW{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vl(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==EW)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,r)=>{n(e)})}static reject(e){return new W((n,r)=>{r(e)})}static waitFor(e){return new W((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next(s=>s?W.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new W((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new W((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function TW(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}mp.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=-1;function gp(t){return t==null}function wf(t){return t===0&&1/t==-1/0}function SW(t){return typeof t=="number"&&Number.isInteger(t)&&!wf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk="";function CW(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=hT(e)),e=AW(t.get(n),e);return hT(e)}function AW(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case tk:n+="";break;default:n+=i}}return n}function hT(t){return t+tk+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ji(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ud(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ud(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ud(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ud(this.root,e,this.comparator,!0)}}class Ud{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Rt.RED,this.left=s??Rt.EMPTY,this.right=i??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Rt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Rt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ce(27949);return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw ce(57766)}get value(){throw ce(16141)}get color(){throw ce(16727)}get left(){throw ce(29726)}get right(){throw ce(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pT(this.data.getIterator())}getIteratorFrom(e){return new pT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new bt(this.comparator);return n.data=e,n}}class pT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new In([])}unionWith(e){let n=new bt(Nt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ga(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new rk("Invalid base64 string: "+i):i}}(e);return new jt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const IW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bi(t){if(ke(!!t,39018),typeof t=="string"){let e=0;const n=IW.exec(t);if(ke(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ut(t.seconds),nanos:ut(t.nanos)}}function ut(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ti(t){return typeof t=="string"?jt.fromBase64String(t):jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk="server_timestamp",ik="__type__",ok="__previous_value__",ak="__local_write_time__";function Mw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[ik])===null||n===void 0?void 0:n.stringValue)===sk}function yp(t){const e=t.mapValue.fields[ok];return Mw(e)?yp(e):e}function cu(t){const e=bi(t.mapValue.fields[ak].timestampValue);return new He(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PW{constructor(e,n,r,s,i,o,a,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h}}const xf="(default)";class uu{constructor(e,n){this.projectId=e,this.database=n||xf}static empty(){return new uu("","")}get isDefaultDatabase(){return this.database===xf}isEqual(e){return e instanceof uu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk="__type__",ck="__max__",Bd={mapValue:{fields:{__type__:{stringValue:ck}}}},uk="__vector__",_f="value";function Si(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mw(t)?4:NW(t)?9007199254740991:RW(t)?10:11:ce(28295,{value:t})}function Fr(t,e){if(t===e)return!0;const n=Si(t);if(n!==Si(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cu(t).isEqual(cu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=bi(s.timestampValue),a=bi(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ti(s.bytesValue).isEqual(Ti(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ut(s.geoPointValue.latitude)===ut(i.geoPointValue.latitude)&&ut(s.geoPointValue.longitude)===ut(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ut(s.integerValue)===ut(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ut(s.doubleValue),a=ut(i.doubleValue);return o===a?wf(o)===wf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ga(t.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(fT(o)!==fT(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Fr(o[l],a[l])))return!1;return!0}(t,e);default:return ce(52216,{left:t})}}function du(t,e){return(t.values||[]).find(n=>Fr(n,e))!==void 0}function Qa(t,e){if(t===e)return 0;const n=Si(t),r=Si(e);if(n!==r)return ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ye(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=ut(i.integerValue||i.doubleValue),l=ut(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return mT(t.timestampValue,e.timestampValue);case 4:return mT(cu(t),cu(e));case 5:return tv(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ti(i),l=Ti(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=ye(a[c],l[c]);if(h!==0)return h}return ye(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ye(ut(i.latitude),ut(o.latitude));return a!==0?a:ye(ut(i.longitude),ut(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return gT(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,h;const p=i.fields||{},f=o.fields||{},m=(a=p[_f])===null||a===void 0?void 0:a.arrayValue,w=(l=f[_f])===null||l===void 0?void 0:l.arrayValue,y=ye(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0);return y!==0?y:gT(m,w)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Bd.mapValue&&o===Bd.mapValue)return 0;if(i===Bd.mapValue)return 1;if(o===Bd.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let p=0;p<l.length&&p<h.length;++p){const f=tv(l[p],h[p]);if(f!==0)return f;const m=Qa(a[l[p]],c[h[p]]);if(m!==0)return m}return ye(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ce(23264,{le:n})}}function mT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ye(t,e);const n=bi(t),r=bi(e),s=ye(n.seconds,r.seconds);return s!==0?s:ye(n.nanos,r.nanos)}function gT(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Qa(n[s],r[s]);if(i)return i}return ye(n.length,r.length)}function Ya(t){return nv(t)}function nv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=bi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ti(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=nv(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${nv(n.fields[o])}`;return s+"}"}(t.mapValue):ce(61005,{value:t})}function vh(t){switch(Si(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yp(t);return e?16+vh(e):16;case 5:return 2*t.stringValue.length;case 6:return Ti(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+vh(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ji(r.fields,(i,o)=>{s+=i.length+vh(o)}),s}(t.mapValue);default:throw ce(13486,{value:t})}}function yT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function rv(t){return!!t&&"integerValue"in t}function Ow(t){return!!t&&"arrayValue"in t}function vT(t){return!!t&&"nullValue"in t}function wT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wh(t){return!!t&&"mapValue"in t}function RW(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[lk])===null||n===void 0?void 0:n.stringValue)===uk}function Sc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ji(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Sc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function NW(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ck}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sc(n)}setAll(e){let n=Nt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Sc(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());wh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];wh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ji(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new hn(Sc(this.value))}}function dk(t){const e=[];return ji(t.fields,(n,r)=>{const s=new Nt([n]);if(wh(r)){const i=dk(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ht(e,0,fe.min(),fe.min(),fe.min(),hn.empty(),0)}static newFoundDocument(e,n,r,s){return new Ht(e,1,n,fe.min(),r,s,0)}static newNoDocument(e,n){return new Ht(e,2,n,fe.min(),fe.min(),hn.empty(),0)}static newUnknownDocument(e,n){return new Ht(e,3,n,fe.min(),fe.min(),hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n){this.position=e,this.inclusive=n}}function xT(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=oe.comparator(oe.fromName(o.referenceValue),n.key):r=Qa(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function _T(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n="asc"){this.field=e,this.dir=n}}function kW(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{}class yt extends hk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new jW(e,n,r):n==="array-contains"?new VW(e,r):n==="in"?new LW(e,r):n==="not-in"?new FW(e,r):n==="array-contains-any"?new UW(e,r):new yt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new MW(e,r):new OW(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Qa(n,this.value)):n!==null&&Si(this.value)===Si(n)&&this.matchesComparison(Qa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends hk{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new fr(e,n)}matches(e){return fk(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function fk(t){return t.op==="and"}function pk(t){return DW(t)&&fk(t)}function DW(t){for(const e of t.filters)if(e instanceof fr)return!1;return!0}function sv(t){if(t instanceof yt)return t.field.canonicalString()+t.op.toString()+Ya(t.value);if(pk(t))return t.filters.map(e=>sv(e)).join(",");{const e=t.filters.map(n=>sv(n)).join(",");return`${t.op}(${e})`}}function mk(t,e){return t instanceof yt?function(r,s){return s instanceof yt&&r.op===s.op&&r.field.isEqual(s.field)&&Fr(r.value,s.value)}(t,e):t instanceof fr?function(r,s){return s instanceof fr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&mk(o,s.filters[a]),!0):!1}(t,e):void ce(19439)}function gk(t){return t instanceof yt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ya(n.value)}`}(t):t instanceof fr?function(n){return n.op.toString()+" {"+n.getFilters().map(gk).join(" ,")+"}"}(t):"Filter"}class jW extends yt{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class MW extends yt{constructor(e,n){super(e,"in",n),this.keys=yk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class OW extends yt{constructor(e,n){super(e,"not-in",n),this.keys=yk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function yk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class VW extends yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ow(n)&&du(n.arrayValue,this.value)}}class LW extends yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&du(this.value.arrayValue,n)}}class FW extends yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!du(this.value.arrayValue,n)}}class UW extends yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ow(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>du(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BW{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Pe=null}}function ET(t,e=null,n=[],r=[],s=null,i=null,o=null){return new BW(t,e,n,r,s,i,o)}function Vw(t){const e=pe(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>sv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),gp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ya(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ya(r)).join(",")),e.Pe=n}return e.Pe}function Lw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kW(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_T(t.startAt,e.startAt)&&_T(t.endAt,e.endAt)}function iv(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function $W(t,e,n,r,s,i,o,a){return new xl(t,e,n,r,s,i,o,a)}function vp(t){return new xl(t)}function bT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vk(t){return t.collectionGroup!==null}function Cc(t){const e=pe(t);if(e.Te===null){e.Te=[];const n=new Set;for(const i of e.explicitOrderBy)e.Te.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new bt(Nt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Te.push(new hu(i,r))}),n.has(Nt.keyField().canonicalString())||e.Te.push(new hu(Nt.keyField(),r))}return e.Te}function Dr(t){const e=pe(t);return e.Ie||(e.Ie=zW(e,Cc(t))),e.Ie}function zW(t,e){if(t.limitType==="F")return ET(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new hu(s.field,i)});const n=t.endAt?new Ef(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ef(t.startAt.position,t.startAt.inclusive):null;return ET(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ov(t,e){const n=t.filters.concat([e]);return new xl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function av(t,e,n){return new xl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wp(t,e){return Lw(Dr(t),Dr(e))&&t.limitType===e.limitType}function wk(t){return`${Vw(Dr(t))}|lt:${t.limitType}`}function Bo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>gk(s)).join(", ")}]`),gp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ya(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ya(s)).join(",")),`Target(${r})`}(Dr(t))}; limitType=${t.limitType})`}function xp(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):oe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Cc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=xT(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Cc(r),s)||r.endAt&&!function(o,a,l){const c=xT(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Cc(r),s))}(t,e)}function WW(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xk(t){return(e,n)=>{let r=!1;for(const s of Cc(t)){const i=HW(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function HW(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Qa(l,c):ce(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ji(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return nk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qW=new nt(oe.comparator);function ms(){return qW}const _k=new nt(oe.comparator);function nc(...t){let e=_k;for(const n of t)e=e.insert(n.key,n);return e}function Ek(t){let e=_k;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function eo(){return Ac()}function bk(){return Ac()}function Ac(){return new Po(t=>t.toString(),(t,e)=>t.isEqual(e))}const KW=new nt(oe.comparator),GW=new bt(oe.comparator);function be(...t){let e=GW;for(const n of t)e=e.add(n);return e}const QW=new bt(ye);function YW(){return QW}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wf(e)?"-0":e}}function Tk(t){return{integerValue:""+t}}function Sk(t,e){return SW(e)?Tk(e):Fw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(){this._=void 0}}function XW(t,e,n){return t instanceof fu?function(s,i){const o={fields:{[ik]:{stringValue:sk},[ak]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Mw(i)&&(i=yp(i)),i&&(o.fields[ok]=i),{mapValue:o}}(n,e):t instanceof pu?Ak(t,e):t instanceof mu?Ik(t,e):function(s,i){const o=Ck(s,i),a=TT(o)+TT(s.Ee);return rv(o)&&rv(s.Ee)?Tk(a):Fw(s.serializer,a)}(t,e)}function JW(t,e,n){return t instanceof pu?Ak(t,e):t instanceof mu?Ik(t,e):n}function Ck(t,e){return t instanceof gu?function(r){return rv(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class fu extends _p{}class pu extends _p{constructor(e){super(),this.elements=e}}function Ak(t,e){const n=Pk(e);for(const r of t.elements)n.some(s=>Fr(s,r))||n.push(r);return{arrayValue:{values:n}}}class mu extends _p{constructor(e){super(),this.elements=e}}function Ik(t,e){let n=Pk(e);for(const r of t.elements)n=n.filter(s=>!Fr(s,r));return{arrayValue:{values:n}}}class gu extends _p{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function TT(t){return ut(t.integerValue||t.doubleValue)}function Pk(t){return Ow(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,n){this.field=e,this.transform=n}}function ZW(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof pu&&s instanceof pu||r instanceof mu&&s instanceof mu?Ga(r.elements,s.elements,Fr):r instanceof gu&&s instanceof gu?Fr(r.Ee,s.Ee):r instanceof fu&&s instanceof fu}(t.transform,e.transform)}class eH{constructor(e,n){this.version=e,this.transformResults=n}}class Kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ep{}function Nk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Uw(t.key,Kn.none()):new Bu(t.key,t.data,Kn.none());{const n=t.data,r=hn.empty();let s=new bt(Nt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Mi(t.key,r,new In(s.toArray()),Kn.none())}}function tH(t,e,n){t instanceof Bu?function(s,i,o){const a=s.value.clone(),l=CT(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Mi?function(s,i,o){if(!xh(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=CT(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(kk(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ic(t,e,n,r){return t instanceof Bu?function(i,o,a,l){if(!xh(i.precondition,o))return a;const c=i.value.clone(),h=AT(i.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Mi?function(i,o,a,l){if(!xh(i.precondition,o))return a;const c=AT(i.fieldTransforms,l,o),h=o.data;return h.setAll(kk(i)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,a){return xh(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function nH(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Ck(r.transform,s||null);i!=null&&(n===null&&(n=hn.empty()),n.set(r.field,i))}return n||null}function ST(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ga(r,s,(i,o)=>ZW(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bu extends Ep{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Mi extends Ep{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function kk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function CT(t,e,n){const r=new Map;ke(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,JW(o,a,n[s]))}return r}function AT(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,XW(i,o,e))}return r}class Uw extends Ep{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rH extends Ep{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sH{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&tH(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ic(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ic(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=bk();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=Nk(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&Ga(this.mutations,e.mutations,(n,r)=>ST(n,r))&&Ga(this.baseMutations,e.baseMutations,(n,r)=>ST(n,r))}}class Bw{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ke(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=function(){return KW}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Bw(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iH=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,Te;function aH(t){switch(t){case B.OK:return ce(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return ce(15467,{code:t})}}function Dk(t){if(t===void 0)return ps("GRPC error has no .code"),B.UNKNOWN;switch(t){case pt.OK:return B.OK;case pt.CANCELLED:return B.CANCELLED;case pt.UNKNOWN:return B.UNKNOWN;case pt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case pt.INTERNAL:return B.INTERNAL;case pt.UNAVAILABLE:return B.UNAVAILABLE;case pt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case pt.NOT_FOUND:return B.NOT_FOUND;case pt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case pt.ABORTED:return B.ABORTED;case pt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case pt.DATA_LOSS:return B.DATA_LOSS;default:return ce(39323,{code:t})}}(Te=pt||(pt={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lH=new ui([4294967295,4294967295],0);function IT(t){const e=JN().encode(t),n=new WN;return n.update(e),new Uint8Array(n.digest())}function PT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ui([n,r],0),new ui([s,i],0)]}class $w{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new rc(`Invalid padding: ${n}`);if(r<0)throw new rc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new rc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new rc(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=ui.fromNumber(this.fe)}pe(e,n,r){let s=e.add(n.multiply(ui.fromNumber(r)));return s.compare(lH)===1&&(s=new ui([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=IT(e),[r,s]=PT(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);if(!this.ye(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new $w(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;const n=IT(e),[r,s]=PT(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class rc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,$u.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new bp(fe.min(),s,new nt(ye),ms(),be())}}class $u{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new $u(r,n,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=s}}class jk{constructor(e,n){this.targetId=e,this.De=n}}class Mk{constructor(e,n,r=jt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class RT{constructor(){this.ve=0,this.Ce=NT(),this.Fe=jt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=be(),n=be(),r=be();return this.Ce.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ce(38017,{changeType:i})}}),new $u(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=NT()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ke(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class cH{constructor(e){this.We=e,this.Ge=new Map,this.ze=ms(),this.je=$d(),this.Je=$d(),this.He=new nt(ye)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:ce(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,s)=>{this.nt(s)&&n(s)})}it(e){const n=e.targetId,r=e.De.count,s=this.st(n);if(s){const i=s.target;if(iv(i))if(r===0){const o=new oe(i.path);this.Xe(n,o,Ht.newNoDocument(o,fe.min()))}else ke(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const a=this._t(e),l=a?this.ut(a,e,o):1;if(l!==0){this.rt(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,c)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ti(r).toUint8Array()}catch(l){if(l instanceof rk)return _i("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new $w(o,s,i)}catch(l){return _i(l instanceof rc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.We.lt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,i,null),s++)}),s}Pt(e){const n=new Map;this.Ge.forEach((i,o)=>{const a=this.st(o);if(a){if(i.current&&iv(a.target)){const l=new oe(a.target.path);this.Tt(l).has(o)||this.It(o,l)||this.Xe(o,l,Ht.newNoDocument(l,e))}i.Ne&&(n.set(o,i.Le()),i.ke())}});let r=be();this.Je.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.st(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ze.forEach((i,o)=>o.setReadTime(e));const s=new bp(e,n,this.He,this.ze,r);return this.ze=ms(),this.je=$d(),this.Je=$d(),this.He=new nt(ye),s}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const s=this.tt(e);this.It(e,n)?s.qe(n,1):s.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new RT,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new bt(ye),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new bt(ye),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new RT),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function $d(){return new nt(oe.comparator)}function NT(){return new nt(oe.comparator)}const uH={asc:"ASCENDING",desc:"DESCENDING"},dH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hH={and:"AND",or:"OR"};class fH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function lv(t,e){return t.useProto3Json||gp(e)?e:{value:e}}function bf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ok(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pH(t,e){return bf(t,e.toTimestamp())}function jr(t){return ke(!!t,49232),fe.fromTimestamp(function(n){const r=bi(n);return new He(r.seconds,r.nanos)}(t))}function zw(t,e){return cv(t,e).canonicalString()}function cv(t,e){const n=function(s){return new Ue(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Vk(t){const e=Ue.fromString(t);return ke($k(e),10190,{key:e.toString()}),e}function uv(t,e){return zw(t.databaseId,e.path)}function ig(t,e){const n=Vk(e);if(n.get(1)!==t.databaseId.projectId)throw new ee(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ee(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(Fk(n))}function Lk(t,e){return zw(t.databaseId,e)}function mH(t){const e=Vk(t);return e.length===4?Ue.emptyPath():Fk(e)}function dv(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Fk(t){return ke(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function kT(t,e,n){return{name:uv(t,e),fields:n.value.mapValue.fields}}function gH(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ce(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(ke(h===void 0||typeof h=="string",58123),jt.fromBase64String(h||"")):(ke(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),jt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?B.UNKNOWN:Dk(c.code);return new ee(h,c.message||"")}(o);n=new Mk(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ig(t,r.document.name),i=jr(r.document.updateTime),o=r.document.createTime?jr(r.document.createTime):fe.min(),a=new hn({mapValue:{fields:r.document.fields}}),l=Ht.newFoundDocument(s,i,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new _h(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ig(t,r.document),i=r.readTime?jr(r.readTime):fe.min(),o=Ht.newNoDocument(s,i),a=r.removedTargetIds||[];n=new _h([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ig(t,r.document),i=r.removedTargetIds||[];n=new _h([],i,s,null)}else{if(!("filter"in e))return ce(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new oH(s,i),a=r.targetId;n=new jk(a,o)}}return n}function yH(t,e){let n;if(e instanceof Bu)n={update:kT(t,e.key,e.value)};else if(e instanceof Uw)n={delete:uv(t,e.key)};else if(e instanceof Mi)n={update:kT(t,e.key,e.data),updateMask:CH(e.fieldMask)};else{if(!(e instanceof rH))return ce(16599,{Rt:e.type});n={verify:uv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof fu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof pu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof mu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof gu)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw ce(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:pH(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ce(27497)}(t,e.precondition)),n}function vH(t,e){return t&&t.length>0?(ke(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?jr(s.updateTime):jr(i);return o.isEqual(fe.min())&&(o=jr(i)),new eH(o,s.transformResults||[])}(n,e))):[]}function wH(t,e){return{documents:[Lk(t,e.path)]}}function xH(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Lk(t,s);const i=function(c){if(c.length!==0)return Bk(fr.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(h=>function(f){return{field:$o(f.field),direction:bH(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=lv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{Vt:n,parent:s}}function _H(t){let e=mH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ke(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(p){const f=Uk(p);return f instanceof fr&&pk(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(f=>function(w){return new hu(zo(w.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(p){let f;return f=typeof p=="object"?p.value:p,gp(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(p){const f=!!p.before,m=p.values||[];return new Ef(m,f)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const f=!p.before,m=p.values||[];return new Ef(m,f)}(n.endAt)),$W(e,s,o,i,a,"F",l,c)}function EH(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Uk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=zo(n.unaryFilter.field);return yt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=zo(n.unaryFilter.field);return yt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=zo(n.unaryFilter.field);return yt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=zo(n.unaryFilter.field);return yt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ce(61313);default:return ce(60726)}}(t):t.fieldFilter!==void 0?function(n){return yt.create(zo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ce(58110);default:return ce(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fr.create(n.compositeFilter.filters.map(r=>Uk(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ce(1026)}}(n.compositeFilter.op))}(t):ce(30097,{filter:t})}function bH(t){return uH[t]}function TH(t){return dH[t]}function SH(t){return hH[t]}function $o(t){return{fieldPath:t.canonicalString()}}function zo(t){return Nt.fromServerFormat(t.fieldPath)}function Bk(t){return t instanceof yt?function(n){if(n.op==="=="){if(wT(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NAN"}};if(vT(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(wT(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NOT_NAN"}};if(vT(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$o(n.field),op:TH(n.op),value:n.value}}}(t):t instanceof fr?function(n){const r=n.getFilters().map(s=>Bk(s));return r.length===1?r[0]:{compositeFilter:{op:SH(n.op),filters:r}}}(t):ce(54877,{filter:t})}function CH(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $k(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n,r,s,i=fe.min(),o=fe.min(),a=jt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ys(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AH{constructor(e){this.gt=e}}function IH(t){const e=_H({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?av(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(){this.Dn=new RH}addToCollectionParentIndex(e,n){return this.Dn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(Ei.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(Ei.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class RH{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new bt(Ue.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new bt(Ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zk=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(zk,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Xa(0)}static ur(){return new Xa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="LruGarbageCollector",NH=1048576;function MT([t,e],[n,r]){const s=ye(t,n);return s===0?ye(e,r):s}class kH{constructor(e){this.Tr=e,this.buffer=new bt(MT),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();MT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DH{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){te(jT,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wl(n)?te(jT,"Ignoring IndexedDB error during garbage collection: ",n):await vl(n)}await this.Rr(3e5)})}}class jH{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return W.resolve(mp.ue);const r=new kH(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(DT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DT):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,s,i,o,a,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(c=Date.now(),Uo()<=Ee.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${p} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function MH(t,e){return new jH(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{constructor(){this.changes=new Po(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ic(r.mutation,s,In.empty(),He.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=be()){const s=eo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=nc();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=eo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,be()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=ms();const o=Ac(),a=function(){return Ac()}();return n.forEach((l,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof Mi)?i=i.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Ic(h.mutation,c,h.mutation.getFieldMask(),He.now())):o.set(c.key,In.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var p;return a.set(c,new VH(h,(p=o.get(c))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ac();let s=new nt((o,a)=>o-a),i=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||In.empty();h=a.applyToLocalView(c,h),r.set(l,h);const p=(s.get(a.batchId)||be()).add(l);s=s.insert(a.batchId,p)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,p=bk();h.forEach(f=>{if(!i.has(f)){const m=Nk(n.get(f),r.get(f));m!==null&&p.set(f,m),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,p))}return W.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):W.resolve(eo());let a=lu,l=i;return o.next(c=>W.forEach(c,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),i.get(h)?W.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,be())).next(h=>({batchId:a,changes:Ek(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let s=nc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=nc();return this.indexManager.getCollectionParents(e,i).next(a=>W.forEach(a,l=>{const c=function(p,f){return new xl(f,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(h=>{h.forEach((p,f)=>{o=o.insert(p,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,Ht.newInvalidDocument(h)))});let a=nc();return o.forEach((l,c)=>{const h=i.get(l);h!==void 0&&Ic(h.mutation,c,In.empty(),He.now()),xp(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FH{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return W.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(s){return{id:s.id,version:s.version,createTime:jr(s.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(s){return{name:s.name,query:IH(s.bundledQuery),readTime:jr(s.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(){this.overlays=new nt(oe.comparator),this.kr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=eo();return W.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.wt(e,n,i)}),W.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.kr.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const s=eo(),i=n.length+1,o=new oe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return W.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new nt((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=i.get(c.largestBatchId);h===null&&(h=eo(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=eo(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=s)););return W.resolve(a)}wt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new iH(n,r));let i=this.kr.get(n);i===void 0&&(i=be(),this.kr.set(n,i)),this.kr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BH{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(){this.qr=new bt(Tt.Qr),this.$r=new bt(Tt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Tt(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Tt(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new oe(new Ue([])),r=new Tt(n,e),s=new Tt(n,e+1),i=[];return this.$r.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new oe(new Ue([])),r=new Tt(n,e),s=new Tt(n,e+1);let i=be();return this.$r.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Tt(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Tt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return oe.comparator(e.key,n.key)||ye(e.Hr,n.Hr)}static Ur(e,n){return ye(e.Hr,n.Hr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new bt(Tt.Qr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new sH(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Yr=this.Yr.add(new Tt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return W.resolve(o)}lookupMutationBatch(e,n){return W.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return W.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?jw:this.er-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tt(n,0),s=new Tt(n,Number.POSITIVE_INFINITY),i=[];return this.Yr.forEachInRange([r,s],o=>{const a=this.Zr(o.Hr);i.push(a)}),W.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new bt(ye);return n.forEach(s=>{const i=new Tt(s,0),o=new Tt(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([i,o],a=>{r=r.add(a.Hr)})}),W.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;oe.isDocumentKey(i)||(i=i.child(""));const o=new Tt(new oe(i),0);let a=new bt(ye);return this.Yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Hr)),!0)},o),W.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ke(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return W.forEach(n.mutations,s=>{const i=new Tt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new Tt(n,0),s=this.Yr.firstAfterOrEqual(r);return W.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{constructor(e){this.ni=e,this.docs=function(){return new nt(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():Ht.newInvalidDocument(n))}getEntries(e,n){let r=ms();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ht.newInvalidDocument(s))}),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ms();const o=n.path,a=new oe(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||_W(xW(h),r)<=0||(s.has(h.key)||xp(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return W.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ce(9500)}ri(e,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new WH(this)}getSize(e){return W.resolve(this.size)}}class WH extends OH{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)}),W.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH{constructor(e){this.persistence=e,this.ii=new Po(n=>Vw(n),Lw),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.si=0,this.oi=new Ww,this.targetCount=0,this._i=Xa.ar()}forEachTarget(e,n){return this.ii.forEach((r,s)=>n(s)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),W.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Xa(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.hr(n),W.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),W.waitFor(i).next(()=>s)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),W.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),W.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,n){this.ai={},this.overlays={},this.ui=new mp(0),this.ci=!1,this.ci=!0,this.li=new BH,this.referenceDelegate=e(this),this.hi=new HH(this),this.indexManager=new PH,this.remoteDocumentCache=function(s){return new zH(s)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new AH(n),this.Ti=new FH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UH,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new $H(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const s=new qH(this.ui.next());return this.referenceDelegate.Ii(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return W.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class qH extends bW{constructor(e){super(),this.currentSequenceNumber=e}}class Hw{constructor(e){this.persistence=e,this.Ai=new Ww,this.Ri=null}static Vi(e){return new Hw(e)}get mi(){if(this.Ri)return this.Ri;throw ce(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(s=>this.mi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.mi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.mi,r=>{const s=oe.fromPath(r);return this.fi(e,s).next(i=>{i||n.removeEntry(s,fe.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return W.or([()=>W.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Tf{constructor(e,n){this.persistence=e,this.gi=new Po(r=>CW(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=MH(this,n)}static Vi(e,n){return new Tf(e,n)}Ii(){}di(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return W.forEach(this.gi,(r,s)=>this.Sr(e,r,s).next(i=>i?W.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ri(e,o=>this.Sr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,fe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),W.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),W.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vh(e.data.value)),n}Sr(e,n,r){return W.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.gi.get(n);return W.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=s}static Es(e,n){let r=be(),s=be();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new qw(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GH{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return C$()?8:TW(Gt())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ps(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ys(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new KH;return this.ws(e,n,o).next(a=>{if(i.result=a,this.Rs)return this.Ss(e,n,o,a.size)})}).next(()=>i.result)}Ss(e,n,r,s){return r.documentReadCount<this.Vs?(Uo()<=Ee.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Bo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),W.resolve()):(Uo()<=Ee.DEBUG&&te("QueryEngine","Query:",Bo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(Uo()<=Ee.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Bo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dr(n))):W.resolve())}ps(e,n){if(bT(n))return W.resolve(null);let r=Dr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=av(n,null,"F"),r=Dr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=be(...i);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.bs(n,a);return this.Ds(n,c,o,l.readTime)?this.ps(e,av(n,null,"F")):this.vs(e,c,n,l)}))})))}ys(e,n,r,s){return bT(n)||s.isEqual(fe.min())?W.resolve(null):this.gs.getDocuments(e,r).next(i=>{const o=this.bs(n,i);return this.Ds(n,o,r,s)?W.resolve(null):(Uo()<=Ee.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Bo(n)),this.vs(e,o,n,wW(s,lu)).next(a=>a))})}bs(e,n){let r=new bt(xk(e));return n.forEach((s,i)=>{xp(e,i)&&(r=r.add(i))}),r}Ds(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ws(e,n,r){return Uo()<=Ee.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Bo(n)),this.gs.getDocumentsMatchingQuery(e,n,Ei.min(),r)}vs(e,n,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="LocalStore",QH=3e8;class YH{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.Fs=new nt(ye),this.Ms=new Po(i=>Vw(i),Lw),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LH(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function XH(t,e,n,r){return new YH(t,e,n,r)}async function Hk(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=be();for(const c of s){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of i){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Bs:c,removedBatchIds:o,addedBatchIds:a}))})})}function JH(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const p=c.batch,f=p.keys();let m=W.resolve();return f.forEach(w=>{m=m.next(()=>h.getEntry(l,w)).next(y=>{const _=c.docVersions.get(w);ke(_!==null,48541),y.version.compareTo(_)<0&&(p.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),h.addEntry(y)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=be();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function qk(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function ZH(t,e){const n=pe(t),r=e.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const a=[];e.targetChanges.forEach((h,p)=>{const f=s.get(p);if(!f)return;a.push(n.hi.removeMatchingKeys(i,h.removedDocuments,p).next(()=>n.hi.addMatchingKeys(i,h.addedDocuments,p)));let m=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(jt.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),s=s.insert(p,m),function(y,_,x){return y.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=QH?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(f,m,h)&&a.push(n.hi.updateTargetData(i,m))});let l=ms(),c=be();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(eq(i,o,e.documentUpdates).next(h=>{l=h.Ls,c=h.ks})),!r.isEqual(fe.min())){const h=n.hi.getLastRemoteSnapshotVersion(i).next(p=>n.hi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return W.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Fs=s,i))}function eq(t,e,n){let r=be(),s=be();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ms();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(fe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):te(Kw,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ls:o,ks:s}})}function tq(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=jw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function nq(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.hi.getTargetData(r,e).next(i=>i?(s=i,W.resolve(s)):n.hi.allocateTargetId(r).next(o=>(s=new Ys(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Fs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function hv(t,e,n){const r=pe(t),s=r.Fs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!wl(o))throw o;te(Kw,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(s.target)}function OT(t,e,n){const r=pe(t);let s=fe.min(),i=be();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const p=pe(l),f=p.Ms.get(h);return f!==void 0?W.resolve(p.Fs.get(f)):p.hi.getTargetData(c,h)}(r,o,Dr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:fe.min(),n?i:be())).next(a=>(rq(r,WW(e),a),{documents:a,qs:i})))}function rq(t,e,n){let r=t.xs.get(e)||fe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.xs.set(e,r)}class VT{constructor(){this.activeTargetIds=YW()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sq{constructor(){this.Fo=new VT,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new VT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iq{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="ConnectivityMonitor";class FT{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){te(LT,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){te(LT,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zd=null;function fv(){return zd===null?zd=function(){return 268435456+Math.round(2147483648*Math.random())}():zd++,"0x"+zd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="RestConnection",oq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aq{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===xf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=fv(),a=this.Go(e,n.toUriEncodedString());te(og,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,s,i);const{host:c}=new URL(a),h=pl(c);return this.jo(e,a,l,r,h).then(p=>(te(og,`Received RPC '${e}' ${o}: `,p),p),p=>{throw _i(og,`RPC '${e}' ${o} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Go(e,n){const r=oq[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class cq extends aq{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,s,i){const o=fv();return new Promise((a,l)=>{const c=new HN;c.setWithCredentials(!0),c.listenOnce(qN.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case yh.NO_ERROR:const p=c.getResponseJson();te(Bt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),a(p);break;case yh.TIMEOUT:te(Bt,`RPC '${e}' ${o} timed out`),l(new ee(B.DEADLINE_EXCEEDED,"Request time out"));break;case yh.HTTP_ERROR:const f=c.getStatus();if(te(Bt,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const w=m==null?void 0:m.error;if(w&&w.status&&w.message){const y=function(x){const E=x.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(E)>=0?E:B.UNKNOWN}(w.status);l(new ee(y,w.message))}else l(new ee(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ee(B.UNAVAILABLE,"Connection failed."));break;default:ce(9055,{c_:e,streamId:o,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{te(Bt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);te(Bt,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",h,r,15)})}P_(e,n,r){const s=fv(),i=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=QN(),a=GN(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");te(Bt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const p=o.createWebChannel(h,l);this.T_(p);let f=!1,m=!1;const w=new lq({Ho:_=>{m?te(Bt,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(f||(te(Bt,`Opening RPC '${e}' stream ${s} transport.`),p.open(),f=!0),te(Bt,`RPC '${e}' stream ${s} sending:`,_),p.send(_))},Yo:()=>p.close()}),y=(_,x,E)=>{_.listen(x,T=>{try{E(T)}catch(I){setTimeout(()=>{throw I},0)}})};return y(p,tc.EventType.OPEN,()=>{m||(te(Bt,`RPC '${e}' stream ${s} transport opened.`),w.s_())}),y(p,tc.EventType.CLOSE,()=>{m||(m=!0,te(Bt,`RPC '${e}' stream ${s} transport closed`),w.__(),this.I_(p))}),y(p,tc.EventType.ERROR,_=>{m||(m=!0,_i(Bt,`RPC '${e}' stream ${s} transport errored. Name:`,_.name,"Message:",_.message),w.__(new ee(B.UNAVAILABLE,"The operation could not be completed")))}),y(p,tc.EventType.MESSAGE,_=>{var x;if(!m){const E=_.data[0];ke(!!E,16349);const T=E,I=(T==null?void 0:T.error)||((x=T[0])===null||x===void 0?void 0:x.error);if(I){te(Bt,`RPC '${e}' stream ${s} received error:`,I);const D=I.status;let M=function(A){const k=pt[A];if(k!==void 0)return Dk(k)}(D),C=I.message;M===void 0&&(M=B.INTERNAL,C="Unknown error status: "+D+" with message "+I.message),m=!0,w.__(new ee(M,C)),p.close()}else te(Bt,`RPC '${e}' stream ${s} received:`,E),w.a_(E)}}),y(a,KN.STAT_EVENT,_=>{_.stat===ev.PROXY?te(Bt,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===ev.NOPROXY&&te(Bt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.o_()},0),w}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function ag(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(t){return new fH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=s,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-r);s>0&&te("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="PersistentStream";class Gk{constructor(e,n,r,s,i,o,a,l){this.Fi=e,this.w_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Kk(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(ps(n.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.b_===n&&this.W_(r,s)},r=>{e(()=>{const s=new ee(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{r(()=>this.G_(s))}),this.stream.onMessage(s=>{r(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return te(UT,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(te(UT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uq extends Gk{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=gH(this.serializer,e),r=function(i){if(!("targetChange"in i))return fe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?fe.min():o.readTime?jr(o.readTime):fe.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=dv(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=iv(l)?{documents:wH(i,l)}:{query:xH(i,l).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Ok(i,o.resumeToken);const c=lv(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(fe.min())>0){a.readTime=bf(i,o.snapshotVersion.toTimestamp());const c=lv(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=EH(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=dv(this.serializer),n.removeTarget=e,this.k_(n)}}class dq extends Gk{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=vH(e.writeResults,e.commitTime),r=jr(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=dv(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>yH(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{}class fq extends hq{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new ee(B.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,cv(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ee(B.UNKNOWN,i.toString())})}Jo(e,n,r,s,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,cv(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ee(B.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class pq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ps(n),this._a=!1):te("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo="RemoteStore";class mq{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{Ro(this)&&(te(bo,"Restarting streams for network reachability change."),await async function(l){const c=pe(l);c.Ia.add(4),await zu(c),c.Aa.set("Unknown"),c.Ia.delete(4),await Sp(c)}(this))})}),this.Aa=new pq(r,s)}}async function Sp(t){if(Ro(t))for(const e of t.da)await e(!0)}async function zu(t){for(const e of t.da)await e(!1)}function Qk(t,e){const n=pe(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Xw(n)?Yw(n):_l(n).x_()&&Qw(n,e))}function Gw(t,e){const n=pe(t),r=_l(n);n.Ta.delete(e),r.x_()&&Yk(n,e),n.Ta.size===0&&(r.x_()?r.B_():Ro(n)&&n.Aa.set("Unknown"))}function Qw(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_l(t).H_(e)}function Yk(t,e){t.Ra.$e(e),_l(t).Y_(e)}function Yw(t){t.Ra=new cH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),_l(t).start(),t.Aa.aa()}function Xw(t){return Ro(t)&&!_l(t).M_()&&t.Ta.size>0}function Ro(t){return pe(t).Ia.size===0}function Xk(t){t.Ra=void 0}async function gq(t){t.Aa.set("Online")}async function yq(t){t.Ta.forEach((e,n)=>{Qw(t,e)})}async function vq(t,e){Xk(t),Xw(t)?(t.Aa.la(e),Yw(t)):t.Aa.set("Unknown")}async function wq(t,e,n){if(t.Aa.set("Online"),e instanceof Mk&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ta.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ta.delete(a),s.Ra.removeTarget(a))}(t,e)}catch(r){te(bo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sf(t,r)}else if(e instanceof _h?t.Ra.Ye(e):e instanceof jk?t.Ra.it(e):t.Ra.et(e),!n.isEqual(fe.min()))try{const r=await qk(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Ra.Pt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ta.get(c);h&&i.Ta.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=i.Ta.get(l);if(!h)return;i.Ta.set(l,h.withResumeToken(jt.EMPTY_BYTE_STRING,h.snapshotVersion)),Yk(i,l);const p=new Ys(h.target,l,c,h.sequenceNumber);Qw(i,p)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){te(bo,"Failed to raise snapshot:",r),await Sf(t,r)}}async function Sf(t,e,n){if(!wl(e))throw e;t.Ia.add(1),await zu(t),t.Aa.set("Offline"),n||(n=()=>qk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te(bo,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Sp(t)})}function Jk(t,e){return e().catch(n=>Sf(t,n,e))}async function Cp(t){const e=pe(t),n=Ci(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:jw;for(;xq(e);)try{const s=await tq(e.localStore,r);if(s===null){e.Pa.length===0&&n.B_();break}r=s.batchId,_q(e,s)}catch(s){await Sf(e,s)}Zk(e)&&e2(e)}function xq(t){return Ro(t)&&t.Pa.length<10}function _q(t,e){t.Pa.push(e);const n=Ci(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function Zk(t){return Ro(t)&&!Ci(t).M_()&&t.Pa.length>0}function e2(t){Ci(t).start()}async function Eq(t){Ci(t).na()}async function bq(t){const e=Ci(t);for(const n of t.Pa)e.X_(n.mutations)}async function Tq(t,e,n){const r=t.Pa.shift(),s=Bw.from(r,e,n);await Jk(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Cp(t)}async function Sq(t,e){e&&Ci(t).Z_&&await async function(r,s){if(function(o){return aH(o)&&o!==B.ABORTED}(s.code)){const i=r.Pa.shift();Ci(r).N_(),await Jk(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Cp(r)}}(t,e),Zk(t)&&e2(t)}async function BT(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),te(bo,"RemoteStore received new credentials");const r=Ro(n);n.Ia.add(3),await zu(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Sp(n)}async function Cq(t,e){const n=pe(t);e?(n.Ia.delete(2),await Sp(n)):e||(n.Ia.add(2),await zu(n),n.Aa.set("Unknown"))}function _l(t){return t.Va||(t.Va=function(n,r,s){const i=pe(n);return i.ia(),new uq(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:gq.bind(null,t),e_:yq.bind(null,t),n_:vq.bind(null,t),J_:wq.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),Xw(t)?Yw(t):t.Aa.set("Unknown")):(await t.Va.stop(),Xk(t))})),t.Va}function Ci(t){return t.ma||(t.ma=function(n,r,s){const i=pe(n);return i.ia(),new dq(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:Eq.bind(null,t),n_:Sq.bind(null,t),ea:bq.bind(null,t),ta:Tq.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Cp(t)):(await t.ma.stop(),t.Pa.length>0&&(te(bo,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Jw(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zw(t,e){if(ps("AsyncQueue",`${e}: ${t}`),wl(t))return new ee(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{static emptySet(e){return new Ea(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=nc(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ea)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ea;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(){this.fa=new nt(oe.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):ce(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ja{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ja(e,n,Ea.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aq{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class Iq{constructor(){this.queries=zT(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const s=pe(n),i=s.queries;s.queries=zT(),i.forEach((o,a)=>{for(const l of a.wa)l.onError(r)})})(this,new ee(B.ABORTED,"Firestore shutting down"))}}function zT(){return new Po(t=>wk(t),wp)}async function ex(t,e){const n=pe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.ba()&&(r=2):(i=new Aq,r=e.ba()?0:1);try{switch(r){case 0:i.ya=await n.onListen(s,!0);break;case 1:i.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Zw(o,`Initialization of query '${Bo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.wa.push(e),e.va(n.onlineState),i.ya&&e.Ca(i.ya)&&nx(n)}async function tx(t,e){const n=pe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.wa.indexOf(e);o>=0&&(i.wa.splice(o,1),i.wa.length===0?s=e.ba()?0:1:!i.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Pq(t,e){const n=pe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.wa)a.Ca(s)&&(r=!0);o.ya=s}}r&&nx(n)}function Rq(t,e,n){const r=pe(t),s=r.queries.get(e);if(s)for(const i of s.wa)i.onError(n);r.queries.delete(e)}function nx(t){t.Da.forEach(e=>{e.next()})}var pv,WT;(WT=pv||(pv={})).Fa="default",WT.Cache="cache";class rx{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ja(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Ja.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==pv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.key=e}}class n2{constructor(e){this.key=e}}class Nq{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=be(),this.mutatedKeys=be(),this.Xa=xk(e),this.eu=new Ea(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new $T,s=n?n.eu:this.eu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,p)=>{const f=s.get(h),m=xp(this.query,p)?p:null,w=!!f&&this.mutatedKeys.has(f.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let _=!1;f&&m?f.data.isEqual(m.data)?w!==y&&(r.track({type:3,doc:m}),_=!0):this.iu(f,m)||(r.track({type:2,doc:m}),_=!0,(l&&this.Xa(m,l)>0||c&&this.Xa(m,c)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),_=!0):f&&!m&&(r.track({type:1,doc:f}),_=!0,(l||c)&&(a=!0)),_&&(m?(o=o.add(m),i=y?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{eu:o,ru:r,Ds:a,mutatedKeys:i}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((h,p)=>function(m,w){const y=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce(20277,{At:_})}};return y(m)-y(w)}(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),s=s!=null&&s;const a=n&&!s?this.ou():[],l=this.Za.size===0&&this.current&&!s?1:0,c=l!==this.Ya;return this.Ya=l,o.length!==0||c?{snapshot:new Ja(this.query,e.eu,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new $T,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=be(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new n2(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new t2(r))}),n}uu(e){this.Ha=e.qs,this.Za=be();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Ja.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const sx="SyncEngine";class kq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Dq{constructor(e){this.key=e,this.lu=!1}}class jq{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Po(a=>wk(a),wp),this.Tu=new Map,this.Iu=new Set,this.du=new nt(oe.comparator),this.Eu=new Map,this.Au=new Ww,this.Ru={},this.Vu=new Map,this.mu=Xa.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function Mq(t,e,n=!0){const r=l2(t);let s;const i=r.Pu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.cu()):s=await r2(r,e,n,!0),s}async function Oq(t,e){const n=l2(t);await r2(n,e,!0,!1)}async function r2(t,e,n,r){const s=await nq(t.localStore,Dr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await Vq(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&Qk(t.remoteStore,s),a}async function Vq(t,e,n,r,s){t.gu=(p,f,m)=>async function(y,_,x,E){let T=_.view.nu(x);T.Ds&&(T=await OT(y.localStore,_.query,!1).then(({documents:C})=>_.view.nu(C,T)));const I=E&&E.targetChanges.get(_.targetId),D=E&&E.targetMismatches.get(_.targetId)!=null,M=_.view.applyChanges(T,y.isPrimaryClient,I,D);return qT(y,_.targetId,M._u),M.snapshot}(t,p,f,m);const i=await OT(t.localStore,e,!0),o=new Nq(e,i.qs),a=o.nu(i.documents),l=$u.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);qT(t,n,c._u);const h=new kq(e,n,o);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),c.snapshot}async function Lq(t,e,n){const r=pe(t),s=r.Pu.get(e),i=r.Tu.get(s.targetId);if(i.length>1)return r.Tu.set(s.targetId,i.filter(o=>!wp(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await hv(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Gw(r.remoteStore,s.targetId),mv(r,s.targetId)}).catch(vl)):(mv(r,s.targetId),await hv(r.localStore,s.targetId,!0))}async function Fq(t,e){const n=pe(t),r=n.Pu.get(e),s=n.Tu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Gw(n.remoteStore,r.targetId))}async function Uq(t,e,n){const r=Kq(t);try{const s=await function(o,a){const l=pe(o),c=He.now(),h=a.reduce((m,w)=>m.add(w.key),be());let p,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let w=ms(),y=be();return l.Os.getEntries(m,h).next(_=>{w=_,w.forEach((x,E)=>{E.isValidDocument()||(y=y.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,w)).next(_=>{p=_;const x=[];for(const E of a){const T=nH(E,p.get(E.key).overlayedDocument);T!=null&&x.push(new Mi(E.key,T,dk(T.value.mapValue),Kn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,x,a)}).next(_=>{f=_;const x=_.applyToLocalDocumentSet(p,y);return l.documentOverlayCache.saveOverlays(m,_.batchId,x)})}).then(()=>({batchId:f.batchId,changes:Ek(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Ru[o.currentUser.toKey()];c||(c=new nt(ye)),c=c.insert(a,l),o.Ru[o.currentUser.toKey()]=c}(r,s.batchId,n),await Wu(r,s.changes),await Cp(r.remoteStore)}catch(s){const i=Zw(s,"Failed to persist write");n.reject(i)}}async function s2(t,e){const n=pe(t);try{const r=await ZH(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Eu.get(i);o&&(ke(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.lu=!0:s.modifiedDocuments.size>0?ke(o.lu,14607):s.removedDocuments.size>0&&(ke(o.lu,42227),o.lu=!1))}),await Wu(n,r,e)}catch(r){await vl(r)}}function HT(t,e,n){const r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Pu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=pe(o);l.onlineState=a;let c=!1;l.queries.forEach((h,p)=>{for(const f of p.wa)f.va(a)&&(c=!0)}),c&&nx(l)}(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Bq(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let o=new nt(oe.comparator);o=o.insert(i,Ht.newNoDocument(i,fe.min()));const a=be().add(i),l=new bp(fe.min(),new Map,new nt(ye),o,a);await s2(r,l),r.du=r.du.remove(i),r.Eu.delete(e),ix(r)}else await hv(r.localStore,e,!1).then(()=>mv(r,e,n)).catch(vl)}async function $q(t,e){const n=pe(t),r=e.batch.batchId;try{const s=await JH(n.localStore,e);o2(n,r,null),i2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Wu(n,s)}catch(s){await vl(s)}}async function zq(t,e,n){const r=pe(t);try{const s=await function(o,a){const l=pe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(p=>(ke(p!==null,37113),h=p.keys(),l.mutationQueue.removeMutationBatch(c,p))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);o2(r,e,n),i2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Wu(r,s)}catch(s){await vl(s)}}function i2(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function o2(t,e,n){const r=pe(t);let s=r.Ru[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}function mv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||a2(t,r)})}function a2(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Gw(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),ix(t))}function qT(t,e,n){for(const r of n)r instanceof t2?(t.Au.addReference(r.key,e),Wq(t,r)):r instanceof n2?(te(sx,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||a2(t,r.key)):ce(19791,{yu:r})}function Wq(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(te(sx,"New document in limbo: "+n),t.Iu.add(r),ix(t))}function ix(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new oe(Ue.fromString(e)),r=t.mu.next();t.Eu.set(r,new Dq(n)),t.du=t.du.insert(n,r),Qk(t.remoteStore,new Ys(Dr(vp(n.path)),r,"TargetPurposeLimboResolution",mp.ue))}}async function Wu(t,e,n){const r=pe(t),s=[],i=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,l)=>{o.push(r.gu(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(c){s.push(c);const p=qw.Es(l.targetId,c);i.push(p)}}))}),await Promise.all(o),r.hu.J_(s),await async function(l,c){const h=pe(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>W.forEach(c,f=>W.forEach(f.Is,m=>h.persistence.referenceDelegate.addReference(p,f.targetId,m)).next(()=>W.forEach(f.ds,m=>h.persistence.referenceDelegate.removeReference(p,f.targetId,m)))))}catch(p){if(!wl(p))throw p;te(Kw,"Failed to update sequence numbers: "+p)}for(const p of c){const f=p.targetId;if(!p.fromCache){const m=h.Fs.get(f),w=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(w);h.Fs=h.Fs.insert(f,y)}}}(r.localStore,i))}async function Hq(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){te(sx,"User change. New user:",e.toKey());const r=await Hk(n.localStore,e);n.currentUser=e,function(i,o){i.Vu.forEach(a=>{a.forEach(l=>{l.reject(new ee(B.CANCELLED,o))})}),i.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Wu(n,r.Bs)}}function qq(t,e){const n=pe(t),r=n.Eu.get(e);if(r&&r.lu)return be().add(r.key);{let s=be();const i=n.Tu.get(e);if(!i)return s;for(const o of i){const a=n.Pu.get(o);s=s.unionWith(a.view.tu)}return s}}function l2(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=s2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Bq.bind(null,e),e.hu.J_=Pq.bind(null,e.eventManager),e.hu.pu=Rq.bind(null,e.eventManager),e}function Kq(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$q.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zq.bind(null,e),e}class Cf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tp(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return XH(this.persistence,new GH,e.initialUser,this.serializer)}Du(e){return new Wk(Hw.Vi,this.serializer)}bu(e){return new sq}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cf.provider={build:()=>new Cf};class Gq extends Cf{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){ke(this.persistence.referenceDelegate instanceof Tf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new DH(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new Wk(r=>Tf.Vi(r,n),this.serializer)}}class gv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>HT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Hq.bind(null,this.syncEngine),await Cq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Iq}()}createDatastore(e){const n=Tp(e.databaseInfo.databaseId),r=function(i){return new cq(i)}(e.databaseInfo);return function(i,o,a,l){return new fq(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new mq(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>HT(this.syncEngine,n,0),function(){return FT.C()?new FT:new iq}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,h){const p=new jq(s,i,o,a,l,c);return h&&(p.fu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=pe(s);te(bo,"RemoteStore shutting down."),i.Ia.add(5),await zu(i),i.Ea.shutdown(),i.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}gv.provider={build:()=>new gv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ps("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai="FirestoreClient";class Qq{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=zt.UNAUTHENTICATED,this.clientId=Dw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{te(Ai,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(te(Ai,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Zw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function lg(t,e){t.asyncQueue.verifyOperationInProgress(),te(Ai,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Hk(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>{_i("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{te("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{_i("Terminating Firestore due to IndexedDb database deletion failed",s)})}),t._offlineComponents=e}async function KT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Yq(t);te(Ai,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>BT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>BT(e.remoteStore,s)),t._onlineComponents=e}async function Yq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te(Ai,"Using user provided OfflineComponentProvider");try{await lg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;_i("Error using user provided cache. Falling back to memory cache: "+n),await lg(t,new Cf)}}else te(Ai,"Using default OfflineComponentProvider"),await lg(t,new Gq(void 0));return t._offlineComponents}async function c2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te(Ai,"Using user provided OnlineComponentProvider"),await KT(t,t._uninitializedComponentsProvider._online)):(te(Ai,"Using default OnlineComponentProvider"),await KT(t,new gv))),t._onlineComponents}function Xq(t){return c2(t).then(e=>e.syncEngine)}async function Af(t){const e=await c2(t),n=e.eventManager;return n.onListen=Mq.bind(null,e.syncEngine),n.onUnlisten=Lq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Oq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Fq.bind(null,e.syncEngine),n}function Jq(t,e,n={}){const r=new rs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const h=new ox({next:f=>{h.Ou(),o.enqueueAndForget(()=>tx(i,p));const m=f.docs.has(a);!m&&f.fromCache?c.reject(new ee(B.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?c.reject(new ee(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),p=new rx(vp(a.path),h,{includeMetadataChanges:!0,ka:!0});return ex(i,p)}(await Af(t),t.asyncQueue,e,n,r)),r.promise}function Zq(t,e,n={}){const r=new rs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const h=new ox({next:f=>{h.Ou(),o.enqueueAndForget(()=>tx(i,p)),f.fromCache&&l.source==="server"?c.reject(new ee(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),p=new rx(a,h,{includeMetadataChanges:!0,ka:!0});return ex(i,p)}(await Af(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="firestore.googleapis.com",QT=!0;class YT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ee(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=d2,this.ssl=QT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:QT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<NH)throw new ee(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=u2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ee(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ee(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ee(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ap{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ee(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ee(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new cW;switch(r.type){case"firstParty":return new fW(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ee(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=GT.get(n);r&&(te("ComponentProvider","Removing Datastore"),GT.delete(n),r.terminate())}(this),Promise.resolve()}}function eK(t,e,n,r={}){var s;t=vn(t,Ap);const i=pl(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;i&&(tN(`https://${l}`),nN("Firestore",!0)),o.host!==d2&&o.host!==l&&_i("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:i,emulatorOptions:r});if(!vo(c,a)&&(t._setSettings(c),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=zt.MOCK_USER;else{h=y$(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new ee(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new zt(f)}t._authCredentials=new uW(new XN(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Oi(this.firestore,e,this._query)}}class at{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new di(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new at(this.firestore,e,this._key)}toJSON(){return{type:at._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Uu(n,at._jsonSchema))return new at(e,r||null,new oe(Ue.fromString(n.referencePath)))}}at._jsonSchemaVersion="firestore/documentReference/1.0",at._jsonSchema={type:vt("string",at._jsonSchemaVersion),referencePath:vt("string")};class di extends Oi{constructor(e,n,r){super(e,n,vp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new at(this.firestore,null,new oe(e))}withConverter(e){return new di(this.firestore,e,this._path)}}function Cn(t,e,...n){if(t=wt(t),ZN("collection","path",e),t instanceof Ap){const r=Ue.fromString(e,...n);return cT(r),new di(t,null,r)}{if(!(t instanceof at||t instanceof di))throw new ee(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return cT(r),new di(t.firestore,null,r)}}function en(t,e,...n){if(t=wt(t),arguments.length===1&&(e=Dw.newId()),ZN("doc","path",e),t instanceof Ap){const r=Ue.fromString(e,...n);return lT(r),new at(t,null,new oe(r))}{if(!(t instanceof at||t instanceof di))throw new ee(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return lT(r),new at(t.firestore,t instanceof di?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="AsyncQueue";class JT{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Kk(this,"async_queue_retry"),this.oc=()=>{const r=ag();r&&te(XT,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=ag();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=ag();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new rs;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!wl(e))throw e;te(XT,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,ps("INTERNAL UNHANDLED ERROR: ",ZT(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const s=Jw.createAndSchedule(this,e,n,r,i=>this.lc(i));return this.ec.push(s),s}ac(){this.tc&&ce(47125,{hc:ZT(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function ZT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class gs extends Ap{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new JT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new JT(e),this._firestoreClient=void 0,await e}}}function tK(t,e){const n=typeof t=="object"?t:oN(),r=typeof t=="string"?t:xf,s=bw(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=m$("firestore");i&&eK(s,...i)}return s}function Ip(t){if(t._terminated)throw new ee(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||nK(t),t._firestoreClient}function nK(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,h){return new PW(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,u2(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new Qq(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(jt.fromBase64String(e))}catch(n){throw new ee(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zn(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Uu(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:vt("string",zn._jsonSchemaVersion),bytes:vt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ee(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ee(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ee(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mr._jsonSchemaVersion}}static fromJSON(e){if(Uu(e,Mr._jsonSchema))return new Mr(e.latitude,e.longitude)}}Mr._jsonSchemaVersion="firestore/geoPoint/1.0",Mr._jsonSchema={type:vt("string",Mr._jsonSchemaVersion),latitude:vt("number"),longitude:vt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Or._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Uu(e,Or._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Or(e.vectorValues);throw new ee(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Or._jsonSchemaVersion="firestore/vectorValue/1.0",Or._jsonSchema={type:vt("string",Or._jsonSchemaVersion),vectorValues:vt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rK=/^__.*__$/;class sK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Mi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bu(e,this.data,n,this.fieldTransforms)}}class h2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Mi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function f2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce(40011,{Ec:t})}}class ax{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ac(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new ax(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.fc(e),s}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return If(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(f2(this.Ec)&&rK.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class iK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Tp(e)}Dc(e,n,r,s=!1){return new ax({Ec:e,methodName:n,bc:r,path:Nt.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rp(t){const e=t._freezeSettings(),n=Tp(t._databaseId);return new iK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function p2(t,e,n,r,s,i={}){const o=t.Dc(i.merge||i.mergeFields?2:0,e,n,s);ux("Data must be an object, but it was:",o,r);const a=m2(r,o);let l,c;if(i.merge)l=new In(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const p of i.mergeFields){const f=yv(e,p,n);if(!o.contains(f))throw new ee(B.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);y2(h,f)||h.push(f)}l=new In(h),c=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,c=o.fieldTransforms;return new sK(new hn(a),l,c)}class Np extends Hu{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Np}}class lx extends Hu{_toFieldTransform(e){return new Rk(e.path,new fu)}isEqual(e){return e instanceof lx}}class cx extends Hu{constructor(e,n){super(e),this.Cc=n}_toFieldTransform(e){const n=new gu(e.serializer,Sk(e.serializer,this.Cc));return new Rk(e.path,n)}isEqual(e){return e instanceof cx&&this.Cc===e.Cc}}function oK(t,e,n,r){const s=t.Dc(1,e,n);ux("Data must be an object, but it was:",s,r);const i=[],o=hn.empty();ji(r,(l,c)=>{const h=dx(e,l,n);c=wt(c);const p=s.gc(h);if(c instanceof Np)i.push(h);else{const f=qu(c,p);f!=null&&(i.push(h),o.set(h,f))}});const a=new In(i);return new h2(o,a,s.fieldTransforms)}function aK(t,e,n,r,s,i){const o=t.Dc(1,e,n),a=[yv(e,r,n)],l=[s];if(i.length%2!=0)throw new ee(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(yv(e,i[f])),l.push(i[f+1]);const c=[],h=hn.empty();for(let f=a.length-1;f>=0;--f)if(!y2(c,a[f])){const m=a[f];let w=l[f];w=wt(w);const y=o.gc(m);if(w instanceof Np)c.push(m);else{const _=qu(w,y);_!=null&&(c.push(m),h.set(m,_))}}const p=new In(c);return new h2(h,p,o.fieldTransforms)}function lK(t,e,n,r=!1){return qu(n,t.Dc(r?4:3,e))}function qu(t,e){if(g2(t=wt(t)))return ux("Unsupported field value:",e,t),m2(t,e);if(t instanceof Hu)return function(r,s){if(!f2(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=qu(a,s.yc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Sk(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=He.fromDate(r);return{timestampValue:bf(s.serializer,i)}}if(r instanceof He){const i=new He(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bf(s.serializer,i)}}if(r instanceof Mr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zn)return{bytesValue:Ok(s.serializer,r._byteString)};if(r instanceof at){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:zw(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Or)return function(o,a){return{mapValue:{fields:{[lk]:{stringValue:uk},[_f]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.wc("VectorValues must only contain numeric values.");return Fw(a.serializer,c)})}}}}}}(r,s);throw s.wc(`Unsupported field value: ${pp(r)}`)}(t,e)}function m2(t,e){const n={};return nk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ji(t,(r,s)=>{const i=qu(s,e.Vc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function g2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof He||t instanceof Mr||t instanceof zn||t instanceof at||t instanceof Hu||t instanceof Or)}function ux(t,e,n){if(!g2(n)||!ek(n)){const r=pp(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function yv(t,e,n){if((e=wt(e))instanceof Pp)return e._internalPath;if(typeof e=="string")return dx(t,e);throw If("Field path arguments must be of type string or ",t,!1,void 0,n)}const cK=new RegExp("[~\\*/\\[\\]]");function dx(t,e,n){if(e.search(cK)>=0)throw If(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Pp(...e.split("."))._internalPath}catch{throw If(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function If(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ee(B.INVALID_ARGUMENT,a+t+l)}function y2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new at(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(kp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uK extends v2{data(){return super.data()}}function kp(t,e){return typeof e=="string"?dx(t,e):e instanceof Pp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ee(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hx{}class x2 extends hx{}function Dp(t,e,...n){let r=[];e instanceof hx&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof fx).length,a=i.filter(l=>l instanceof jp).length;if(o>1||o>0&&a>0)throw new ee(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class jp extends x2{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new jp(e,n,r)}_apply(e){const n=this._parse(e);return _2(e._query,n),new Oi(e.firestore,e.converter,ov(e._query,n))}_parse(e){const n=Rp(e.firestore);return function(i,o,a,l,c,h,p){let f;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ee(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){nS(p,h);const w=[];for(const y of p)w.push(tS(l,i,y));f={arrayValue:{values:w}}}else f=tS(l,i,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||nS(p,h),f=lK(a,o,p,h==="in"||h==="not-in");return yt.create(c,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Za(t,e,n){const r=e,s=kp("where",t);return jp._create(s,r,n)}class fx extends hx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new fx(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:fr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)_2(o,l),o=ov(o,l)}(e._query,n),new Oi(e.firestore,e.converter,ov(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class px extends x2{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new px(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new ee(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ee(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hu(i,o)}(e._query,this._field,this._direction);return new Oi(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new xl(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function dK(t,e="asc"){const n=e,r=kp("orderBy",t);return px._create(r,n)}function tS(t,e,n){if(typeof(n=wt(n))=="string"){if(n==="")throw new ee(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vk(e)&&n.indexOf("/")!==-1)throw new ee(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ue.fromString(n));if(!oe.isDocumentKey(r))throw new ee(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yT(t,new oe(r))}if(n instanceof at)return yT(t,n._key);throw new ee(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pp(n)}.`)}function nS(t,e){if(!Array.isArray(t)||t.length===0)throw new ee(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _2(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ee(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ee(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class hK{convertValue(e,n="none"){switch(Si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ti(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ji(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[_f].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>ut(o.doubleValue));return new Or(i)}convertGeoPoint(e){return new Mr(ut(e.latitude),ut(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=yp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(cu(e));default:return null}}convertTimestamp(e){const n=bi(e);return new He(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ue.fromString(e);ke($k(r),9688,{name:e});const s=new uu(r.get(1),r.get(3)),i=new oe(r.popFirst(5));return s.isEqual(n)||ps(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class sc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class co extends v2{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(kp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ee(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=co._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}co._jsonSchemaVersion="firestore/documentSnapshot/1.0",co._jsonSchema={type:vt("string",co._jsonSchemaVersion),bundleSource:vt("string","DocumentSnapshot"),bundleName:vt("string"),bundle:vt("string")};class Eh extends co{data(e={}){return super.data(e)}}class uo{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new sc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Eh(this._firestore,this._userDataWriter,r.key,r,new sc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ee(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Eh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new sc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Eh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new sc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:fK(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ee(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=uo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function fK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(t){t=vn(t,at);const e=vn(t.firestore,gs);return Jq(Ip(e),t._key).then(n=>b2(e,t,n))}uo._jsonSchemaVersion="firestore/querySnapshot/1.0",uo._jsonSchema={type:vt("string",uo._jsonSchemaVersion),bundleSource:vt("string","QuerySnapshot"),bundleName:vt("string"),bundle:vt("string")};class mx extends hK{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new at(this.firestore,null,n)}}function yu(t){t=vn(t,Oi);const e=vn(t.firestore,gs),n=Ip(e),r=new mx(e);return w2(t._query),Zq(n,t._query).then(s=>new uo(e,r,t,s))}function pK(t,e,n){t=vn(t,at);const r=vn(t.firestore,gs),s=E2(t.converter,e);return Mp(r,[p2(Rp(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Kn.none())])}function la(t,e,n,...r){t=vn(t,at);const s=vn(t.firestore,gs),i=Rp(s);let o;return o=typeof(e=wt(e))=="string"||e instanceof Pp?aK(i,"updateDoc",t._key,e,n,r):oK(i,"updateDoc",t._key,e),Mp(s,[o.toMutation(t._key,Kn.exists(!0))])}function rS(t){return Mp(vn(t.firestore,gs),[new Uw(t._key,Kn.none())])}function vv(t,e){const n=vn(t.firestore,gs),r=en(t),s=E2(t.converter,e);return Mp(n,[p2(Rp(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Kn.exists(!1))]).then(()=>r)}function vu(t,...e){var n,r,s;t=wt(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||eS(e[o])||(i=e[o++]);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(eS(e[o])){const p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(s=p.complete)===null||s===void 0?void 0:s.bind(p)}let l,c,h;if(t instanceof at)c=vn(t.firestore,gs),h=vp(t._key.path),l={next:p=>{e[o]&&e[o](b2(c,t,p))},error:e[o+1],complete:e[o+2]};else{const p=vn(t,Oi);c=vn(p.firestore,gs),h=p._query;const f=new mx(c);l={next:m=>{e[o]&&e[o](new uo(c,f,p,m))},error:e[o+1],complete:e[o+2]},w2(t._query)}return function(f,m,w,y){const _=new ox(y),x=new rx(m,_,w);return f.asyncQueue.enqueueAndForget(async()=>ex(await Af(f),x)),()=>{_.Ou(),f.asyncQueue.enqueueAndForget(async()=>tx(await Af(f),x))}}(Ip(c),h,a,l)}function Mp(t,e){return function(r,s){const i=new rs;return r.asyncQueue.enqueueAndForget(async()=>Uq(await Xq(r),s,i)),i.promise}(Ip(t),e)}function b2(t,e,n){const r=n.docs.get(e._key),s=new mx(t);return new co(t,s,e._key,r,new sc(n.hasPendingWrites,n.fromCache),e.converter)}function ic(){return new lx("serverTimestamp")}function mK(t){return new cx("increment",t)}(function(e,n=!0){(function(s){yl=s})(ml),qa(new wo("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new gs(new dW(r.getProvider("auth-internal")),new pW(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ee(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(c.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),ci(rT,sT,e),ci(rT,sT,"esm2017")})();const gK={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyALb2HP5Sh3vv4-Ry8yIWhqfMfbjTJ2nIE",VITE_FIREBASE_APP_ID:"1:20130911608:web:0779a0e00790fd8d34a48d",VITE_FIREBASE_AUTH_DOMAIN:"shovon-course.firebaseapp.com",VITE_FIREBASE_MEASUREMENT_ID:"G-H5F7YWXEBW",VITE_FIREBASE_MESSAGING_SENDER_ID:"20130911608",VITE_FIREBASE_PROJECT_ID:"shovon-course",VITE_FIREBASE_STORAGE_BUCKET:"shovon-course.firebasestorage.app"},yK={apiKey:"AIzaSyALb2HP5Sh3vv4-Ry8yIWhqfMfbjTJ2nIE",authDomain:"shovon-course.firebaseapp.com",projectId:"shovon-course",storageBucket:"shovon-course.firebasestorage.app",messagingSenderId:"20130911608",appId:"1:20130911608:web:0779a0e00790fd8d34a48d",measurementId:"G-H5F7YWXEBW"},vK=["VITE_FIREBASE_API_KEY","VITE_FIREBASE_AUTH_DOMAIN","VITE_FIREBASE_PROJECT_ID","VITE_FIREBASE_STORAGE_BUCKET","VITE_FIREBASE_MESSAGING_SENDER_ID","VITE_FIREBASE_APP_ID"],sS=vK.filter(t=>!gK[t]);if(sS.length>0)throw new Error(`Missing required environment variables: ${sS.join(", ")}. Please check your .env file.`);const T2=iN(yK),Ku=aW(T2),Le=tK(T2);function wK(t,e){return Wz(Ku,t,e)}function xK(t,e){return Hz(Ku,t,e)}function iS(){return Yz(Ku)}function Op(t){return DN(Ku,t)}var cg="focusScope.autoFocusOnMount",ug="focusScope.autoFocusOnUnmount",oS={bubbles:!1,cancelable:!0},_K="FocusScope",S2=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=v.useState(null),c=kn(s),h=kn(i),p=v.useRef(null),f=lt(e,y=>l(y)),m=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let y=function(T){if(m.paused||!a)return;const I=T.target;a.contains(I)?p.current=I:Ds(p.current,{select:!0})},_=function(T){if(m.paused||!a)return;const I=T.relatedTarget;I!==null&&(a.contains(I)||Ds(p.current,{select:!0}))},x=function(T){if(document.activeElement===document.body)for(const D of T)D.removedNodes.length>0&&Ds(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",_);const E=new MutationObserver(x);return a&&E.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",_),E.disconnect()}}},[r,a,m.paused]),v.useEffect(()=>{if(a){lS.add(m);const y=document.activeElement;if(!a.contains(y)){const x=new CustomEvent(cg,oS);a.addEventListener(cg,c),a.dispatchEvent(x),x.defaultPrevented||(EK(AK(C2(a)),{select:!0}),document.activeElement===y&&Ds(a))}return()=>{a.removeEventListener(cg,c),setTimeout(()=>{const x=new CustomEvent(ug,oS);a.addEventListener(ug,h),a.dispatchEvent(x),x.defaultPrevented||Ds(y??document.body,{select:!0}),a.removeEventListener(ug,h),lS.remove(m)},0)}}},[a,c,h,m]);const w=v.useCallback(y=>{if(!n&&!r||m.paused)return;const _=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,x=document.activeElement;if(_&&x){const E=y.currentTarget,[T,I]=bK(E);T&&I?!y.shiftKey&&x===I?(y.preventDefault(),n&&Ds(T,{select:!0})):y.shiftKey&&x===T&&(y.preventDefault(),n&&Ds(I,{select:!0})):x===E&&y.preventDefault()}},[n,r,m.paused]);return d.jsx(Fe.div,{tabIndex:-1,...o,ref:f,onKeyDown:w})});S2.displayName=_K;function EK(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ds(r,{select:e}),document.activeElement!==n)return}function bK(t){const e=C2(t),n=aS(e,t),r=aS(e.reverse(),t);return[n,r]}function C2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function aS(t,e){for(const n of t)if(!TK(n,{upTo:e}))return n}function TK(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function SK(t){return t instanceof HTMLInputElement&&"select"in t}function Ds(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&SK(t)&&e&&t.select()}}var lS=CK();function CK(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=cS(t,e),t.unshift(e)},remove(e){var n;t=cS(t,e),(n=t[0])==null||n.resume()}}}function cS(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function AK(t){return t.filter(e=>e.tagName!=="A")}var dg=0;function IK(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??uS()),document.body.insertAdjacentElement("beforeend",t[1]??uS()),dg++,()=>{dg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),dg--}},[])}function uS(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var bh="right-scroll-bar-position",Th="width-before-scroll-bar",PK="with-scroll-bars-hidden",RK="--removed-body-scroll-bar-size";function hg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function NK(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var kK=typeof window<"u"?v.useLayoutEffect:v.useEffect,dS=new WeakMap;function DK(t,e){var n=NK(null,function(r){return t.forEach(function(s){return hg(s,r)})});return kK(function(){var r=dS.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||hg(a,null)}),i.forEach(function(a){s.has(a)||hg(a,o)})}dS.set(n,t)},[t]),n}function jK(t){return t}function MK(t,e){e===void 0&&(e=jK);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var h=o;o=[],h.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(h){o.push(h),c()},filter:function(h){return o=o.filter(h),n}}}};return s}function OK(t){t===void 0&&(t={});var e=MK(null);return e.options=Sr({async:!0,ssr:!1},t),e}var A2=function(t){var e=t.sideCar,n=Mu(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,Sr({},n))};A2.isSideCarExport=!0;function VK(t,e){return t.useMedium(e),A2}var I2=OK(),fg=function(){},Vp=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:fg,onWheelCapture:fg,onTouchMoveCapture:fg}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,h=t.enabled,p=t.shards,f=t.sideCar,m=t.noIsolation,w=t.inert,y=t.allowPinchZoom,_=t.as,x=_===void 0?"div":_,E=t.gapMode,T=Mu(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=f,D=DK([n,e]),M=Sr(Sr({},T),s);return v.createElement(v.Fragment,null,h&&v.createElement(I,{sideCar:I2,removeScrollBar:c,shards:p,noIsolation:m,inert:w,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:E}),o?v.cloneElement(v.Children.only(a),Sr(Sr({},M),{ref:D})):v.createElement(x,Sr({},M,{className:l,ref:D}),a))});Vp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Vp.classNames={fullWidth:Th,zeroRight:bh};var LK=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function FK(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=LK();return e&&t.setAttribute("nonce",e),t}function UK(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function BK(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var $K=function(){var t=0,e=null;return{add:function(n){t==0&&(e=FK())&&(UK(e,n),BK(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},zK=function(){var t=$K();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},P2=function(){var t=zK(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},WK={left:0,top:0,right:0,gap:0},pg=function(t){return parseInt(t||"",10)||0},HK=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[pg(n),pg(r),pg(s)]},qK=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return WK;var e=HK(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},KK=P2(),ba="data-scroll-locked",GK=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(PK,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ba,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(bh,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Th,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(bh," .").concat(bh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Th," .").concat(Th,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ba,`] {
    `).concat(RK,": ").concat(a,`px;
  }
`)},hS=function(){var t=parseInt(document.body.getAttribute(ba)||"0",10);return isFinite(t)?t:0},QK=function(){v.useEffect(function(){return document.body.setAttribute(ba,(hS()+1).toString()),function(){var t=hS()-1;t<=0?document.body.removeAttribute(ba):document.body.setAttribute(ba,t.toString())}},[])},YK=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;QK();var i=v.useMemo(function(){return qK(s)},[s]);return v.createElement(KK,{styles:GK(i,!e,s,n?"":"!important")})},wv=!1;if(typeof window<"u")try{var Wd=Object.defineProperty({},"passive",{get:function(){return wv=!0,!0}});window.addEventListener("test",Wd,Wd),window.removeEventListener("test",Wd,Wd)}catch{wv=!1}var Vo=wv?{passive:!1}:!1,XK=function(t){return t.tagName==="TEXTAREA"},R2=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!XK(t)&&n[e]==="visible")},JK=function(t){return R2(t,"overflowY")},ZK=function(t){return R2(t,"overflowX")},fS=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=N2(t,r);if(s){var i=k2(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},eG=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},tG=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},N2=function(t,e){return t==="v"?JK(e):ZK(e)},k2=function(t,e){return t==="v"?eG(e):tG(e)},nG=function(t,e){return t==="h"&&e==="rtl"?-1:1},rG=function(t,e,n,r,s){var i=nG(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,h=o>0,p=0,f=0;do{var m=k2(t,a),w=m[0],y=m[1],_=m[2],x=y-_-i*w;(w||x)&&N2(t,a)&&(p+=x,f+=w),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(h&&(Math.abs(p)<1||!s)||!h&&(Math.abs(f)<1||!s))&&(c=!0),c},Hd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},pS=function(t){return[t.deltaX,t.deltaY]},mS=function(t){return t&&"current"in t?t.current:t},sG=function(t,e){return t[0]===e[0]&&t[1]===e[1]},iG=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},oG=0,Lo=[];function aG(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(oG++)[0],i=v.useState(P2)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=q8([t.lockRef.current],(t.shards||[]).map(mS),!0).filter(Boolean);return y.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=v.useCallback(function(y,_){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var x=Hd(y),E=n.current,T="deltaX"in y?y.deltaX:E[0]-x[0],I="deltaY"in y?y.deltaY:E[1]-x[1],D,M=y.target,C=Math.abs(T)>Math.abs(I)?"h":"v";if("touches"in y&&C==="h"&&M.type==="range")return!1;var S=fS(C,M);if(!S)return!0;if(S?D=C:(D=C==="v"?"h":"v",S=fS(C,M)),!S)return!1;if(!r.current&&"changedTouches"in y&&(T||I)&&(r.current=D),!D)return!0;var A=r.current||D;return rG(A,_,y,A==="h"?T:I,!0)},[]),l=v.useCallback(function(y){var _=y;if(!(!Lo.length||Lo[Lo.length-1]!==i)){var x="deltaY"in _?pS(_):Hd(_),E=e.current.filter(function(D){return D.name===_.type&&(D.target===_.target||_.target===D.shadowParent)&&sG(D.delta,x)})[0];if(E&&E.should){_.cancelable&&_.preventDefault();return}if(!E){var T=(o.current.shards||[]).map(mS).filter(Boolean).filter(function(D){return D.contains(_.target)}),I=T.length>0?a(_,T[0]):!o.current.noIsolation;I&&_.cancelable&&_.preventDefault()}}},[]),c=v.useCallback(function(y,_,x,E){var T={name:y,delta:_,target:x,should:E,shadowParent:lG(x)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(I){return I!==T})},1)},[]),h=v.useCallback(function(y){n.current=Hd(y),r.current=void 0},[]),p=v.useCallback(function(y){c(y.type,pS(y),y.target,a(y,t.lockRef.current))},[]),f=v.useCallback(function(y){c(y.type,Hd(y),y.target,a(y,t.lockRef.current))},[]);v.useEffect(function(){return Lo.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Vo),document.addEventListener("touchmove",l,Vo),document.addEventListener("touchstart",h,Vo),function(){Lo=Lo.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,Vo),document.removeEventListener("touchmove",l,Vo),document.removeEventListener("touchstart",h,Vo)}},[]);var m=t.removeScrollBar,w=t.inert;return v.createElement(v.Fragment,null,w?v.createElement(i,{styles:iG(s)}):null,m?v.createElement(YK,{gapMode:t.gapMode}):null)}function lG(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const cG=VK(I2,aG);var D2=v.forwardRef(function(t,e){return v.createElement(Vp,Sr({},t,{ref:e,sideCar:cG}))});D2.classNames=Vp.classNames;var uG=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Fo=new WeakMap,qd=new WeakMap,Kd={},mg=0,j2=function(t){return t&&(t.host||j2(t.parentNode))},dG=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=j2(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},hG=function(t,e,n,r){var s=dG(e,Array.isArray(t)?t:[t]);Kd[n]||(Kd[n]=new WeakMap);var i=Kd[n],o=[],a=new Set,l=new Set(s),c=function(p){!p||a.has(p)||(a.add(p),c(p.parentNode))};s.forEach(c);var h=function(p){!p||l.has(p)||Array.prototype.forEach.call(p.children,function(f){if(a.has(f))h(f);else try{var m=f.getAttribute(r),w=m!==null&&m!=="false",y=(Fo.get(f)||0)+1,_=(i.get(f)||0)+1;Fo.set(f,y),i.set(f,_),o.push(f),y===1&&w&&qd.set(f,!0),_===1&&f.setAttribute(n,"true"),w||f.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",f,x)}})};return h(e),a.clear(),mg++,function(){o.forEach(function(p){var f=Fo.get(p)-1,m=i.get(p)-1;Fo.set(p,f),i.set(p,m),f||(qd.has(p)||p.removeAttribute(r),qd.delete(p)),m||p.removeAttribute(n)}),mg--,mg||(Fo=new WeakMap,Fo=new WeakMap,qd=new WeakMap,Kd={})}},fG=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=uG(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),hG(r,s,n,"aria-hidden")):function(){return null}},gx="Dialog",[M2,O2]=sl(gx),[pG,pr]=M2(gx),V2=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=v.useRef(null),l=v.useRef(null),[c=!1,h]=_0({prop:r,defaultProp:s,onChange:i});return d.jsx(pG,{scope:e,triggerRef:a,contentRef:l,contentId:jm(),titleId:jm(),descriptionId:jm(),open:c,onOpenChange:h,onOpenToggle:v.useCallback(()=>h(p=>!p),[h]),modal:o,children:n})};V2.displayName=gx;var L2="DialogTrigger",F2=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=pr(L2,n),i=lt(e,s.triggerRef);return d.jsx(Fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":wx(s.open),...r,ref:i,onClick:Re(t.onClick,s.onOpenToggle)})});F2.displayName=L2;var yx="DialogPortal",[mG,U2]=M2(yx,{forceMount:void 0}),B2=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=pr(yx,e);return d.jsx(mG,{scope:e,forceMount:n,children:v.Children.map(r,o=>d.jsx(il,{present:n||i.open,children:d.jsx(x0,{asChild:!0,container:s,children:o})}))})};B2.displayName=yx;var Pf="DialogOverlay",$2=v.forwardRef((t,e)=>{const n=U2(Pf,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=pr(Pf,t.__scopeDialog);return i.modal?d.jsx(il,{present:r||i.open,children:d.jsx(gG,{...s,ref:e})}):null});$2.displayName=Pf;var gG=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=pr(Pf,n);return d.jsx(D2,{as:Ba,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(Fe.div,{"data-state":wx(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),To="DialogContent",z2=v.forwardRef((t,e)=>{const n=U2(To,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=pr(To,t.__scopeDialog);return d.jsx(il,{present:r||i.open,children:i.modal?d.jsx(yG,{...s,ref:e}):d.jsx(vG,{...s,ref:e})})});z2.displayName=To;var yG=v.forwardRef((t,e)=>{const n=pr(To,t.__scopeDialog),r=v.useRef(null),s=lt(e,n.contentRef,r);return v.useEffect(()=>{const i=r.current;if(i)return fG(i)},[]),d.jsx(W2,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Re(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Re(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Re(t.onFocusOutside,i=>i.preventDefault())})}),vG=v.forwardRef((t,e)=>{const n=pr(To,t.__scopeDialog),r=v.useRef(!1),s=v.useRef(!1);return d.jsx(W2,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),W2=v.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=pr(To,n),l=v.useRef(null),c=lt(e,l);return IK(),d.jsxs(d.Fragment,{children:[d.jsx(S2,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(Kf,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":wx(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(xG,{titleId:a.titleId}),d.jsx(EG,{contentRef:l,descriptionId:a.descriptionId})]})]})}),vx="DialogTitle",H2=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=pr(vx,n);return d.jsx(Fe.h2,{id:s.titleId,...r,ref:e})});H2.displayName=vx;var q2="DialogDescription",K2=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=pr(q2,n);return d.jsx(Fe.p,{id:s.descriptionId,...r,ref:e})});K2.displayName=q2;var G2="DialogClose",Q2=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=pr(G2,n);return d.jsx(Fe.button,{type:"button",...r,ref:e,onClick:Re(t.onClick,()=>s.onOpenChange(!1))})});Q2.displayName=G2;function wx(t){return t?"open":"closed"}var Y2="DialogTitleWarning",[wG,X2]=dV(Y2,{contentName:To,titleName:vx,docsSlug:"dialog"}),xG=({titleId:t})=>{const e=X2(Y2),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},_G="DialogDescriptionWarning",EG=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${X2(_G).contentName}}.`;return v.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},J2=V2,bG=F2,Z2=B2,xx=$2,_x=z2,Ex=H2,bx=K2,Tx=Q2;const TG=J2,SG=Z2,eD=v.forwardRef(({className:t,...e},n)=>d.jsx(xx,{ref:n,className:we("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));eD.displayName=xx.displayName;const tD=v.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(SG,{children:[d.jsx(eD,{}),d.jsxs(_x,{ref:r,className:we("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,d.jsxs(Tx,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(Qr,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));tD.displayName=_x.displayName;const CG=v.forwardRef(({className:t,...e},n)=>d.jsx(Ex,{ref:n,className:we("text-lg font-semibold leading-none tracking-tight",t),...e}));CG.displayName=Ex.displayName;const AG=v.forwardRef(({className:t,...e},n)=>d.jsx(bx,{ref:n,className:we("text-sm text-muted-foreground",t),...e}));AG.displayName=bx.displayName;const nD=({open:t,onOpenChange:e})=>{const[n,r]=v.useState("signin"),[s,i]=v.useState(""),[o,a]=v.useState(""),[l,c]=v.useState(""),[h,p]=v.useState(""),[f,m]=v.useState(""),[w,y]=v.useState(!1),[_,x]=v.useState(null),E=async D=>{D.preventDefault(),y(!0),x(null);try{if(n==="signin")await xK(s,o);else{const M=await wK(s,o);M.user&&l&&(await Kz(M.user,{displayName:l}),await pK(en(Le,"users",M.user.uid),{email:s,username:l,phoneNumber:h,address:f,createdAt:new Date,updatedAt:new Date}))}e(!1),i(""),a(""),c(""),p(""),m("")}catch(M){x(M.message||"Something went wrong")}finally{y(!1)}},T=()=>{i(""),a(""),c(""),p(""),m(""),x(null)},I=D=>{r(D),T()};return d.jsx(TG,{open:t,onOpenChange:e,children:d.jsxs(tD,{className:"max-w-md w-full p-6 rounded-xl",children:[d.jsx("h2",{className:"text-xl font-bold mb-2 text-center",children:n==="signin"?"Sign In":"Sign Up"}),d.jsxs("form",{onSubmit:E,className:"flex flex-col gap-4 mt-4",children:[n==="signup"&&d.jsxs(d.Fragment,{children:[d.jsx("input",{type:"text",required:!0,placeholder:"Username",value:l,onChange:D=>c(D.target.value),className:"px-4 py-2 rounded-lg border border-border bg-background text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 caret-orange-500"}),d.jsx("input",{type:"tel",required:!0,placeholder:"Phone Number",value:h,onChange:D=>p(D.target.value),className:"px-4 py-2 rounded-lg border border-border bg-background text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 caret-orange-500"}),d.jsx("textarea",{required:!0,placeholder:"Address",value:f,onChange:D=>m(D.target.value),rows:3,className:"px-4 py-2 rounded-lg border border-border bg-background text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 caret-orange-500 resize-none"})]}),d.jsx("input",{type:"email",required:!0,placeholder:"Email",value:s,onChange:D=>i(D.target.value),className:"px-4 py-2 rounded-lg border border-border bg-background text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 caret-orange-500"}),d.jsx("input",{type:"password",required:!0,placeholder:"Password",value:o,onChange:D=>a(D.target.value),className:"px-4 py-2 rounded-lg border border-border bg-background text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 caret-orange-500"}),_&&d.jsx("div",{className:"text-red-500 text-sm text-center",children:_}),d.jsx(Oe,{type:"submit",className:"w-full",disabled:w,children:w?"Loading...":n==="signin"?"Sign In":"Sign Up"})]}),d.jsx("div",{className:"text-center mt-4 text-sm",children:n==="signin"?d.jsxs(d.Fragment,{children:["Don't have an account?"," ",d.jsx("button",{className:"text-blue-600 hover:underline",onClick:()=>I("signup"),children:"Sign Up"})]}):d.jsxs(d.Fragment,{children:["Already have an account?"," ",d.jsx("button",{className:"text-blue-600 hover:underline",onClick:()=>I("signin"),children:"Sign In"})]})})]})})};var Sx="Avatar",[IG,YQ]=sl(Sx),[PG,rD]=IG(Sx),sD=v.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=v.useState("idle");return d.jsx(PG,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:d.jsx(Fe.span,{...r,ref:e})})});sD.displayName=Sx;var iD="AvatarImage",oD=v.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=rD(iD,n),a=RG(r,i.referrerPolicy),l=kn(c=>{s(c),o.onImageLoadingStatusChange(c)});return Vr(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?d.jsx(Fe.img,{...i,ref:e,src:r}):null});oD.displayName=iD;var aD="AvatarFallback",lD=v.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=rD(aD,n),[o,a]=v.useState(r===void 0);return v.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?d.jsx(Fe.span,{...s,ref:e}):null});lD.displayName=aD;function RG(t,e){const[n,r]=v.useState("idle");return Vr(()=>{if(!t){r("error");return}let s=!0;const i=new window.Image,o=a=>()=>{s&&r(a)};return r("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=t,e&&(i.referrerPolicy=e),()=>{s=!1}},[t,e]),n}var cD=sD,uD=oD,dD=lD;const Rf=v.forwardRef(({className:t,...e},n)=>d.jsx(cD,{ref:n,className:we("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Rf.displayName=cD.displayName;const NG=v.forwardRef(({className:t,...e},n)=>d.jsx(uD,{ref:n,className:we("aspect-square h-full w-full",t),...e}));NG.displayName=uD.displayName;const kG=v.forwardRef(({className:t,...e},n)=>d.jsx(dD,{ref:n,className:we("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));kG.displayName=dD.displayName;const Vi=()=>{const[t,e]=v.useState(!1),[n,r]=v.useState(!1),[s,i]=v.useState(null),o=Iu();v.useEffect(()=>Op(c=>{i(c?{email:c.email,displayName:c.displayName||void 0}:null)}),[]);const a=[{name:"Courses",href:"#courses"},{name:"Free Resources",href:"/free-resources"}];return d.jsxs(d.Fragment,{children:[d.jsx(nD,{open:n,onOpenChange:r}),d.jsxs(Se.nav,{initial:{y:-80},animate:{y:0},transition:{duration:.6},className:"bg-[#18181b] shadow-lg sticky top-0 z-50 text-white",children:[d.jsx("div",{className:"container mx-auto px-4",children:d.jsxs("div",{className:"flex justify-between items-center h-16",children:[d.jsxs(Se.div,{whileHover:{scale:1.05},className:"flex cursor-pointer items-center space-x-2",children:[d.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-orange-500 to-yellow-400 rounded-lg flex items-center justify-center",children:d.jsx(rf,{to:"/",children:d.jsx("span",{className:"text-white font-bold text-sm",children:"10M"})})}),d.jsx(rf,{to:"/",children:d.jsx("span",{className:"text-xl font-bold text-white",children:"CourseHub"})})]}),d.jsxs("div",{className:"hidden lg:flex items-center space-x-8",children:[a.map((l,c)=>d.jsx(Se.a,{href:l.href,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:c*.1},whileHover:{y:-2},className:"text-white hover:text-orange-400 font-medium transition-colors duration-200",children:l.name},l.name)),s&&s.email==="sabir@gmail.com"&&d.jsx(Se.a,{href:"/dashboard",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:a.length*.1},whileHover:{y:-2},className:"text-orange-500 font-semibold transition-colors duration-200 ml-2",children:"Dashboard"}),s?d.jsxs("div",{className:"flex items-center gap-3 ml-6",children:[d.jsx("button",{className:"focus:outline-none",onClick:()=>o("/profile"),"aria-label":"User Profile",children:d.jsx(Rf,{className:"w-8 h-8 bg-gradient-to-r from-orange-500 to-yellow-400 text-white font-bold flex items-center justify-center rounded-full shadow",children:d.jsx("span",{children:s.displayName?s.displayName[0].toUpperCase():"U"})})}),d.jsx(Oe,{size:"sm",variant:"outline",onClick:()=>iS(),children:"Sign Out"})]}):d.jsx(Oe,{size:"sm",className:"ml-6",onClick:()=>r(!0),children:"Sign In"})]}),d.jsx("div",{className:"lg:hidden flex items-center",children:d.jsx("button",{className:"text-white focus:outline-none",onClick:()=>e(!t),children:t?d.jsx(Qr,{className:"w-6 h-6"}):d.jsx(c4,{className:"w-6 h-6"})})})]})}),t&&d.jsx("div",{className:"lg:hidden bg-background shadow-md px-4 py-4",children:d.jsxs("div",{className:"flex flex-col gap-4",children:[a.map(l=>d.jsx("a",{href:l.href,className:"text-white hover:text-orange-400 font-medium transition-colors duration-200",onClick:()=>e(!1),children:l.name},l.name)),s&&s.email==="sabir@gmail.com"&&d.jsx("a",{href:"/dashboard",className:"text-orange-500 font-semibold transition-colors duration-200",onClick:()=>e(!1),children:"Dashboard"}),s?d.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[d.jsx("button",{className:"focus:outline-none",onClick:()=>{e(!1),o("/profile")},"aria-label":"User Profile",children:d.jsx(Rf,{className:"w-8 h-8 bg-gradient-to-r from-orange-500 to-yellow-400 text-white font-bold flex items-center justify-center rounded-full shadow",children:d.jsx("span",{children:s.displayName?s.displayName[0].toUpperCase():"U"})})}),d.jsx(Oe,{size:"sm",variant:"outline",onClick:()=>iS(),children:"Sign Out"})]}):d.jsx(Oe,{size:"sm",className:"mt-2",onClick:()=>r(!0),children:"Sign In"})]})})]})]})},DG=()=>{const t=[{icon:Tr,value:"2M+",label:"Active Students"},{icon:pi,value:"1000+",label:"Courses"},{icon:ts,value:"4.8",label:"Average Rating"}];return d.jsx("section",{className:"relative overflow-hidden bg-gradient-to-br from-[#18181b] via-[#18181b] to-black py-20 text-white",children:d.jsx("div",{className:"container mx-auto px-4 relative z-10",children:d.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[d.jsxs(Se.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},className:"space-y-8",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"inline-block bg-gradient-to-r from-orange-500 to-yellow-400 text-white px-4 py-2 rounded-full text-sm font-medium",children:"🚀 New Courses Available"}),d.jsxs(Se.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-4xl font-bangla font-thin md:text-5xl lg:text-6xl  text-white leading-tight",children:["চলো সবাই স্বপ্ন ছুঁই",d.jsx("span",{className:"bg-gradient-to-r ml-3 from-orange-500 to-yellow-400 bg-clip-text text-transparent",children:"উদ্ভাস"})]}),d.jsx(Se.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-xl text-gray-200 leading-relaxed",children:"Join millions of learners worldwide and master in-demand skills with our expert-led courses. From programming to design, we've got you covered."})]}),d.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"flex flex-col sm:flex-row gap-4",children:[d.jsx(Oe,{size:"lg",className:"bg-gradient-to-r from-orange-500 to-yellow-400 hover:from-orange-600 hover:to-yellow-500 text-lg px-8",children:"Start Learning Now"}),d.jsxs(Oe,{size:"lg",variant:"outline",className:"text-lg px-8 hover:bg-orange-500 hover:text-white border-orange-500 text-orange-400",children:[d.jsx(f4,{className:"w-5 h-5 mr-2"}),"Watch Demo"]})]}),d.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"grid grid-cols-3 gap-8 pt-8 border-t border-gray-200",children:t.map((e,n)=>d.jsxs(Se.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.7+n*.1},className:"text-center",children:[d.jsx(e.icon,{className:"w-8 h-8 mx-auto mb-2 text-orange-500"}),d.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-orange-500 to-yellow-400 bg-clip-text text-transparent",children:e.value}),d.jsx("div",{className:"text-sm text-gray-200",children:e.label})]},e.label))})]}),d.jsx(Se.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"relative",children:d.jsxs("div",{className:"relative bg-gradient-to-br from-orange-500 to-yellow-400 text-white rounded-2xl shadow-2xl p-8 transform rotate-3 hover:rotate-0 transition-transform duration-500 border border-border",children:[d.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-yellow-400 rounded-xl h-64 lg:h-80 flex items-center justify-center overflow-hidden",children:d.jsx("iframe",{width:"100%",height:"100%",src:"https://www.youtube.com/embed/UTOKDy-NKzY?si=6HX56P-jNiMMmzE0",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,className:"w-full h-full rounded-xl"})}),d.jsx(Se.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:1.2,duration:.5},className:"absolute -bottom-4 -left-4 bg-green-400 text-green-900 px-3 py-2 rounded-lg font-semibold text-sm shadow-lg",children:"💰 Best Value"})]})})]})})})},hD=v.createContext({user:null,loading:!0}),Cx=()=>{const t=v.useContext(hD);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},jG=({children:t})=>{const[e,n]=v.useState(null),[r,s]=v.useState(!0);return v.useEffect(()=>DN(Ku,o=>{n(o),s(!1)}),[]),d.jsx(hD.Provider,{value:{user:e,loading:r},children:t})},Lp=({courses:t,onEditCourse:e,onDeleteCourse:n})=>{const{user:r}=Cx(),[s,i]=v.useState({}),[o,a]=v.useState({});v.useEffect(()=>{if(r){const m={};t.forEach(w=>{if(w.ratings){const y=w.ratings.find(_=>_.userId===r.uid);y&&(m[w.id]=y.rating)}}),i(m)}},[r,t]);const l=async(m,w)=>{if(!r){Fn({title:"Please sign in",description:"You need to be signed in to rate courses."});return}if(w!==s[m]){a(y=>({...y,[m]:!0}));try{const y=en(Le,"courses",m),_=await el(y);if(!_.exists())throw new Error("Course not found");const T=(_.data().ratings||[]).filter(S=>S.userId!==r.uid),I={userId:r.uid,rating:w,timestamp:new Date},D=[...T,I],M=D.reduce((S,A)=>S+A.rating,0),C=D.length>0?M/D.length:0;await la(y,{ratings:D,rating:Math.round(C*10)/10}),i(S=>({...S,[m]:w})),Fn({title:"Rating updated",description:`You rated this course ${w} stars.`})}catch(y){console.error("Error updating rating:",y),Fn({title:"Error",description:"Failed to update rating. Please try again."})}finally{a(y=>({...y,[m]:!1}))}}},c=m=>{const w={0:"০",1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯"};return m.toString().split("").map(_=>w[_]||_).join("")},h=m=>{const w=typeof m=="string"?parseFloat(m):m;return isNaN(w)?"০":`৳${c(w)}`},p=m=>{const w=typeof m=="string"?parseInt(m):m;return isNaN(w)?"০":c(w.toLocaleString())},f=m=>c(m);return d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:t.map((m,w)=>(console.log(`📊 Course ${w+1}:`,{id:m.id,title:m.title,price:m.price,students:m.students,rating:m.rating,priceType:typeof m.price,studentsType:typeof m.students,ratingType:typeof m.rating}),d.jsx("div",{className:"relative group",children:d.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:w*.1},className:"bg-gray-800/50 border border-gray-700 rounded-xl overflow-hidden hover:border-orange-500/50 transition-all duration-300 hover:shadow-lg",children:[d.jsxs("div",{className:"relative aspect-video overflow-hidden",children:[d.jsx("img",{src:m.image,alt:m.title,className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),d.jsx("div",{className:"absolute top-2 left-2",children:d.jsx("span",{className:"bg-orange-500/90 text-white px-2 py-1 rounded-full text-xs font-medium",children:m.category})}),e&&n&&d.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-all duration-300",children:[d.jsx("button",{onClick:()=>e(m,w),className:"bg-orange-500/90 hover:bg-orange-600 text-white rounded-full p-1.5 shadow-lg transition-colors",title:"Edit Course",children:d.jsx(d4,{className:"w-3 h-3"})}),d.jsx("button",{onClick:()=>n(parseInt(m.id)),className:"bg-red-500/90 hover:bg-red-600 text-white rounded-full p-1.5 shadow-lg transition-colors",title:"Delete Course",children:d.jsx(mI,{className:"w-3 h-3"})})]})]}),d.jsxs("div",{className:"p-4 space-y-3",children:[d.jsx("h3",{className:"text-sm font-bold text-white line-clamp-2 group-hover:text-orange-400 transition-colors",children:m.title}),d.jsxs("p",{className:"text-xs text-gray-400",children:["by ",m.instructor]}),d.jsxs("div",{className:"flex items-center justify-between text-xs",children:[d.jsxs("div",{className:"flex items-center gap-1 text-yellow-400",children:[d.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(y=>d.jsx("button",{onClick:()=>l(m.id,y),disabled:o[m.id],className:`w-3 h-3 ${y<=m.rating?"text-yellow-400 fill-yellow-400":"text-gray-600"} hover:text-yellow-400 transition-colors ${o[m.id]?"cursor-not-allowed":"cursor-pointer"}`,children:d.jsx(ts,{className:"w-full h-full"})},y))}),d.jsx("span",{className:"font-medium",children:f(m.rating)})]}),d.jsxs("div",{className:"flex items-center gap-1 text-gray-400",children:[d.jsx(Tr,{className:"w-3 h-3"}),d.jsx("span",{children:p(m.students||0)})]})]}),d.jsxs("div",{className:"flex items-center gap-1 text-gray-400",children:[d.jsx(ii,{className:"w-3 h-3"}),d.jsx("span",{children:m.duration})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-lg font-bold text-white",children:h(m.price)}),m.originalPrice&&m.originalPrice>m.price&&d.jsx("span",{className:"text-xs text-gray-400 line-through",children:h(m.originalPrice)})]}),d.jsx(rf,{to:`/course/${m.id}`,className:"block",children:d.jsxs(Oe,{size:"sm",className:"w-full bg-gradient-to-r from-orange-500 to-yellow-500 hover:from-orange-600 hover:to-yellow-600 text-white font-medium",children:[d.jsx(pi,{className:"w-3 h-3 mr-1"}),"View Course"]})})]})]})},m.id)))})},MG=({courses:t,onEditCourse:e,onDeleteCourse:n,editIndex:r,form:s,handleFormChange:i,handleEditSubmit:o,cancelEdit:a,whatYouWillLearn:l,handleWhatYouWillLearnChange:c,addWhatYouWillLearn:h,removeWhatYouWillLearn:p,curriculum:f,handleCurriculumChange:m,addCurriculumSection:w,removeCurriculumSection:y,handleVideoChange:_,addVideo:x,removeVideo:E,categories:T})=>d.jsxs("section",{id:"courses",className:"py-20 bg-background text-white relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-500/5 via-transparent to-yellow-500/5"}),d.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(251,146,60,0.1),transparent_50%)]"}),d.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[d.jsxs(Se.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 bg-orange-900/40 text-orange-400 px-4 py-2 rounded-full text-sm font-medium mb-4",children:[d.jsx("span",{className:"w-2 h-2 bg-orange-400 rounded-full animate-pulse"}),"Featured Courses"]}),d.jsxs("h2",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:["Start Your ",d.jsx("span",{className:"bg-gradient-to-r from-orange-500 to-yellow-400 bg-clip-text text-transparent",children:"Learning Journey"})]}),d.jsx("p",{className:"text-xl text-gray-200 max-w-3xl mx-auto leading-relaxed",children:"Discover hand-picked courses from industry experts. Transform your skills and advance your career with our premium learning experience."})]}),d.jsx("div",{className:"mb-20 w-full",children:d.jsx(Lp,{courses:t,onEditCourse:e,onDeleteCourse:n})}),d.jsx(Se.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"grid grid-cols-2 md:grid-cols-4 gap-8 mb-16 bg-card rounded-2xl p-8 shadow-lg border border-border",children:[{number:"50,000+",label:"Students"},{number:"500+",label:"Courses"},{number:"100+",label:"Instructors"},{number:"4.8",label:"Rating"}].map((I,D)=>d.jsxs(Se.div,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.6,delay:D*.1},className:"text-center",children:[d.jsx("div",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-orange-500 to-yellow-400 bg-clip-text text-transparent mb-2",children:I.number}),d.jsx("div",{className:"text-gray-300 font-medium",children:I.label})]},I.label))}),d.jsx(Se.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center",children:d.jsx(rf,{to:"/courses",children:d.jsxs(Oe,{size:"lg",className:"px-8 py-4 text-lg bg-gradient-to-r from-orange-500 to-yellow-400 hover:from-orange-600 hover:to-yellow-500 shadow-lg hover:shadow-xl transition-all duration-300 group",children:["Explore All Courses",d.jsx(XV,{className:"ml-2 w-5 h-5 group-hover:translate-x-1 transition-transform"})]})})})]})]}),OG=[{icon:n4,href:"#",color:"hover:text-blue-600"},{icon:m4,href:"#",color:"hover:text-blue-400"},{icon:i4,href:"#",color:"hover:text-pink-500"},{icon:y4,href:"#",color:"hover:text-red-500"}],Fp=()=>d.jsx("footer",{className:"bg-background text-white border-t-4 border-border",children:d.jsxs("div",{className:"container mx-auto px-4 py-12 flex flex-col items-center justify-center gap-6",children:[d.jsxs(Se.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"flex flex-col items-center gap-2",children:[d.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-2xl flex items-center justify-center mb-2 shadow-lg",children:d.jsx("span",{className:"text-white font-bold text-2xl",children:"CH"})}),d.jsx("span",{className:"text-2xl font-bold tracking-tight",children:"CourseHub"}),d.jsx("p",{className:"text-gray-300 text-center max-w-md text-sm",children:"Empowering learners with high-quality, accessible education. Unlock your potential today."})]}),d.jsx("div",{className:"flex space-x-5 mt-2",children:OG.map((t,e)=>d.jsx(Se.a,{href:t.href,initial:{opacity:0,scale:0},whileInView:{opacity:1,scale:1},transition:{delay:e*.1},whileHover:{scale:1.2},className:`text-gray-400 ${t.color} transition-colors duration-200`,"aria-label":t.icon.name,children:d.jsx(t.icon,{className:"w-6 h-6"})},e))}),d.jsxs(Se.form,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"w-full max-w-md mx-auto flex flex-col sm:flex-row items-center gap-3 bg-card rounded-xl p-4 mt-6 shadow-inner",onSubmit:t=>t.preventDefault(),children:[d.jsx("input",{type:"email",required:!0,placeholder:"Enter your email",className:"flex-1 px-4 py-2 rounded-lg bg-background text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 border border-border"}),d.jsx("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-orange-500 to-yellow-400 rounded-lg text-white font-semibold hover:from-orange-600 hover:to-yellow-500 transition-all duration-200 shadow",children:"Subscribe"})]}),d.jsx(Se.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.5},className:"pt-6 text-center text-gray-400 text-xs w-full border-t border-gray-800",children:d.jsx("p",{children:"© 2024 CourseHub. All rights reserved."})})]})}),VG=()=>{const[t,e]=v.useState([]);return v.useEffect(()=>{const n=vu(Cn(Le,"courses"),r=>{e(r.docs.map(s=>({id:s.id,...s.data()})))});return()=>n()},[]),d.jsxs(d.Fragment,{children:[d.jsx(Vi,{}),d.jsxs("main",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:[d.jsx(DG,{}),d.jsx(MG,{courses:t})]}),d.jsx(Fp,{})]})};function fD(t,[e,n]){return Math.min(n,Math.max(e,t))}var LG=v.createContext(void 0);function FG(t){const e=v.useContext(LG);return t||e||"ltr"}function UG(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var pD=["PageUp","PageDown"],mD=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],gD={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},El="Slider",[xv,BG,$G]=BA(El),[yD,XQ]=sl(El,[$G]),[zG,Up]=yD(El),vD=v.forwardRef((t,e)=>{const{name:n,min:r=0,max:s=100,step:i=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:h,onValueChange:p=()=>{},onValueCommit:f=()=>{},inverted:m=!1,form:w,...y}=t,_=v.useRef(new Set),x=v.useRef(0),T=o==="horizontal"?WG:HG,[I=[],D]=_0({prop:h,defaultProp:c,onChange:R=>{var N;(N=[..._.current][x.current])==null||N.focus(),p(R)}}),M=v.useRef(I);function C(R){const j=YG(I,R);k(R,j)}function S(R){k(R,x.current)}function A(){const R=M.current[x.current];I[x.current]!==R&&f(I)}function k(R,j,{commit:N}={commit:!1}){const q=eQ(i),U=tQ(Math.round((R-r)/i)*i+r,q),G=fD(U,[r,s]);D(($=[])=>{const O=GG($,G,j);if(ZG(O,l*i)){x.current=O.indexOf(G);const z=String(O)!==String($);return z&&N&&f(O),z?O:$}else return $})}return d.jsx(zG,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:s,valueIndexToChangeRef:x,thumbs:_.current,values:I,orientation:o,form:w,children:d.jsx(xv.Provider,{scope:t.__scopeSlider,children:d.jsx(xv.Slot,{scope:t.__scopeSlider,children:d.jsx(T,{"aria-disabled":a,"data-disabled":a?"":void 0,...y,ref:e,onPointerDown:Re(y.onPointerDown,()=>{a||(M.current=I)}),min:r,max:s,inverted:m,onSlideStart:a?void 0:C,onSlideMove:a?void 0:S,onSlideEnd:a?void 0:A,onHomeKeyDown:()=>!a&&k(r,0,{commit:!0}),onEndKeyDown:()=>!a&&k(s,I.length-1,{commit:!0}),onStepKeyDown:({event:R,direction:j})=>{if(!a){const U=pD.includes(R.key)||R.shiftKey&&mD.includes(R.key)?10:1,G=x.current,$=I[G],O=i*U*j;k($+O,G,{commit:!0})}}})})})})});vD.displayName=El;var[wD,xD]=yD(El,{startEdge:"left",endEdge:"right",size:"width",direction:1}),WG=v.forwardRef((t,e)=>{const{min:n,max:r,dir:s,inverted:i,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...h}=t,[p,f]=v.useState(null),m=lt(e,T=>f(T)),w=v.useRef(),y=FG(s),_=y==="ltr",x=_&&!i||!_&&i;function E(T){const I=w.current||p.getBoundingClientRect(),D=[0,I.width],C=Ax(D,x?[n,r]:[r,n]);return w.current=I,C(T-I.left)}return d.jsx(wD,{scope:t.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:d.jsx(_D,{dir:y,"data-orientation":"horizontal",...h,ref:m,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:T=>{const I=E(T.clientX);o==null||o(I)},onSlideMove:T=>{const I=E(T.clientX);a==null||a(I)},onSlideEnd:()=>{w.current=void 0,l==null||l()},onStepKeyDown:T=>{const D=gD[x?"from-left":"from-right"].includes(T.key);c==null||c({event:T,direction:D?-1:1})}})})}),HG=v.forwardRef((t,e)=>{const{min:n,max:r,inverted:s,onSlideStart:i,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...c}=t,h=v.useRef(null),p=lt(e,h),f=v.useRef(),m=!s;function w(y){const _=f.current||h.current.getBoundingClientRect(),x=[0,_.height],T=Ax(x,m?[r,n]:[n,r]);return f.current=_,T(y-_.top)}return d.jsx(wD,{scope:t.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:d.jsx(_D,{"data-orientation":"vertical",...c,ref:p,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const _=w(y.clientY);i==null||i(_)},onSlideMove:y=>{const _=w(y.clientY);o==null||o(_)},onSlideEnd:()=>{f.current=void 0,a==null||a()},onStepKeyDown:y=>{const x=gD[m?"from-bottom":"from-top"].includes(y.key);l==null||l({event:y,direction:x?-1:1})}})})}),_D=v.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...c}=t,h=Up(El,n);return d.jsx(Fe.span,{...c,ref:e,onKeyDown:Re(t.onKeyDown,p=>{p.key==="Home"?(o(p),p.preventDefault()):p.key==="End"?(a(p),p.preventDefault()):pD.concat(mD).includes(p.key)&&(l(p),p.preventDefault())}),onPointerDown:Re(t.onPointerDown,p=>{const f=p.target;f.setPointerCapture(p.pointerId),p.preventDefault(),h.thumbs.has(f)?f.focus():r(p)}),onPointerMove:Re(t.onPointerMove,p=>{p.target.hasPointerCapture(p.pointerId)&&s(p)}),onPointerUp:Re(t.onPointerUp,p=>{const f=p.target;f.hasPointerCapture(p.pointerId)&&(f.releasePointerCapture(p.pointerId),i(p))})})}),ED="SliderTrack",bD=v.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=Up(ED,n);return d.jsx(Fe.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:e})});bD.displayName=ED;var _v="SliderRange",TD=v.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=Up(_v,n),i=xD(_v,n),o=v.useRef(null),a=lt(e,o),l=s.values.length,c=s.values.map(f=>CD(f,s.min,s.max)),h=l>1?Math.min(...c):0,p=100-Math.max(...c);return d.jsx(Fe.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:a,style:{...t.style,[i.startEdge]:h+"%",[i.endEdge]:p+"%"}})});TD.displayName=_v;var Ev="SliderThumb",SD=v.forwardRef((t,e)=>{const n=BG(t.__scopeSlider),[r,s]=v.useState(null),i=lt(e,a=>s(a)),o=v.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return d.jsx(qG,{...t,ref:i,index:o})}),qG=v.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:s,...i}=t,o=Up(Ev,n),a=xD(Ev,n),[l,c]=v.useState(null),h=lt(e,E=>c(E)),p=l?o.form||!!l.closest("form"):!0,f=OI(l),m=o.values[r],w=m===void 0?0:CD(m,o.min,o.max),y=QG(r,o.values.length),_=f==null?void 0:f[a.size],x=_?XG(_,w,a.direction):0;return v.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),d.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${w}% + ${x}px)`},children:[d.jsx(xv.ItemSlot,{scope:t.__scopeSlider,children:d.jsx(Fe.span,{role:"slider","aria-label":t["aria-label"]||y,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:h,style:m===void 0?{display:"none"}:t.style,onFocus:Re(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),p&&d.jsx(KG,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},r)]})});SD.displayName=Ev;var KG=t=>{const{value:e,...n}=t,r=v.useRef(null),s=UG(e);return v.useEffect(()=>{const i=r.current,o=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(o,"value").set;if(s!==e&&l){const c=new Event("input",{bubbles:!0});l.call(i,e),i.dispatchEvent(c)}},[s,e]),d.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:e})};function GG(t=[],e,n){const r=[...t];return r[n]=e,r.sort((s,i)=>s-i)}function CD(t,e,n){const i=100/(n-e)*(t-e);return fD(i,[0,100])}function QG(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function YG(t,e){if(t.length===1)return 0;const n=t.map(s=>Math.abs(s-e)),r=Math.min(...n);return n.indexOf(r)}function XG(t,e,n){const r=t/2,i=Ax([0,50],[0,r]);return(r-i(e)*n)*n}function JG(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function ZG(t,e){if(e>0){const n=JG(t);return Math.min(...n)>=e}return!0}function Ax(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function eQ(t){return(String(t).split(".")[1]||"").length}function tQ(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var AD=vD,nQ=bD,rQ=TD,sQ=SD;const bv=v.forwardRef(({className:t,...e},n)=>d.jsxs(AD,{ref:n,className:we("relative flex w-full touch-none select-none items-center",t),...e,children:[d.jsx(nQ,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:d.jsx(rQ,{className:"absolute h-full bg-primary"})}),d.jsx(sQ,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));bv.displayName=AD.displayName;const ID=({className:t,...e})=>d.jsx("nav",{role:"navigation","aria-label":"pagination",className:we("mx-auto flex w-full justify-center",t),...e});ID.displayName="Pagination";const PD=v.forwardRef(({className:t,...e},n)=>d.jsx("ul",{ref:n,className:we("flex flex-row items-center gap-1",t),...e}));PD.displayName="PaginationContent";const oc=v.forwardRef(({className:t,...e},n)=>d.jsx("li",{ref:n,className:we("",t),...e}));oc.displayName="PaginationItem";const Bp=({className:t,isActive:e,size:n="icon",...r})=>d.jsx("a",{"aria-current":e?"page":void 0,className:we(cp({variant:e?"outline":"ghost",size:n}),t),...r});Bp.displayName="PaginationLink";const RD=({className:t,...e})=>d.jsxs(Bp,{"aria-label":"Go to previous page",size:"default",className:we("gap-1 pl-2.5",t),...e,children:[d.jsx(JV,{className:"h-4 w-4"}),d.jsx("span",{children:"Previous"})]});RD.displayName="PaginationPrevious";const ND=({className:t,...e})=>d.jsxs(Bp,{"aria-label":"Go to next page",size:"default",className:we("gap-1 pr-2.5",t),...e,children:[d.jsx("span",{children:"Next"}),d.jsx(ZV,{className:"h-4 w-4"})]});ND.displayName="PaginationNext";const iQ=()=>{const[t,e]=v.useState(""),[n,r]=v.useState("All"),[s,i]=v.useState("All"),[o,a]=v.useState(0),[l,c]=v.useState([0,200]),[h,p]=v.useState("popular"),[f,m]=v.useState("grid"),[w,y]=v.useState(1),[_,x]=v.useState(!0),[E,T]=v.useState([]),[I,D]=v.useState([]),M=12,C=["All","Beginner","Intermediate","Advanced"],S=[{value:"popular",label:"Most Popular",icon:p4},{value:"rating",label:"Highest Rated",icon:ts},{value:"price-low",label:"Price: Low to High",icon:fy},{value:"price-high",label:"Price: High to Low",icon:fy},{value:"newest",label:"Newest",icon:gI},{value:"duration",label:"Duration",icon:ii}];v.useEffect(()=>{x(!0);const U=vu(Cn(Le,"courses"),G=>{console.log("🔥 Fetched courses from Firestore:",G.docs.length,"courses");const $=G.docs.map(z=>{const K=z.data();return console.log("📄 Course data:",z.id,K),{id:z.id,title:K.title||"",instructor:K.instructor||"",rating:K.rating||0,students:K.students||0,duration:K.duration||"",price:K.price||0,originalPrice:K.originalPrice,image:K.image||"",category:K.category||"",level:K.level||"",description:K.description||"",tags:K.tags||[],lastUpdated:K.lastUpdated||K.createdAt,createdAt:K.createdAt}});console.log("✅ Processed courses:",$),T($);const O=["All",...new Set($.map(z=>z.category).filter(Boolean))];D(O),x(!1)},G=>{console.error("❌ Error fetching courses:",G),x(!1)});return()=>U()},[]),console.log("🔍 Filtering courses. Total courses:",E.length),console.log("🎛️ Current filters:",{searchTerm:t,selectedCategory:n,selectedLevel:s,selectedRating:o,priceRange:l});let A=E.filter(U=>{console.log("🔍 Checking course:",U.title,{price:U.price,rating:U.rating,category:U.category,level:U.level,priceType:typeof U.price,ratingType:typeof U.rating});const G=U.title.toLowerCase().includes(t.toLowerCase())||U.instructor.toLowerCase().includes(t.toLowerCase())||U.description&&U.description.toLowerCase().includes(t.toLowerCase()),$=n==="All"||U.category===n,O=s==="All"||U.level===s,z=typeof U.price=="number"?U.price:parseFloat(U.price)||0,Z=(typeof U.rating=="number"?U.rating:parseFloat(U.rating)||0)>=o,ne=z>=l[0]&&z<=l[1],se=G&&$&&O;return se?console.log("✅ Course included:",U.title):console.log("❌ Course filtered out:",U.title,{matchesSearch:G,matchesCategory:$,matchesLevel:O,matchesRating:Z,matchesPrice:ne,searchTerm:t,selectedCategory:n,selectedLevel:s,selectedRating:o,priceRange:l,coursePrice:U.price,courseRating:U.rating}),se});console.log("📊 Filtered courses result:",A.length,"courses"),console.log("📋 Filtered courses:",A);const k=[...A].sort((U,G)=>{var $,O,z,K,Z,ne,se,Ie;switch(h){case"rating":return G.rating-U.rating;case"price-low":return U.price-G.price;case"price-high":return G.price-U.price;case"newest":const Ye=((O=($=U.lastUpdated)==null?void 0:$.toDate)==null?void 0:O.call($))||((K=(z=U.createdAt)==null?void 0:z.toDate)==null?void 0:K.call(z))||new Date(0);return(((ne=(Z=G.lastUpdated)==null?void 0:Z.toDate)==null?void 0:ne.call(Z))||((Ie=(se=G.createdAt)==null?void 0:se.toDate)==null?void 0:Ie.call(se))||new Date(0)).getTime()-Ye.getTime();case"duration":const ft=parseInt(U.duration)||0,an=parseInt(G.duration)||0;return ft-an;default:return G.students-U.students}}),R=Math.ceil(k.length/M),j=(w-1)*M,N=k.slice(j,j+M);console.log("📄 Pagination info:",{totalPages:R,startIndex:j,currentPage:w,coursesPerPage:M}),console.log("🎯 Current courses to display:",N.length,N);const q=()=>{e(""),r("All"),i("All"),a(0),c([0,200]),p("popular"),y(1)};return d.jsxs("div",{className:"min-h-screen bg-background text-white",children:[d.jsx(Vi,{}),d.jsx("section",{className:"bg-gradient-to-r from-[#232326] to-[#18181b] text-white py-20",children:d.jsx("div",{className:"container mx-auto px-4",children:d.jsxs(Se.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[d.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 text-white",children:"Explore Our Courses"}),d.jsxs("p",{className:"text-xl md:text-2xl text-gray-200 max-w-3xl mx-auto mb-8",children:["Discover ",E.length,"+ courses designed to help you master new skills and advance your career"]}),d.jsxs("div",{className:"flex flex-wrap justify-center gap-4 text-sm text-gray-300",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(pi,{className:"w-4 h-4"}),d.jsxs("span",{children:[I.length-1,"+ Categories"]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ts,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),d.jsx("span",{children:"4.8+ Average Rating"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ii,{className:"w-4 h-4"}),d.jsx("span",{children:"Lifetime Access"})]})]})]})})}),d.jsx("section",{className:"py-8 bg-card border-b border-border",children:d.jsxs("div",{className:"container mx-auto px-4",children:[d.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 items-start justify-between",children:[d.jsxs("div",{className:"flex-1 space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(pI,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",placeholder:"Search courses, instructors, or topics...",value:t,onChange:U=>e(U.target.value),className:"w-full pl-10 pr-4 py-3 border border-border rounded-lg bg-background text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),d.jsxs("div",{className:"flex flex-wrap gap-4",children:[d.jsx("select",{value:n,onChange:U=>r(U.target.value),className:"px-4 py-2 border border-border rounded-lg bg-background text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:I.map(U=>d.jsx("option",{value:U,children:U},U))}),d.jsx("select",{value:s,onChange:U=>i(U.target.value),className:"px-4 py-2 border border-border rounded-lg bg-background text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:C.map(U=>d.jsx("option",{value:U,children:U},U))}),d.jsx("select",{value:h,onChange:U=>p(U.target.value),className:"px-4 py-2 border border-border rounded-lg bg-background text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:S.map(U=>d.jsx("option",{value:U.value,children:U.label},U.value))})]})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[d.jsx(Oe,{variant:f==="grid"?"default":"ghost",size:"sm",onClick:()=>m("grid"),className:"p-2",children:d.jsx(s4,{className:"w-4 h-4"})}),d.jsx(Oe,{variant:f==="list"?"default":"ghost",size:"sm",onClick:()=>m("list"),className:"p-2",children:d.jsx(o4,{className:"w-4 h-4"})})]}),d.jsx(Oe,{variant:"outline",size:"sm",onClick:q,className:"text-gray-400 hover:text-white",children:"Reset Filters"})]})]}),d.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-3",children:[d.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Minimum Rating"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(bv,{value:[o],onValueChange:U=>a(U[0]),max:5,min:0,step:.5,className:"flex-1"}),d.jsxs("div",{className:"flex items-center gap-1 text-yellow-400",children:[d.jsx(ts,{className:"w-4 h-4 fill-current"}),d.jsxs("span",{className:"text-sm font-medium",children:[o,"+"]})]})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Price Range"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(bv,{value:l,onValueChange:U=>c(U),max:200,min:0,step:10,className:"flex-1"}),d.jsxs("div",{className:"text-sm text-gray-400",children:["৳",l[0]," - ৳",l[1]]})]})]})]}),d.jsx("div",{className:"mt-4 flex flex-wrap items-center justify-between gap-4",children:d.jsxs("div",{className:"text-gray-400",children:["Showing ",A.length," of ",E.length," courses"]})})]})}),d.jsx("section",{className:"py-12",children:d.jsx("div",{className:"container mx-auto px-4",children:_?d.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:[...Array(8)].map((U,G)=>d.jsx("div",{className:"animate-pulse",children:d.jsx("div",{className:"bg-gray-800 rounded-3xl h-80"})},G))}):N.length>0?d.jsxs(d.Fragment,{children:[console.log("🎨 Rendering courses grid with",N.length,"courses"),d.jsx(Lp,{courses:N}),R>1&&d.jsx("div",{className:"mt-12 flex justify-center",children:d.jsx(ID,{children:d.jsxs(PD,{children:[d.jsx(oc,{children:d.jsx(RD,{onClick:()=>y(Math.max(1,w-1)),className:w===1?"pointer-events-none opacity-50":"cursor-pointer"})}),[...Array(R)].map((U,G)=>{const $=G+1,O=w===$,z=Math.abs(w-$)<=1;return O||z||$===1||$===R?d.jsx(oc,{children:d.jsx(Bp,{onClick:()=>y($),isActive:O,className:"cursor-pointer",children:$})},G):$===w-2||$===w+2?d.jsx(oc,{children:d.jsx("span",{className:"px-3 py-2 text-gray-400",children:"..."})},G):null}),d.jsx(oc,{children:d.jsx(ND,{onClick:()=>y(Math.min(R,w+1)),className:w===R?"pointer-events-none opacity-50":"cursor-pointer"})})]})})})]}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),d.jsx("h3",{className:"text-2xl font-bold mb-2",children:"No courses found"}),d.jsx("p",{className:"text-gray-400 mb-6",children:"Try adjusting your search criteria or filters"}),d.jsx(Oe,{onClick:q,variant:"outline",children:"Reset Filters"})]})})}),d.jsx(Fp,{})]})},ca=v.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:we("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ca.displayName="Card";const Sh=v.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:we("flex flex-col space-y-1.5 p-6",t),...e}));Sh.displayName="CardHeader";const Tv=v.forwardRef(({className:t,...e},n)=>d.jsx("h3",{ref:n,className:we("text-2xl font-semibold leading-none tracking-tight",t),...e}));Tv.displayName="CardTitle";const oQ=v.forwardRef(({className:t,...e},n)=>d.jsx("p",{ref:n,className:we("text-sm text-muted-foreground",t),...e}));oQ.displayName="CardDescription";const ua=v.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:we("p-6 pt-0",t),...e}));ua.displayName="CardContent";const aQ=v.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:we("flex items-center p-6 pt-0",t),...e}));aQ.displayName="CardFooter";const lQ=({isOpen:t,onClose:e,course:n})=>{const{user:r}=Cx(),[s,i]=v.useState(!1),[o,a]=v.useState(!1),[l,c]=v.useState(""),[h,p]=v.useState({userName:(r==null?void 0:r.displayName)||"",email:(r==null?void 0:r.email)||"",phoneNumber:"",address:"",transactionId:"",paymentMethod:"",additionalNotes:""}),f=y=>{p({...h,[y.target.name]:y.target.value})},m=async()=>{if(!r)return!1;const y=Cn(Le,"enrollments"),_=Dp(y,Za("userEmail","==",r.email),Za("courseId","==",n.id));return!(await yu(_)).empty},w=async y=>{y.preventDefault(),i(!0),c("");try{if(await m()){c("You are already enrolled in this course!"),i(!1);return}if(!h.userName||!h.email||!h.phoneNumber||!h.address||!h.transactionId){c("Please fill in all required fields."),i(!1);return}const x={userId:r==null?void 0:r.uid,userEmail:h.email,userName:h.userName,phoneNumber:h.phoneNumber,address:h.address,transactionId:h.transactionId,paymentMethod:h.paymentMethod,additionalNotes:h.additionalNotes,courseId:n.id,courseTitle:n.title,coursePrice:n.price,status:"pending",enrolledAt:ic(),approvedAt:null,approvedBy:null},E=await vv(Cn(Le,"enrollments"),x),T=en(Le,"courses",n.id);await la(T,{students:mK(1)}),a(!0),Fn({title:"Enrollment Submitted!",description:"Your enrollment request has been submitted successfully. We'll review and approve it soon."})}catch(_){console.error("Enrollment error:",_),c("Failed to submit enrollment. Please try again.")}finally{i(!1)}};return t?d.jsx(SU,{children:d.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-md z-50 flex items-center justify-center p-4",onClick:e,children:d.jsxs(Se.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 border border-orange-500/20 rounded-3xl p-8 w-full max-w-3xl max-h-[90vh] overflow-y-auto shadow-2xl shadow-orange-500/10",onClick:y=>y.stopPropagation(),children:[d.jsxs("div",{className:"relative mb-8",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-600/20 to-yellow-600/20 rounded-2xl"}),d.jsxs("div",{className:"relative flex items-center justify-between p-6",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-500 to-yellow-500 rounded-xl flex items-center justify-center",children:d.jsx(pi,{className:"w-5 h-5 text-white"})}),d.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-orange-400 to-yellow-400 bg-clip-text text-transparent",children:"Enroll in Course"})]}),d.jsx("p",{className:"text-gray-300 text-lg font-medium",children:n.title})]}),d.jsx("button",{onClick:e,className:"p-3 hover:bg-orange-500/20 rounded-xl transition-all duration-300 group",children:d.jsx(Qr,{className:"w-6 h-6 text-gray-400 group-hover:text-orange-400 transition-colors"})})]})]}),o&&d.jsx(Se.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-500/30 rounded-2xl p-6 mb-8",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-emerald-500 rounded-xl flex items-center justify-center",children:d.jsx(qc,{className:"w-6 h-6 text-white"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-green-400 font-bold text-lg",children:"Enrollment Submitted Successfully!"}),d.jsx("p",{className:"text-green-300 text-base",children:"Your enrollment request has been sent to admin for approval. You can close this window now."})]})]})}),l&&d.jsx(Se.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-red-500/20 to-pink-500/20 border border-red-500/30 rounded-2xl p-6 mb-8",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-red-500 to-pink-500 rounded-xl flex items-center justify-center",children:d.jsx(e4,{className:"w-6 h-6 text-white"})}),d.jsx("p",{className:"text-red-400 font-bold text-lg",children:l})]})}),d.jsx("div",{className:"bg-gradient-to-r from-orange-500/10 to-yellow-500/10 border border-orange-500/20 rounded-2xl p-6 mb-8",children:d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:n.image,alt:n.title,className:"w-20 h-16 object-cover rounded-xl border-2 border-orange-500/30"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-orange-500/20 to-transparent rounded-xl"})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-white font-bold text-lg mb-1",children:n.title}),d.jsxs("p",{className:"text-orange-400 font-medium",children:["by ",n.instructor]})]}),d.jsx("div",{className:"text-right",children:d.jsxs("div",{className:"text-center mb-6",children:[d.jsxs("p",{className:"text-3xl font-bold bg-gradient-to-r from-orange-400 to-yellow-400 bg-clip-text text-transparent",children:["৳",n.price]}),n.originalPrice&&n.originalPrice>n.price&&d.jsxs("p",{className:"text-gray-400 text-sm line-through",children:["৳",n.originalPrice]})]})})]})}),d.jsxs("form",{onSubmit:w,className:"space-y-8",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[d.jsxs("div",{className:"group",children:[d.jsxs("label",{className:"block text-sm font-bold text-orange-400 mb-3 flex items-center gap-2",children:[d.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-orange-500 to-yellow-500 rounded-lg flex items-center justify-center",children:d.jsx(g4,{className:"w-4 h-4 text-white"})}),"Full Name *"]}),d.jsx("input",{type:"text",name:"userName",value:h.userName,onChange:f,placeholder:"Enter your full name",className:"w-full bg-gray-800/50 border-2 border-gray-700 rounded-2xl px-6 py-4 text-white placeholder-gray-400 focus:border-orange-500 focus:ring-4 focus:ring-orange-500/20 transition-all duration-300 text-lg group-hover:border-orange-500/50",required:!0})]}),d.jsxs("div",{className:"group",children:[d.jsxs("label",{className:"block text-sm font-bold text-orange-400 mb-3 flex items-center gap-2",children:[d.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-orange-500 to-yellow-500 rounded-lg flex items-center justify-center",children:d.jsx(a4,{className:"w-4 h-4 text-white"})}),"Email Address *"]}),d.jsx("input",{type:"email",name:"email",value:h.email,onChange:f,placeholder:"Enter your email",className:"w-full bg-gray-800/50 border-2 border-gray-700 rounded-2xl px-6 py-4 text-white placeholder-gray-400 focus:border-orange-500 focus:ring-4 focus:ring-orange-500/20 transition-all duration-300 text-lg group-hover:border-orange-500/50",required:!0})]}),d.jsxs("div",{className:"group",children:[d.jsxs("label",{className:"block text-sm font-bold text-orange-400 mb-3 flex items-center gap-2",children:[d.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-orange-500 to-yellow-500 rounded-lg flex items-center justify-center",children:d.jsx(h4,{className:"w-4 h-4 text-white"})}),"Phone Number *"]}),d.jsx("input",{type:"tel",name:"phoneNumber",value:h.phoneNumber,onChange:f,placeholder:"Enter your phone number",className:"w-full bg-gray-800/50 border-2 border-gray-700 rounded-2xl px-6 py-4 text-white placeholder-gray-400 focus:border-orange-500 focus:ring-4 focus:ring-orange-500/20 transition-all duration-300 text-lg group-hover:border-orange-500/50",required:!0})]}),d.jsxs("div",{className:"group",children:[d.jsxs("label",{className:"block text-sm font-bold text-orange-400 mb-3 flex items-center gap-2",children:[d.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-orange-500 to-yellow-500 rounded-lg flex items-center justify-center",children:d.jsx(O1,{className:"w-4 h-4 text-white"})}),"Payment Method *"]}),d.jsxs("select",{name:"paymentMethod",value:h.paymentMethod,onChange:f,className:"w-full bg-gray-800/50 border-2 border-gray-700 rounded-2xl px-6 py-4 text-white focus:border-orange-500 focus:ring-4 focus:ring-orange-500/20 transition-all duration-300 text-lg group-hover:border-orange-500/50",required:!0,children:[d.jsx("option",{value:"",children:"Select Payment Method"}),d.jsx("option",{value:"bkash",children:"Bkash"}),d.jsx("option",{value:"nagad",children:"Nagad"}),d.jsx("option",{value:"rocket",children:"Rocket"}),d.jsx("option",{value:"upay",children:"Upay"})]})]})]}),d.jsxs("div",{className:"group",children:[d.jsxs("label",{className:"block text-sm font-bold text-orange-400 mb-3 flex items-center gap-2",children:[d.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-orange-500 to-yellow-500 rounded-lg flex items-center justify-center",children:d.jsx(l4,{className:"w-4 h-4 text-white"})}),"Address *"]}),d.jsx("textarea",{name:"address",value:h.address,onChange:f,placeholder:"Enter your full address",rows:3,className:"w-full bg-gray-800/50 border-2 border-gray-700 rounded-2xl px-6 py-4 text-white placeholder-gray-400 focus:border-orange-500 focus:ring-4 focus:ring-orange-500/20 transition-all duration-300 text-lg group-hover:border-orange-500/50 resize-none",required:!0})]}),d.jsxs("div",{className:"group",children:[d.jsxs("label",{className:"block text-sm font-bold text-orange-400 mb-3 flex items-center gap-2",children:[d.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-orange-500 to-yellow-500 rounded-lg flex items-center justify-center",children:d.jsx(O1,{className:"w-4 h-4 text-white"})}),"Transaction ID *"]}),d.jsx("input",{type:"text",name:"transactionId",value:h.transactionId,onChange:f,placeholder:"Enter your transaction ID",className:"w-full bg-gray-800/50 border-2 border-gray-700 rounded-2xl px-6 py-4 text-white placeholder-gray-400 focus:border-orange-500 focus:ring-4 focus:ring-orange-500/20 transition-all duration-300 text-lg group-hover:border-orange-500/50",required:!0}),d.jsx("p",{className:"text-orange-300 text-sm mt-2 font-medium",children:"Please provide the transaction ID from your payment confirmation."})]}),d.jsxs("div",{className:"group",children:[d.jsx("label",{className:"block text-sm font-bold text-orange-400 mb-3",children:"Additional Notes (Optional)"}),d.jsx("textarea",{name:"additionalNotes",value:h.additionalNotes,onChange:f,placeholder:"Any additional information you'd like to share...",rows:3,className:"w-full bg-gray-800/50 border-2 border-gray-700 rounded-2xl px-6 py-4 text-white placeholder-gray-400 focus:border-orange-500 focus:ring-4 focus:ring-orange-500/20 transition-all duration-300 text-lg group-hover:border-orange-500/50 resize-none"})]}),d.jsx("div",{className:"bg-gradient-to-r from-orange-500/10 to-yellow-500/10 border border-orange-500/20 rounded-2xl p-6",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-orange-500 to-yellow-500 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5",children:d.jsx(qc,{className:"w-4 h-4 text-white"})}),d.jsx("p",{className:"text-gray-200 text-base leading-relaxed",children:"By submitting this enrollment form, you agree to our terms and conditions. Your enrollment will be reviewed by our admin team and you will be notified once approved. Please ensure all information provided is accurate."})]})}),d.jsxs("div",{className:"flex gap-6 justify-end pt-8 border-t border-orange-500/20",children:[d.jsx(Oe,{type:"button",onClick:e,variant:"outline",className:"px-8 py-4 bg-gray-800/50 border-2 border-gray-700 text-white rounded-2xl hover:bg-gray-700 hover:border-orange-500/50 transition-all duration-300 text-lg font-medium",children:"Cancel"}),d.jsx(Oe,{type:"submit",disabled:s||o,className:`px-8 py-4 text-white rounded-2xl transition-all duration-300 font-bold text-lg shadow-xl disabled:opacity-50 disabled:cursor-not-allowed ${o?"bg-gradient-to-r from-yellow-500 to-orange-500 shadow-yellow-500/25":"bg-gradient-to-r from-orange-500 to-yellow-500 hover:from-orange-600 hover:to-yellow-600 shadow-orange-500/25"}`,children:s?"Submitting...":o?"Enrollment Pending":"Submit Enrollment"})]})]})]})})}):null},cQ=()=>{var _,x,E,T,I,D,M,C;const{id:t}=pP(),e=Iu(),{user:n}=Cx(),[r,s]=v.useState(null),[i,o]=v.useState(!0);v.useState(0),v.useState(0);const[a,l]=v.useState(null),[c,h]=v.useState(!1),[p,f]=v.useState(!1);v.useEffect(()=>{t&&(o(!0),el(en(Le,"courses",t)).then(S=>{S.exists()&&s({id:S.id,...S.data()}),o(!1)}))},[t]),v.useEffect(()=>{(async()=>{if(!(!n||!t))try{const A=Cn(Le,"enrollments"),k=Dp(A,Za("userEmail","==",n.email),Za("courseId","==",t)),R=await yu(k);if(R.empty)l(null);else{const j=R.docs[0].data();l(j.status||"pending")}}catch(A){console.error("Error checking enrollment status:",A)}})()},[t,n]);const m=()=>{if(!n){f(!0);return}h(!0)},w=()=>{e(`/course/${r.id}/learn`)},y=()=>{if(!n)return d.jsx(Oe,{className:"w-full bg-gradient-to-r from-orange-500 to-yellow-400 hover:from-orange-600 hover:to-yellow-500 text-lg py-3",onClick:()=>f(!0),children:"Login to Enroll"});switch(a){case"approved":return d.jsxs(Oe,{className:"w-full bg-gradient-to-r from-green-500 to-emerald-400 hover:from-green-600 hover:to-emerald-500 text-lg py-3",onClick:w,children:[d.jsx(pi,{className:"w-5 h-5 mr-2"}),"Start Learning"]});case"pending":return d.jsxs(Oe,{className:"w-full bg-gradient-to-r from-yellow-500 to-orange-400 hover:from-yellow-600 hover:to-orange-500 text-lg py-3",disabled:!0,children:[d.jsx(ii,{className:"w-5 h-5 mr-2"}),"Enrollment Pending"]});case"rejected":return d.jsx(Oe,{className:"w-full bg-gradient-to-r from-red-500 to-pink-400 hover:from-red-600 hover:to-pink-500 text-lg py-3",onClick:m,children:"Re-enroll"});default:return d.jsx(Oe,{className:"w-full bg-gradient-to-r from-orange-500 to-yellow-400 hover:from-orange-600 hover:to-yellow-500 text-lg py-3",onClick:m,children:"Enroll Now"})}};return i?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background text-white",children:d.jsx("span",{className:"text-xl",children:"Loading..."})}):r?d.jsxs("div",{className:"min-h-screen bg-background text-white",children:[d.jsx(Vi,{}),d.jsx("section",{className:"bg-gradient-to-r from-[#232326] to-[#18181b] text-white py-16",children:d.jsx("div",{className:"container mx-auto px-4",children:d.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[d.jsxs(Se.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.6},children:[d.jsx("div",{className:"inline-flex items-center gap-2 bg-white/20 text-white px-3 py-1 rounded-full text-sm font-medium mb-4",children:r.category}),d.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 text-white",children:r.title}),d.jsx("p",{className:"text-xl text-gray-200 mb-4",children:r.description}),d.jsxs("p",{className:"text-lg text-orange-400 mb-6",children:["by ",d.jsx("span",{className:"font-semibold",children:r.instructor||"Instructor"})]}),d.jsxs("div",{className:"flex flex-wrap gap-6 text-sm",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ts,{className:"w-5 h-5 text-yellow-400 fill-current"}),d.jsx("span",{className:"font-semibold",children:r.rating}),d.jsxs("span",{className:"text-gray-400",children:["(",Number(r.students).toLocaleString()," students)"]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ii,{className:"w-5 h-5"}),d.jsx("span",{children:r.duration})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(j1,{className:"w-5 h-5"}),d.jsx("span",{children:r.level})]})]})]}),d.jsx(Se.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"lg:justify-self-end",children:d.jsxs(ca,{className:"w-full max-w-md bg-card shadow-2xl border border-border",children:[d.jsx(Sh,{className:"relative",children:d.jsxs("div",{className:"relative overflow-hidden rounded-lg",children:[d.jsx("img",{src:r.image,alt:r.title,className:"w-full h-48 object-cover opacity-80"}),d.jsx("div",{className:"absolute inset-0 bg-black/10 flex items-center justify-center"})]})}),d.jsxs(ua,{className:"space-y-4",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsx("div",{className:"flex items-center space-x-2",children:d.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[d.jsxs("span",{className:"text-3xl font-bold text-white",children:["৳",r.price]}),r.originalPrice&&r.originalPrice>r.price&&d.jsxs("span",{className:"text-xl text-gray-400 line-through",children:["৳",r.originalPrice]})]})})}),y(),d.jsx("div",{className:"text-center text-sm text-gray-400",children:"30-Day Money-Back Guarantee"}),d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Tr,{className:"w-4 h-4 text-gray-400"}),d.jsxs("span",{children:[Number(r.students).toLocaleString()," students enrolled"]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ii,{className:"w-4 h-4 text-gray-400"}),d.jsxs("span",{children:[r.duration," of content"]})]})]})]})]})})]})})}),d.jsx("section",{className:"py-16",children:d.jsx("div",{className:"container mx-auto px-4",children:d.jsxs("div",{className:"grid lg:grid-cols-3 gap-12",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-12",children:[d.jsxs(Se.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[d.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"What you'll learn"}),d.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:(x=(_=r.whatYouWillLearn)==null?void 0:_.map)==null?void 0:x.call(_,(S,A)=>d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(qc,{className:"w-5 h-5 text-green-500 mt-1 flex-shrink-0"}),d.jsx("span",{className:"text-gray-200",children:S})]},A))})]}),d.jsxs(Se.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[d.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"Course Description"}),d.jsx("p",{className:"text-gray-200 text-lg leading-relaxed",children:r.fullDescription})]}),d.jsxs(Se.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[d.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"Course Curriculum"}),d.jsx("div",{className:"space-y-4",children:(T=(E=r.curriculum)==null?void 0:E.map)==null?void 0:T.call(E,(S,A)=>d.jsx(ca,{className:"hover:shadow-md transition-shadow bg-[#232326] border border-border",children:d.jsx(ua,{className:"p-6",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-lg text-white",children:S.title}),d.jsxs("p",{className:"text-gray-300",children:[S.lessons," lessons • ",S.duration]})]}),d.jsx(yc,{className:"w-5 h-5 text-gray-400"})]})})},A))})]}),d.jsxs(Se.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[d.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"Requirements"}),d.jsx("ul",{className:"space-y-2",children:(D=(I=r.requirements)==null?void 0:I.map)==null?void 0:D.call(I,(S,A)=>d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2"}),d.jsx("span",{className:"text-gray-200",children:S})]},A))})]})]}),d.jsxs("div",{className:"space-y-6 lg:sticky lg:top-24 lg:self-start",children:[d.jsxs(ca,{className:"bg-[#232326] border border-border",children:[d.jsx(Sh,{children:d.jsx(Tv,{className:"text-white",children:"Instructor"})}),d.jsx(ua,{children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-white font-bold",children:((C=(M=r.instructor)==null?void 0:M.charAt(0))==null?void 0:C.toUpperCase())||"I"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-white font-semibold",children:r.instructor||"Instructor"}),d.jsx("p",{className:"text-gray-400 text-sm",children:"Course Instructor"})]})]})})]}),d.jsxs(ca,{className:"bg-[#232326] border border-border",children:[d.jsx(Sh,{children:d.jsx(Tv,{className:"text-white",children:"Course Features"})}),d.jsxs(ua,{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(yc,{className:"w-5 h-5 text-green-400"}),d.jsx("span",{className:"text-gray-200",children:"HD Video Lectures"})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(t4,{className:"w-5 h-5 text-blue-400"}),d.jsx("span",{className:"text-gray-200",children:"Downloadable Resources"})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(j1,{className:"w-5 h-5 text-yellow-400"}),d.jsx("span",{className:"text-gray-200",children:"Certificate of Completion"})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Tr,{className:"w-5 h-5 text-purple-400"}),d.jsx("span",{className:"text-gray-200",children:"Community Support"})]})]})]})]})]})})}),d.jsx(Fp,{}),d.jsx(lQ,{isOpen:c,onClose:()=>h(!1),course:r}),d.jsx(nD,{open:p,onOpenChange:f})]}):d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background text-white",children:d.jsx("span",{className:"text-xl",children:"Course not found."})})},uQ=()=>{const t=Ao();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),d.jsxs(d.Fragment,{children:[d.jsx(Vi,{}),d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),d.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),d.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})]})};var kD="AlertDialog",[dQ,JQ]=sl(kD,[O2]),_s=O2(),DD=t=>{const{__scopeAlertDialog:e,...n}=t,r=_s(e);return d.jsx(J2,{...r,...n,modal:!0})};DD.displayName=kD;var hQ="AlertDialogTrigger",jD=v.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=_s(n);return d.jsx(bG,{...s,...r,ref:e})});jD.displayName=hQ;var fQ="AlertDialogPortal",MD=t=>{const{__scopeAlertDialog:e,...n}=t,r=_s(e);return d.jsx(Z2,{...r,...n})};MD.displayName=fQ;var pQ="AlertDialogOverlay",OD=v.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=_s(n);return d.jsx(xx,{...s,...r,ref:e})});OD.displayName=pQ;var Ta="AlertDialogContent",[mQ,gQ]=dQ(Ta),VD=v.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=_s(n),o=v.useRef(null),a=lt(e,o),l=v.useRef(null);return d.jsx(wG,{contentName:Ta,titleName:LD,docsSlug:"alert-dialog",children:d.jsx(mQ,{scope:n,cancelRef:l,children:d.jsxs(_x,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:Re(s.onOpenAutoFocus,c=>{var h;c.preventDefault(),(h=l.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[d.jsx(w0,{children:r}),d.jsx(vQ,{contentRef:o})]})})})});VD.displayName=Ta;var LD="AlertDialogTitle",FD=v.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=_s(n);return d.jsx(Ex,{...s,...r,ref:e})});FD.displayName=LD;var UD="AlertDialogDescription",BD=v.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=_s(n);return d.jsx(bx,{...s,...r,ref:e})});BD.displayName=UD;var yQ="AlertDialogAction",$D=v.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=_s(n);return d.jsx(Tx,{...s,...r,ref:e})});$D.displayName=yQ;var zD="AlertDialogCancel",WD=v.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=gQ(zD,n),i=_s(n),o=lt(e,s);return d.jsx(Tx,{...i,...r,ref:o})});WD.displayName=zD;var vQ=({contentRef:t})=>{const e=`\`${Ta}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ta}\` by passing a \`${UD}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ta}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},wQ=DD,xQ=jD,_Q=MD,HD=OD,qD=VD,KD=$D,GD=WD,QD=FD,YD=BD;const EQ=wQ,bQ=xQ,TQ=_Q,XD=v.forwardRef(({className:t,...e},n)=>d.jsx(HD,{className:we("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));XD.displayName=HD.displayName;const JD=v.forwardRef(({className:t,...e},n)=>d.jsxs(TQ,{children:[d.jsx(XD,{}),d.jsx(qD,{ref:n,className:we("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));JD.displayName=qD.displayName;const ZD=({className:t,...e})=>d.jsx("div",{className:we("flex flex-col space-y-2 text-center sm:text-left",t),...e});ZD.displayName="AlertDialogHeader";const ej=({className:t,...e})=>d.jsx("div",{className:we("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});ej.displayName="AlertDialogFooter";const tj=v.forwardRef(({className:t,...e},n)=>d.jsx(QD,{ref:n,className:we("text-lg font-semibold",t),...e}));tj.displayName=QD.displayName;const nj=v.forwardRef(({className:t,...e},n)=>d.jsx(YD,{ref:n,className:we("text-sm text-muted-foreground",t),...e}));nj.displayName=YD.displayName;const rj=v.forwardRef(({className:t,...e},n)=>d.jsx(KD,{ref:n,className:we(cp(),t),...e}));rj.displayName=KD.displayName;const sj=v.forwardRef(({className:t,...e},n)=>d.jsx(GD,{ref:n,className:we(cp({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));sj.displayName=GD.displayName;const SQ=()=>{const[t,e]=v.useState([]);v.useState(null);const[n,r]=v.useState({title:"",instructor:"",duration:"",price:"",originalPrice:"",image:"",category:"",level:"",description:""}),[s,i]=v.useState([]),[o,a]=v.useState(""),[l,c]=v.useState([""]),[h,p]=v.useState([{title:"",lessons:"",duration:"",files:[{type:"video",url:""}]}]),[f,m]=v.useState([""]),[w,y]=v.useState(null),[_,x]=v.useState([]),[E,T]=v.useState("courses"),[I,D]=v.useState(!1),[M,C]=v.useState(null),[S,A]=v.useState(""),[k,R]=v.useState(null),[j,N]=v.useState([]),[q,U]=v.useState(null),[G,$]=v.useState([]);v.useEffect(()=>{const F=vu(Cn(Le,"courses"),Y=>{e(Y.docs.map(ie=>({id:ie.id,...ie.data()})))});return()=>F()},[]),v.useEffect(()=>{const F=vu(Cn(Le,"categories"),Y=>{i(Y.docs.map(ie=>({id:ie.id,...ie.data()})))});return()=>F()},[]),v.useEffect(()=>{(async()=>{try{await Yt()}catch(Y){console.error("Error fetching enrollments:",Y)}})()},[]),v.useEffect(()=>{(async()=>{try{const Y=Cn(Le,"enrollments"),ie=await yu(Y),ae=new Map;ie.docs.forEach(Ce=>{const Xe=Ce.data(),xt=Xe.userEmail;ae.has(xt)||ae.set(xt,{email:xt,userName:Xe.userName||"Unknown User",enrollments:[]}),ae.get(xt).enrollments.push({id:Ce.id,...Xe})});const de=Array.from(ae.values());for(const Ce of de)for(const Xe of Ce.enrollments)try{const xt=await el(en(Le,"courses",Xe.courseId));xt.exists()&&(Xe.course={id:xt.id,...xt.data()})}catch(xt){console.error("Error fetching course:",xt)}N(de)}catch(Y){console.error("Error fetching users:",Y)}})()},[]);const O=F=>{y(F.id),D(!0),r(F),c(F.whatYouWillLearn||[""]),p(F.curriculum||[{title:"",lessons:"",duration:"",files:[{type:"video",url:""}]}]),m(F.tags&&F.tags.length>0?F.tags:[""])},z=async F=>{await rS(en(Le,"courses",F))},K=F=>{const{name:Y,value:ie}=F.target;console.log("📝 Form field changed:",{name:Y,value:ie,type:typeof ie}),r({...n,[Y]:ie})},Z=async F=>{F.preventDefault();try{console.log("📝 Form data before conversion:",n);const Y={...n,price:n.price&&!isNaN(parseFloat(n.price))?parseFloat(n.price):0,originalPrice:n.originalPrice&&!isNaN(parseFloat(n.originalPrice))?parseFloat(n.originalPrice):void 0,whatYouWillLearn:l,curriculum:h,tags:f.filter(ie=>ie.trim()!==""),lastUpdated:ic(),createdAt:ic()};if(console.log("💾 Course data to be saved:",Y),console.log("💰 Price conversion:",{original:n.price,converted:parseFloat(n.price)||0,type:typeof(parseFloat(n.price)||0)}),w){const ie=en(Le,"courses",w);await la(ie,Y),Fn({title:"Course updated successfully!"}),y(null)}else{const ie=await vv(Cn(Le,"courses"),Y);console.log("✅ Course saved with ID:",ie.id),Fn({title:"Course created successfully!"}),D(!1)}r({title:"",instructor:"",duration:"",price:"",originalPrice:"",image:"",category:"",level:"",description:""}),c([""]),p([{title:"",lessons:"",duration:"",files:[{type:"video",url:""}]}]),m([""])}catch(Y){console.error("Error saving course:",Y),Fn({title:"Error",description:"Failed to save course. Please try again."})}},ne=async F=>{F.preventDefault(),o.trim()&&(await vv(Cn(Le,"categories"),{name:o.trim()}),r(Y=>({...Y,category:o.trim()})),a(""))},se=(F,Y)=>{c(ie=>ie.map((ae,de)=>de===F?Y:ae))},Ie=()=>c(F=>[...F,""]),Ye=F=>c(Y=>Y.filter((ie,ae)=>ae!==F)),_e=(F,Y,ie)=>{p(ae=>ae.map((de,Ce)=>Ce===F?{...de,[Y]:ie}:de))},ft=()=>p(F=>[...F,{title:"",lessons:"",duration:"",files:[{type:"video",url:""}]}]),an=F=>p(Y=>Y.filter((ie,ae)=>ae!==F)),wn=(F,Y,ie,ae)=>{p(de=>de.map((Ce,Xe)=>Xe===F?{...Ce,files:(Ce.files||[]).map((xt,Tl)=>Tl===Y?{...xt,[ie]:ae}:xt)}:Ce))},Qt=F=>p(Y=>Y.map((ie,ae)=>ae===F?{...ie,files:[...ie.files||[],{type:"video",url:""}]}:ie)),Yn=(F,Y)=>p(ie=>ie.map((ae,de)=>de===F?{...ae,files:(ae.files||[]).filter((Ce,Xe)=>Xe!==Y)}:ae)),xn=()=>{y(null),D(!1),r({title:"",instructor:"",duration:"",price:"",originalPrice:"",image:"",category:"",level:"",description:""}),c([""]),p([{title:"",lessons:"",duration:"",files:[{type:"video",url:""}]}]),m([""])},Yt=async()=>{const Y=(await yu(Cn(Le,"enrollments"))).docs.map(de=>{const Ce=de.data();return{id:de.id,userEmail:Ce.userEmail||"",userName:Ce.userName||"",phoneNumber:Ce.phoneNumber||"",courseId:Ce.courseId||"",coursePrice:Ce.coursePrice||0,paymentMethod:Ce.paymentMethod||"",transactionId:Ce.transactionId||"",status:Ce.status||"pending",enrolledAt:Ce.enrolledAt}}),ie=Y.map(de=>el(en(Le,"courses",de.courseId))),ae=await Promise.all(ie);x(Y.map((de,Ce)=>{var Xe;return{...de,course:(Xe=ae[Ce])!=null&&Xe.exists()?{id:ae[Ce].id,...ae[Ce].data()}:null}}))},Xn=async F=>{try{const Y=en(Le,"enrollments",F);await la(Y,{status:"approved",approvedAt:ic(),approvedBy:"admin"}),Fn({title:"Enrollment approved!"}),await Yt()}catch(Y){Fn({title:"Error",description:"Failed to approve enrollment."}),console.error("Error approving enrollment:",Y)}},mr=async F=>{try{const Y=en(Le,"enrollments",F);await la(Y,{status:"rejected",approvedAt:ic(),approvedBy:"admin"}),Fn({title:"Enrollment rejected."}),await Yt()}catch(Y){Fn({title:"Error",description:"Failed to reject enrollment."}),console.error("Error rejecting enrollment:",Y)}},ln=F=>{switch(F){case"pending":return d.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium bg-orange-500/20 text-orange-400 border border-orange-500/30",children:[d.jsx(ii,{className:"w-3 h-3"}),"Pending"]});case"approved":return d.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium bg-green-500/20 text-green-400 border border-green-500/30",children:[d.jsx(qc,{className:"w-3 h-3"}),"Approved"]});case"rejected":return d.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium bg-red-500/20 text-red-400 border border-red-500/30",children:[d.jsx(M1,{className:"w-3 h-3"}),"Rejected"]});default:return d.jsx("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium bg-gray-500/20 text-gray-400 border border-gray-500/30",children:"Unknown"})}},Li=F=>{U(F),$(F.enrollments)},Fi=()=>{U(null),$([])},Ke=t.length,Mn=_.length,No=s.length,bl=t.reduce((F,Y)=>F+(parseFloat(Y.price)||0),0);return d.jsxs(d.Fragment,{children:[d.jsx(Vi,{}),d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-white",children:[d.jsx("div",{className:"bg-gradient-to-r from-orange-600/20 to-yellow-600/20 border-b border-orange-500/20",children:d.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:d.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-4xl lg:text-5xl font-bold bg-gradient-to-r from-orange-400 to-yellow-400 bg-clip-text text-transparent mb-2",children:"Course Dashboard"}),d.jsx("p",{className:"text-gray-300 text-lg",children:"Manage your courses, categories, and track enrollments"})]}),d.jsxs("button",{onClick:()=>D(!0),className:"inline-flex items-center gap-2 bg-gradient-to-r from-orange-500 to-yellow-500 hover:from-orange-600 hover:to-yellow-600 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-orange-500/25",children:[d.jsx(Rd,{className:"w-5 h-5"}),"Add New Course"]})]})})}),d.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[d.jsx("div",{className:"bg-gradient-to-br from-gray-800/50 to-gray-900/50 border border-orange-500/30 rounded-2xl p-6 backdrop-blur-sm hover:border-orange-500/50 transition-all duration-300",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-orange-300 text-sm font-medium",children:"Total Courses"}),d.jsx("p",{className:"text-3xl font-bold text-white",children:Ke})]}),d.jsx("div",{className:"bg-orange-500/20 p-3 rounded-xl",children:d.jsx(pi,{className:"w-6 h-6 text-orange-400"})})]})}),d.jsx("div",{className:"bg-gradient-to-br from-gray-800/50 to-gray-900/50 border border-orange-500/30 rounded-2xl p-6 backdrop-blur-sm hover:border-orange-500/50 transition-all duration-300",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-orange-300 text-sm font-medium",children:"Total Enrollments"}),d.jsx("p",{className:"text-3xl font-bold text-white",children:Mn})]}),d.jsx("div",{className:"bg-orange-500/20 p-3 rounded-xl",children:d.jsx(Tr,{className:"w-6 h-6 text-orange-400"})})]})}),d.jsx("div",{className:"bg-gradient-to-br from-gray-800/50 to-gray-900/50 border border-orange-500/30 rounded-2xl p-6 backdrop-blur-sm hover:border-orange-500/50 transition-all duration-300",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-orange-300 text-sm font-medium",children:"Categories"}),d.jsx("p",{className:"text-3xl font-bold text-white",children:No})]}),d.jsx("div",{className:"bg-orange-500/20 p-3 rounded-xl",children:d.jsx(km,{className:"w-6 h-6 text-orange-400"})})]})}),d.jsx("div",{className:"bg-gradient-to-br from-gray-800/50 to-gray-900/50 border border-orange-500/30 rounded-2xl p-6 backdrop-blur-sm hover:border-orange-500/50 transition-all duration-300",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-orange-300 text-sm font-medium",children:"Total Revenue"}),d.jsxs("p",{className:"text-3xl font-bold text-white",children:["৳",bl.toLocaleString()]})]}),d.jsx("div",{className:"bg-orange-500/20 p-3 rounded-xl",children:d.jsx(fy,{className:"w-6 h-6 text-orange-400"})})]})})]}),d.jsxs("div",{className:"flex flex-wrap gap-2 mb-8",children:[d.jsxs("button",{onClick:()=>T("courses"),className:`px-6 py-3 rounded-xl font-medium transition-all duration-300 ${E==="courses"?"bg-gradient-to-r from-orange-500 to-yellow-500 text-white shadow-lg":"bg-gray-800/50 text-gray-300 hover:bg-gray-700/50 border border-gray-700"}`,children:[d.jsx(pi,{className:"w-4 h-4 inline mr-2"}),"Courses"]}),d.jsxs("button",{onClick:()=>T("categories"),className:`px-6 py-3 rounded-xl font-medium transition-all duration-300 ${E==="categories"?"bg-gradient-to-r from-orange-500 to-yellow-500 text-white shadow-lg":"bg-gray-800/50 text-gray-300 hover:bg-gray-700/50 border border-gray-700"}`,children:[d.jsx(km,{className:"w-4 h-4 inline mr-2"}),"Categories"]}),d.jsxs("button",{onClick:()=>T("enrollments"),className:`px-6 py-3 rounded-xl font-medium transition-all duration-300 ${E==="enrollments"?"bg-gradient-to-r from-orange-500 to-yellow-500 text-white shadow-lg":"bg-gray-800/50 text-gray-300 hover:bg-gray-700/50 border border-gray-700"}`,children:[d.jsx(Tr,{className:"w-4 h-4 inline mr-2"}),"Enrollments"]}),d.jsxs("button",{onClick:()=>T("users"),className:`px-6 py-3 rounded-xl font-medium transition-all duration-300 ${E==="users"?"bg-gradient-to-r from-orange-500 to-yellow-500 text-white shadow-lg":"bg-gray-800/50 text-gray-300 hover:bg-gray-700/50 border border-gray-700"}`,children:[d.jsx(Tr,{className:"w-4 h-4 inline mr-2"}),"Users"]})]}),E==="courses"&&d.jsxs("div",{className:"space-y-8",children:[I&&d.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-2xl p-8",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-white",children:"Add New Course"}),d.jsx("button",{onClick:xn,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:d.jsx(Qr,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:Z,className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Course Title"}),d.jsx("input",{name:"title",value:n.title,onChange:K,placeholder:"Enter course title",className:"w-full bg-gray-900/50 border border-gray-600 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 transition-all",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Instructor"}),d.jsx("input",{name:"instructor",value:n.instructor,onChange:K,placeholder:"Enter instructor name",className:"w-full bg-gray-900/50 border border-gray-600 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 transition-all",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Duration"}),d.jsx("input",{name:"duration",value:n.duration,onChange:K,placeholder:"10 hours",className:"w-full bg-gray-900/50 border border-gray-600 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 transition-all",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Price"}),d.jsx("input",{type:"number",step:"0.01",min:"0",name:"price",value:n.price,onChange:K,placeholder:"99.99",className:"w-full bg-gray-900/50 border border-gray-600 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 transition-all",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Original Price"}),d.jsx("input",{type:"number",step:"0.01",min:"0",name:"originalPrice",value:n.originalPrice,onChange:K,placeholder:"199.99",className:"w-full bg-gray-900/50 border border-gray-600 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 transition-all"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Image URL"}),d.jsx("input",{name:"image",value:n.image,onChange:K,placeholder:"https://example.com/image.jpg",className:"w-full bg-gray-900/50 border border-gray-600 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 transition-all",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category"}),d.jsxs("select",{name:"category",value:n.category,onChange:K,className:"w-full bg-gray-900/50 border border-gray-600 rounded-xl px-4 py-3 text-white focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 transition-all",required:!0,children:[d.jsx("option",{value:"",children:"Select Category"}),s.map(F=>d.jsx("option",{value:F.name,children:F.name},F.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Level"}),d.jsxs("select",{name:"level",value:n.level,onChange:K,className:"w-full bg-gray-900/50 border border-gray-600 rounded-xl px-4 py-3 text-white focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 transition-all",required:!0,children:[d.jsx("option",{value:"",children:"Select Level"}),d.jsx("option",{value:"Easy",children:"Easy"}),d.jsx("option",{value:"Medium",children:"Medium"}),d.jsx("option",{value:"Hard",children:"Hard"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),d.jsx("textarea",{name:"description",value:n.description,onChange:K,placeholder:"Enter course description...",rows:4,className:"w-full bg-gray-900/50 border border-gray-600 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 transition-all resize-none",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"What you'll learn"}),d.jsx("div",{className:"space-y-3",children:l.map((F,Y)=>d.jsxs("div",{className:"flex gap-3 items-center",children:[d.jsx("input",{value:F,onChange:ie=>se(Y,ie.target.value),className:"flex-1 bg-gray-900/50 border border-gray-600 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 transition-all",placeholder:`Learning outcome #${Y+1}`,required:!0}),d.jsx("button",{type:"button",onClick:()=>Ye(Y),className:"p-3 bg-orange-500/20 text-orange-400 rounded-xl hover:bg-orange-500/30 transition-colors",children:d.jsx(Qr,{className:"w-4 h-4"})}),Y===l.length-1&&d.jsx("button",{type:"button",onClick:Ie,className:"p-3 bg-orange-500/20 text-orange-400 rounded-xl hover:bg-orange-500/30 transition-colors",children:d.jsx(Rd,{className:"w-4 h-4"})})]},Y))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Curriculum"}),d.jsx("div",{className:"space-y-4",children:h.map((F,Y)=>d.jsxs("div",{className:"bg-gray-900/30 border border-gray-700 rounded-xl p-6",children:[d.jsxs("div",{className:"flex gap-3 mb-4",children:[d.jsx("input",{value:F.title,onChange:ie=>_e(Y,"title",ie.target.value),className:"flex-1 bg-gray-800/50 border border-gray-600 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 transition-all",placeholder:"Section Title",required:!0}),d.jsx("input",{value:F.lessons,onChange:ie=>_e(Y,"lessons",ie.target.value),className:"w-24 bg-gray-800/50 border border-gray-600 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 transition-all",placeholder:"Lessons",required:!0}),d.jsx("input",{value:F.duration,onChange:ie=>_e(Y,"duration",ie.target.value),className:"w-32 bg-gray-800/50 border border-gray-600 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 transition-all",placeholder:"Duration",required:!0}),d.jsx("button",{type:"button",onClick:()=>an(Y),className:"p-3 bg-orange-500/20 text-orange-400 rounded-xl hover:bg-orange-500/30 transition-colors",children:d.jsx(Qr,{className:"w-4 h-4"})}),Y===h.length-1&&d.jsx("button",{type:"button",onClick:ft,className:"p-3 bg-orange-500/20 text-orange-400 rounded-xl hover:bg-orange-500/30 transition-colors",children:d.jsx(Rd,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"ml-4",children:[d.jsxs("label",{className:"block text-gray-400 text-sm mb-2 flex items-center gap-2",children:[d.jsx(r4,{className:"w-4 h-4"}),"Files & Resources"]}),d.jsx("div",{className:"space-y-3",children:(F.files||[]).map((ie,ae)=>d.jsxs("div",{className:"flex gap-3 items-center",children:[d.jsxs("select",{value:ie.type,onChange:de=>wn(Y,ae,"type",de.target.value),className:"bg-gray-800/50 border border-gray-600 rounded-xl px-3 py-3 text-white focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 transition-all min-w-[120px]",children:[d.jsx("option",{value:"video",children:"Video"}),d.jsx("option",{value:"pdf",children:"PDF"}),d.jsx("option",{value:"document",children:"Document"}),d.jsx("option",{value:"image",children:"Image"}),d.jsx("option",{value:"audio",children:"Audio"}),d.jsx("option",{value:"other",children:"Other"})]}),d.jsx("input",{value:ie.url,onChange:de=>wn(Y,ae,"url",de.target.value),className:"flex-1 bg-gray-800/50 border border-gray-600 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 transition-all",placeholder:`${ie.type} URL #${ae+1}`,required:!0}),d.jsx("button",{type:"button",onClick:()=>Yn(Y,ae),className:"p-3 bg-orange-500/20 text-orange-400 rounded-xl hover:bg-orange-500/30 transition-colors",children:d.jsx(Qr,{className:"w-4 h-4"})}),ae===(F.files||[]).length-1&&d.jsx("button",{type:"button",onClick:()=>Qt(Y),className:"p-3 bg-orange-500/20 text-orange-400 rounded-xl hover:bg-orange-500/30 transition-colors",children:d.jsx(Rd,{className:"w-4 h-4"})})]},ae))})]})]},Y))})]}),d.jsxs("div",{className:"flex gap-4 justify-end pt-6 border-t border-gray-700",children:[d.jsx("button",{type:"button",onClick:xn,className:"px-6 py-3 bg-gray-700 text-white rounded-xl hover:bg-gray-600 transition-colors font-medium",children:"Cancel"}),d.jsx("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-orange-500 to-yellow-500 text-white rounded-xl hover:from-orange-600 hover:to-yellow-600 transition-all font-medium shadow-lg",children:w?"Update Course":"Create Course"})]})]})]}),d.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-sm border border-gray-700 rounded-2xl p-8",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-white",children:"All Courses"}),d.jsxs("div",{className:"text-gray-400 text-sm",children:[Ke," course",Ke!==1?"s":""," total"]})]}),d.jsx(Lp,{courses:t,onEditCourse:F=>O(F),onDeleteCourse:z})]})]}),E==="categories"&&d.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-sm border border-gray-700 rounded-2xl p-8",children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Manage Categories"}),d.jsxs("form",{onSubmit:ne,className:"flex gap-4 mb-6",children:[d.jsx("input",{value:o,onChange:F=>a(F.target.value),placeholder:"Enter new category name",className:"flex-1 bg-gray-900/50 border border-gray-600 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 transition-all"}),d.jsx("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-orange-500 to-yellow-500 text-white rounded-xl hover:from-orange-600 hover:to-yellow-600 transition-all font-medium",children:"Add Category"})]}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:s.map(F=>d.jsxs("div",{className:"bg-gray-900/50 border border-gray-600 rounded-xl p-4 text-center flex flex-col items-center gap-2",children:[d.jsx(km,{className:"w-6 h-6 text-orange-400 mx-auto mb-2"}),M===F.id?d.jsxs("form",{onSubmit:async Y=>{Y.preventDefault(),S.trim()&&(await la(en(Le,"categories",F.id),{name:S.trim()}),C(null),A(""))},className:"flex flex-col gap-2 w-full",children:[d.jsx("input",{value:S,onChange:Y=>A(Y.target.value),className:"bg-gray-800/50 border border-orange-500/30 rounded-xl px-3 py-2 text-white placeholder-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 transition-all",autoFocus:!0}),d.jsxs("div",{className:"flex gap-2 justify-center",children:[d.jsx("button",{type:"submit",className:"px-3 py-1 bg-orange-500/20 text-orange-400 rounded-lg hover:bg-orange-500/30 transition-colors text-sm border border-orange-500/30",children:"Save"}),d.jsx("button",{type:"button",onClick:()=>C(null),className:"px-3 py-1 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:"Cancel"})]})]}):d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-white font-medium mb-2",children:F.name}),d.jsxs("div",{className:"flex gap-2 justify-center",children:[d.jsx("button",{onClick:()=>{C(F.id),A(F.name)},className:"p-2 bg-orange-500/20 text-orange-400 rounded-lg hover:bg-orange-500/30 transition-colors",title:"Edit",children:d.jsx(u4,{className:"w-4 h-4"})}),d.jsxs(EQ,{children:[d.jsx(bQ,{asChild:!0,children:d.jsx("button",{onClick:()=>R(F),className:"p-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",title:"Delete",children:d.jsx(mI,{className:"w-4 h-4"})})}),d.jsxs(JD,{children:[d.jsxs(ZD,{children:[d.jsx(tj,{children:"Delete Category"}),d.jsxs(nj,{children:["Are you sure you want to delete the category ",d.jsx("span",{className:"text-orange-400 font-semibold",children:F.name}),"? This action cannot be undone."]})]}),d.jsxs(ej,{children:[d.jsx(sj,{onClick:()=>R(null),children:"Cancel"}),d.jsx(rj,{className:"bg-orange-500 hover:bg-orange-600 border-orange-500 text-white",onClick:async Y=>{Y.preventDefault(),await rS(en(Le,"categories",F.id)),R(null)},children:"Delete"})]})]})]})]})]})]},F.id))})]}),E==="enrollments"&&d.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-sm border border-gray-700 rounded-2xl p-8",children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Course Enrollments"}),d.jsxs("div",{className:"mb-6 p-4 bg-gray-800/50 rounded-xl border border-orange-500/30",children:[d.jsx("h3",{className:"text-lg font-semibold text-orange-300 mb-2",children:"Debug Info"}),d.jsxs("p",{className:"text-gray-300 text-sm mb-2",children:["Total enrollments: ",_.length]}),d.jsx("div",{className:"text-gray-400 text-xs",children:_.map((F,Y)=>{var ie;return d.jsxs("div",{className:"mb-2 p-2 bg-gray-900/50 rounded border border-gray-600",children:[d.jsxs("p",{children:["ID: ",F.id]}),d.jsxs("p",{children:["Status: ",F.status||"pending"]}),d.jsxs("p",{children:["User: ",F.userName||F.userEmail]}),d.jsxs("p",{children:["Course: ",((ie=F.course)==null?void 0:ie.title)||F.courseId]})]},F.id)})})]}),d.jsxs("div",{className:"overflow-x-auto",children:[d.jsxs("table",{className:"min-w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b border-gray-700",children:[d.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300 uppercase tracking-wider",children:"Student Info"}),d.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300 uppercase tracking-wider",children:"Course"}),d.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300 uppercase tracking-wider",children:"Payment"}),d.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300 uppercase tracking-wider",children:"Status"}),d.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-700",children:_.map(F=>{var Y,ie;return d.jsxs("tr",{className:"hover:bg-gray-700/30 transition-colors",children:[d.jsx("td",{className:"px-6 py-4",children:d.jsxs("div",{children:[d.jsx("p",{className:"text-white font-medium",children:F.userName||F.userEmail}),d.jsx("p",{className:"text-gray-400 text-sm",children:F.userEmail}),d.jsx("p",{className:"text-gray-400 text-sm",children:F.phoneNumber})]})}),d.jsx("td",{className:"px-6 py-4",children:d.jsxs("div",{children:[d.jsx("p",{className:"text-white font-medium",children:((Y=F.course)==null?void 0:Y.title)||F.courseId}),d.jsxs("p",{className:"text-gray-400 text-sm",children:["৳",F.coursePrice||((ie=F.course)==null?void 0:ie.price)]})]})}),d.jsx("td",{className:"px-6 py-4",children:d.jsxs("div",{children:[d.jsx("p",{className:"text-white text-sm",children:F.paymentMethod}),d.jsxs("p",{className:"text-gray-400 text-sm",children:["ID: ",F.transactionId]})]})}),d.jsx("td",{className:"px-6 py-4",children:ln(F.status||"pending")}),d.jsxs("td",{className:"px-6 py-4",children:[F.status==="pending"&&d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:()=>Xn(F.id),className:"px-3 py-1 bg-orange-500/20 text-orange-400 rounded-lg hover:bg-orange-500/30 transition-colors text-sm border border-orange-500/30",children:[d.jsx(qc,{className:"w-4 h-4 inline mr-1"}),"Agree"]}),d.jsxs("button",{onClick:()=>mr(F.id),className:"px-3 py-1 bg-gray-500/20 text-gray-400 rounded-lg hover:bg-gray-500/30 transition-colors text-sm border border-gray-500/30",children:[d.jsx(M1,{className:"w-4 h-4 inline mr-1"}),"Reject"]})]}),F.status==="approved"&&d.jsx("span",{className:"text-orange-400 text-sm",children:"✓ Approved"}),F.status==="rejected"&&d.jsx("span",{className:"text-gray-400 text-sm",children:"✗ Rejected"})]})]},F.id)})})]}),_.length===0&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx(Tr,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-400",children:"No enrollments found."})]})]})]}),E==="users"&&d.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-sm border border-gray-700 rounded-2xl p-8",children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"User Management"}),d.jsxs("div",{className:"overflow-x-auto",children:[d.jsxs("table",{className:"min-w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b border-gray-700",children:[d.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300 uppercase tracking-wider",children:"User Name"}),d.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300 uppercase tracking-wider",children:"Email"}),d.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300 uppercase tracking-wider",children:"Enrollments"}),d.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-700",children:j.map((F,Y)=>d.jsxs("tr",{className:"hover:bg-gray-700/30 transition-colors",children:[d.jsx("td",{className:"px-6 py-4 text-white font-medium",children:F.userName||"Unknown"}),d.jsx("td",{className:"px-6 py-4 text-gray-400",children:F.email}),d.jsx("td",{className:"px-6 py-4 text-gray-400",children:F.enrollments.length}),d.jsx("td",{className:"px-6 py-4",children:d.jsx("button",{onClick:()=>Li(F),className:"px-4 py-2 bg-gradient-to-r from-orange-500 to-yellow-500 text-white rounded-lg hover:from-orange-600 hover:to-yellow-600 transition-all font-medium",children:"View Profile"})})]},F.email||Y))})]}),j.length===0&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx(Tr,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-400",children:"No users found."})]})]}),q&&d.jsx("div",{className:"fixed inset-x-0 top-1/2 transform -translate-y-1/2 z-50 flex justify-center bg-black/60",children:d.jsxs("div",{className:"bg-gray-900 border border-orange-500/30 rounded-2xl p-8 w-full max-w-2xl max-h-[90vh] overflow-y-auto relative flex flex-col",children:[d.jsx("button",{onClick:Fi,className:"absolute top-4 right-4 p-2 bg-gray-800 rounded-full hover:bg-gray-700 text-gray-300",children:d.jsx(Qr,{className:"w-5 h-5"})}),d.jsx("h3",{className:"text-2xl font-bold text-orange-400 mb-2",children:q.userName||"Unknown User"}),d.jsx("p",{className:"text-gray-300 mb-4",children:q.email}),d.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Enrolled Courses"}),d.jsxs("ul",{className:"space-y-2 max-h-64 overflow-y-auto",children:[G.length===0&&d.jsx("li",{className:"text-gray-400",children:"No enrollments found."}),G.map((F,Y)=>{var ie;return d.jsxs("li",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 flex flex-col gap-1",children:[d.jsx("span",{className:"text-white font-medium",children:((ie=F.course)==null?void 0:ie.title)||F.courseId}),d.jsxs("span",{className:"text-gray-400 text-sm",children:["Status: ",ln(F.status||"pending")]}),d.jsxs("span",{className:"text-gray-400 text-sm",children:["Payment: ",F.paymentMethod," | TxID: ",F.transactionId]})]},F.id||Y)})]})]})})]})]})]})]})},CQ=()=>{const[t,e]=v.useState(null),[n,r]=v.useState([]),s=Iu();return v.useEffect(()=>Op(async o=>{if(!o)s("/",{replace:!0});else{e({email:o.email,displayName:o.displayName||void 0});const a=Dp(Cn(Le,"enrollments"),Za("userEmail","==",o.email)),c=(await yu(a)).docs.map(f=>f.data().courseId);console.log("Enrolled courseIds:",c);const h=c.map(f=>el(en(Le,"courses",f))),p=await Promise.all(h);console.log("Fetched courseSnaps:",p),r(p.filter(f=>f.exists()).map(f=>({id:f.id,...f.data()})))}}),[s]),t?d.jsxs(d.Fragment,{children:[d.jsx(Vi,{}),d.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background text-white",children:[d.jsx(Rf,{className:"w-20 h-20 bg-gradient-to-r from-orange-500 to-yellow-400 text-white font-bold flex items-center justify-center rounded-full mb-4 text-3xl shadow-lg",children:d.jsx("span",{children:t.displayName?t.displayName[0].toUpperCase():"U"})}),d.jsx("h1",{className:"text-2xl font-bold mb-2 text-white",children:t.displayName||"User"}),d.jsx("p",{className:"text-gray-300 mb-4",children:t.email}),d.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-yellow-400 rounded-xl shadow p-6 w-full max-w-md text-center text-white",children:d.jsx("p",{className:"text-lg font-semibold",children:"Welcome to your profile page!"})}),n.length>0&&d.jsxs("div",{className:"w-full max-w-2xl mt-8",children:[d.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"Enrolled Courses"}),d.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:n.map(i=>d.jsxs("div",{className:"bg-[#232326] border border-border rounded-xl p-4 shadow flex flex-col h-64",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-bold text-lg text-white mb-1 line-clamp-2",children:i.title}),d.jsx("div",{className:"text-gray-400 text-sm mb-2",children:i.instructor}),d.jsxs("div",{className:"text-gray-300 text-xs mb-2",children:[i.category," • ",i.level]}),d.jsx("div",{className:"text-gray-200 text-sm line-clamp-3",children:i.description})]}),d.jsx(Oe,{className:"mt-auto w-full bg-gradient-to-r from-orange-500 to-yellow-400 text-white hover:from-orange-600 hover:to-yellow-500 transition-all duration-300",onClick:()=>s(`/course/${i.id}`),children:"View Course"})]},i.id))})]})]})]}):null},AQ=S0("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function IQ({className:t,variant:e,...n}){return d.jsx("div",{className:we(AQ({variant:e}),t),...n})}const PQ=()=>{const[t,e]=v.useState(""),[n,r]=v.useState("All"),[s,i]=v.useState("All"),[o,a]=v.useState(0),[l,c]=v.useState("popular"),[h,p]=v.useState(1),[f,m]=v.useState(!0),[w,y]=v.useState([]),[_,x]=v.useState([]),E=12,T=["All","Beginner","Intermediate","Advanced"],I=[{value:"popular",label:"Most Popular",icon:Tr},{value:"rating",label:"Highest Rated",icon:ts},{value:"newest",label:"Newest",icon:gI},{value:"duration",label:"Duration",icon:ii}];v.useEffect(()=>{m(!0);const R=Dp(Cn(Le,"courses"),Za("price","==",0),dK("createdAt","desc")),j=vu(R,N=>{console.log("🔥 Fetched free courses from Firestore:",N.docs.length,"courses");const q=N.docs.map(G=>{const $=G.data();return console.log("📄 Free course data:",G.id,$),{id:G.id,title:$.title||"",instructor:$.instructor||"",rating:$.rating||0,students:$.students||0,duration:$.duration||"",price:$.price||0,originalPrice:$.originalPrice,image:$.image||"",category:$.category||"",level:$.level||"",description:$.description||"",tags:$.tags||[],lastUpdated:$.lastUpdated||$.createdAt,createdAt:$.createdAt}});console.log("✅ Processed free courses:",q),y(q);const U=["All",...new Set(q.map(G=>G.category).filter(Boolean))];x(U),m(!1)},N=>{console.error("❌ Error fetching free courses:",N),m(!1)});return()=>j()},[]),console.log("🔍 Filtering free courses. Total courses:",w.length),console.log("🎛️ Current filters:",{searchTerm:t,selectedCategory:n,selectedLevel:s,selectedRating:o});let D=w.filter(R=>{console.log("🔍 Checking free course:",R.title,{price:R.price,rating:R.rating,category:R.category,level:R.level,priceType:typeof R.price,ratingType:typeof R.rating});const j=R.title.toLowerCase().includes(t.toLowerCase())||R.instructor.toLowerCase().includes(t.toLowerCase())||R.description&&R.description.toLowerCase().includes(t.toLowerCase()),N=n==="All"||R.category===n,q=s==="All"||R.level===s,G=(typeof R.rating=="number"?R.rating:parseFloat(R.rating)||0)>=o,$=j&&N&&q&&G;return $?console.log("✅ Free course included:",R.title):console.log("❌ Free course filtered out:",R.title,{matchesSearch:j,matchesCategory:N,matchesLevel:q,matchesRating:G,searchTerm:t,selectedCategory:n,selectedLevel:s,selectedRating:o,coursePrice:R.price,courseRating:R.rating}),$});console.log("📊 Filtered free courses result:",D.length,"courses"),console.log("📋 Filtered free courses:",D);const M=[...D].sort((R,j)=>{var N,q,U,G,$,O,z,K;switch(l){case"rating":return j.rating-R.rating;case"newest":const Z=((q=(N=R.lastUpdated)==null?void 0:N.toDate)==null?void 0:q.call(N))||((G=(U=R.createdAt)==null?void 0:U.toDate)==null?void 0:G.call(U))||new Date(0);return(((O=($=j.lastUpdated)==null?void 0:$.toDate)==null?void 0:O.call($))||((K=(z=j.createdAt)==null?void 0:z.toDate)==null?void 0:K.call(z))||new Date(0)).getTime()-Z.getTime();case"duration":const se=parseInt(R.duration)||0,Ie=parseInt(j.duration)||0;return se-Ie;default:return j.students-R.students}}),C=Math.ceil(M.length/E),S=(h-1)*E,A=M.slice(S,S+E);console.log("📄 Pagination info:",{totalPages:C,startIndex:S,currentPage:h,coursesPerPage:E}),console.log("🎯 Current free courses to display:",A.length,A);const k=()=>{e(""),r("All"),i("All"),a(0),c("popular"),p(1)};return d.jsxs("div",{className:"min-h-screen bg-background text-white",children:[d.jsx(Vi,{}),d.jsx("section",{className:"bg-gradient-to-r from-[#232326] to-[#18181b] text-white py-20",children:d.jsx("div",{className:"container mx-auto px-4",children:d.jsxs(Se.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 bg-green-900/40 text-green-400 px-4 py-2 rounded-full text-sm font-medium mb-4",children:[d.jsx(Nm,{className:"w-4 h-4"}),"Free Resources"]}),d.jsxs("h1",{className:"text-5xl md:text-6xl font-bold mb-6 text-white",children:["Free ",d.jsx("span",{className:"bg-gradient-to-r from-green-500 to-emerald-400 bg-clip-text text-transparent",children:"Learning Resources"})]}),d.jsxs("p",{className:"text-xl md:text-2xl text-gray-200 max-w-3xl mx-auto mb-8",children:["Access ",w.length,"+ free courses designed to help you master new skills without any cost"]}),d.jsxs("div",{className:"flex flex-wrap justify-center gap-4 text-sm text-gray-300",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(pi,{className:"w-4 h-4"}),d.jsxs("span",{children:[_.length-1,"+ Categories"]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ts,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),d.jsx("span",{children:"4.8+ Average Rating"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Nm,{className:"w-4 h-4 text-green-400"}),d.jsx("span",{children:"100% Free"})]})]})]})})}),d.jsx("section",{className:"py-8 bg-card border-b border-border",children:d.jsxs("div",{className:"container mx-auto px-4",children:[d.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 items-start justify-between",children:[d.jsxs("div",{className:"flex-1 space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(pI,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",placeholder:"Search free courses, instructors, or topics...",value:t,onChange:R=>e(R.target.value),className:"w-full pl-10 pr-4 py-3 border border-border rounded-lg bg-background text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500"})]}),d.jsxs("div",{className:"flex flex-wrap gap-4",children:[d.jsx("select",{value:n,onChange:R=>r(R.target.value),className:"px-4 py-2 border border-border rounded-lg bg-background text-white focus:outline-none focus:ring-2 focus:ring-green-500",children:_.map(R=>d.jsx("option",{value:R,children:R},R))}),d.jsx("select",{value:s,onChange:R=>i(R.target.value),className:"px-4 py-2 border border-border rounded-lg bg-background text-white focus:outline-none focus:ring-2 focus:ring-green-500",children:T.map(R=>d.jsx("option",{value:R,children:R},R))}),d.jsx("select",{value:l,onChange:R=>c(R.target.value),className:"px-4 py-2 border border-border rounded-lg bg-background text-white focus:outline-none focus:ring-2 focus:ring-green-500",children:I.map(R=>d.jsx("option",{value:R.value,children:R.label},R.value))})]})]}),d.jsx("div",{className:"flex items-center gap-4",children:d.jsx(Oe,{variant:"outline",size:"sm",onClick:k,className:"text-gray-400 hover:text-white",children:"Reset Filters"})})]}),d.jsx("div",{className:"mt-6",children:d.jsxs("div",{className:"space-y-3",children:[d.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Minimum Rating"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"range",min:"0",max:"5",step:"0.5",value:o,onChange:R=>a(parseFloat(R.target.value)),className:"flex-1 h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider"}),d.jsxs("div",{className:"flex items-center gap-1 text-yellow-400",children:[d.jsx(ts,{className:"w-4 h-4 fill-current"}),d.jsxs("span",{className:"text-sm font-medium",children:[o,"+"]})]})]})]})}),d.jsxs("div",{className:"mt-4 flex flex-wrap items-center justify-between gap-4",children:[d.jsxs("div",{className:"text-gray-400",children:["Showing ",D.length," of ",w.length," free courses"]}),d.jsxs(IQ,{variant:"secondary",className:"bg-green-500/20 text-green-400 border-green-500/30",children:[d.jsx(Nm,{className:"w-3 h-3 mr-1"}),"All Free"]})]})]})}),d.jsx("section",{className:"py-12",children:d.jsx("div",{className:"container mx-auto px-4",children:f?d.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:[...Array(8)].map((R,j)=>d.jsx("div",{className:"animate-pulse",children:d.jsx("div",{className:"bg-gray-800 rounded-3xl h-80"})},j))}):A.length>0?d.jsxs(d.Fragment,{children:[console.log("🎨 Rendering free courses grid with",A.length,"courses"),d.jsx(Lp,{courses:A}),C>1&&d.jsx("div",{className:"mt-12 flex justify-center",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Oe,{variant:"outline",onClick:()=>p(Math.max(1,h-1)),disabled:h===1,className:"px-4 py-2",children:"Previous"}),[...Array(C)].map((R,j)=>{const N=j+1,q=h===N,U=Math.abs(h-N)<=1;return q||U||N===1||N===C?d.jsx(Oe,{variant:q?"default":"outline",onClick:()=>p(N),className:"px-4 py-2",children:N},j):N===h-2||N===h+2?d.jsx("span",{className:"px-3 py-2 text-gray-400",children:"..."},j):null}),d.jsx(Oe,{variant:"outline",onClick:()=>p(Math.min(C,h+1)),disabled:h===C,className:"px-4 py-2",children:"Next"})]})})]}):d.jsxs("div",{className:"text-center py-20",children:[d.jsx("div",{className:"text-6xl mb-4",children:"🎁"}),d.jsx("h3",{className:"text-2xl font-bold mb-2",children:"No free courses found"}),d.jsx("p",{className:"text-gray-400 mb-6",children:"Try adjusting your search criteria or check back later for new free content"}),d.jsx(Oe,{onClick:k,variant:"outline",children:"Reset Filters"})]})})}),d.jsx(Fp,{})]})};function RQ({className:t,...e}){return d.jsx("div",{className:we("animate-pulse rounded-md bg-gray-700/50",t),...e})}const NQ=()=>{var c,h,p,f,m;const{id:t}=pP(),[e,n]=v.useState(null),[r,s]=v.useState(!0),[i,o]=v.useState(0),[a,l]=v.useState(0);return v.useEffect(()=>{t&&(s(!0),el(en(Le,"courses",t)).then(w=>{w.exists()&&n({id:w.id,...w.data()}),s(!1)}))},[t]),r?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background text-white",children:"Loading..."}):e?d.jsxs("div",{className:"min-h-screen bg-background text-white",children:[d.jsx(Vi,{}),d.jsx("div",{className:"container mx-auto px-4 py-12",children:d.jsxs("div",{className:"grid lg:grid-cols-3 gap-12",children:[d.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Curriculum"}),(h=(c=e.curriculum)==null?void 0:c.map)==null?void 0:h.call(c,(w,y)=>d.jsx(ca,{className:"bg-[#232326] border border-border",children:d.jsxs(ua,{className:"p-4",children:[d.jsx("div",{className:"font-semibold text-white mb-1",children:w.title}),d.jsxs("div",{className:"text-gray-400 text-xs mb-2",children:[w.lessons," lessons • ",w.duration]}),Array.isArray(w.files)&&w.files.length>0&&d.jsx("div",{className:"flex flex-col gap-2",children:w.files.map((_,x)=>d.jsxs("button",{className:`flex items-center gap-2 px-3 py-1 rounded bg-gray-800 hover:bg-orange-600 transition text-white text-left ${i===y&&a===x?"ring-2 ring-orange-400":""}`,onClick:()=>{o(y),l(x)},children:[d.jsx(yc,{className:"w-4 h-4"}),_.type==="video"?"Video":_.type," ",x+1]},x))})]})},y))]}),d.jsx("div",{className:"lg:col-span-2",children:((m=(f=(p=e.curriculum)==null?void 0:p[i])==null?void 0:f.files)==null?void 0:m[a])&&d.jsxs("div",{className:"sticky top-24 bg-[#232326] rounded-xl shadow-lg border border-border p-8 w-full max-w-3xl mx-auto",children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Now Playing:"}),d.jsxs("div",{className:"font-bold text-lg text-white mb-2",children:[e.curriculum[i].title," - ",e.curriculum[i].files[a].type," ",a+1]}),(()=>{const w=e.curriculum[i].files[a],y=w.url;if(!y)return d.jsx("div",{className:"w-full aspect-video bg-gray-800 rounded-lg border border-border flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx(yc,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-400",children:"No video URL provided"})]})});if(y.includes("youtube.com")||y.includes("youtu.be")){const _=y.replace("watch?v=","embed/");return d.jsx("iframe",{src:_,title:"Current Video",className:"w-full aspect-video rounded-lg border border-border",allowFullScreen:!0})}else return w.type==="video"?d.jsx("video",{src:y,controls:!0,className:"w-full rounded-lg border border-border"}):d.jsx("div",{className:"w-full aspect-video bg-gray-800 rounded-lg border border-border flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx(yc,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),d.jsxs("p",{className:"text-gray-400",children:["File type: ",w.type]}),d.jsx("a",{href:y,target:"_blank",rel:"noopener noreferrer",className:"text-orange-400 hover:text-orange-300 mt-2 inline-block",children:"Open File"})]})})})()]}),d.jsxs("div",{className:"mb-4",children:[d.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400 mb-1",children:[d.jsx("span",{children:"Progress"}),d.jsxs("span",{children:[i+1,"-",a+1," / ",e.curriculum.reduce((w,y)=>{var _;return w+(((_=y.files)==null?void 0:_.length)||0)},0)]})]}),d.jsx("div",{className:"w-full h-2 bg-gray-700 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-2 bg-gradient-to-r from-orange-500 to-yellow-400",style:{width:`${(e.curriculum.slice(0,i).reduce((w,y)=>{var _;return w+(((_=y.files)==null?void 0:_.length)||0)},0)+a+1)/e.curriculum.reduce((w,y)=>{var _;return w+(((_=y.files)==null?void 0:_.length)||0)},0)*100}%`}})})]}),d.jsx("div",{className:"flex justify-end",children:d.jsx(Oe,{onClick:()=>{const w=e.curriculum;let y=i,_=a+1;_>=w[y].files.length&&(y++,_=0),w[y]&&w[y].files[_]&&(o(y),l(_))},disabled:(()=>{const w=e.curriculum;let y=i,_=a+1;return _>=w[y].files.length&&(y++,_=0),!(w[y]&&w[y].files[_])})(),className:"bg-gradient-to-r from-orange-500 to-yellow-400 text-white px-4 py-2 rounded-full font-semibold",children:"Next Video"})})]})})]})})]}):d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background text-white",children:"Course not found."})},kQ=new S3,Ix=()=>d.jsx("div",{className:"flex items-center justify-center min-h-screen w-full bg-white",children:d.jsx(RQ,{className:"w-24 h-24 rounded-full"})});function DQ({children:t}){const[e,n]=v.useState(null),[r,s]=v.useState(!0);return v.useEffect(()=>Op(o=>{n(o?{email:o.email}:null),s(!1)}),[]),r?d.jsx(Ix,{}):!e||e.email!=="sabir@gmail.com"?d.jsx(vP,{to:"/",replace:!0}):t}function jQ({children:t}){const[e,n]=v.useState(null),[r,s]=v.useState(!0);return v.useEffect(()=>Op(o=>{n(o?{email:o.email}:null),s(!1)}),[]),r?d.jsx(Ix,{}):e?t:d.jsx(vP,{to:"/",replace:!0})}function MQ(){const{pathname:t}=Ao();return X.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[t]),null}const OQ=()=>{const[t,e]=v.useState(!0);return v.useEffect(()=>{const n=setTimeout(()=>e(!1),500);return()=>clearTimeout(n)},[]),t?d.jsx(Ix,{}):d.jsx(A3,{client:kQ,children:d.jsx(jG,{children:d.jsxs(n3,{children:[d.jsx(Z4,{}),d.jsx(IL,{}),d.jsxs(EF,{children:[d.jsx(MQ,{}),d.jsxs(mF,{children:[d.jsx(qr,{path:"/",element:d.jsx(VG,{})}),d.jsx(qr,{path:"/courses",element:d.jsx(iQ,{})}),d.jsx(qr,{path:"/free-resources",element:d.jsx(PQ,{})}),d.jsx(qr,{path:"/course/:id",element:d.jsx(cQ,{})}),d.jsx(qr,{path:"/course/:id/learn",element:d.jsx(NQ,{})}),d.jsx(qr,{path:"/dashboard",element:d.jsx(DQ,{children:d.jsx(SQ,{})})}),d.jsx(qr,{path:"/profile",element:d.jsx(jQ,{children:d.jsx(CQ,{})})}),d.jsx(qr,{path:"*",element:d.jsx(uQ,{})})]})]})]})})})};FA(document.getElementById("root")).render(d.jsx(OQ,{}));
